
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for sofastats_lib">
      
      
      
      
        <link rel="prev" href="../output_gallery/">
      
      
        <link rel="next" href="../styles/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>API - sofastats</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#api-documentation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="sofastats" class="md-header__button md-logo" aria-label="sofastats" data-md-component="logo">
      
  <img src="../images/bunny_head_small.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            sofastats
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch between light and dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch between light and dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18V6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-2.69L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18V6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-2.69L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18V6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-2.69L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/grantps/sofastats_lib/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="sofastats" class="md-nav__button md-logo" aria-label="sofastats" data-md-component="logo">
      
  <img src="../images/bunny_head_small.svg" alt="logo">

    </a>
    sofastats
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/grantps/sofastats_lib/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    README
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../output_gallery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Output Gallery
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    API
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    API
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#common-data-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Data Types
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Data Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sorting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sorting
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sofastats.conf.main.SortOrder" class="md-nav__link">
    <span class="md-ellipsis">
      
        SortOrder
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SortOrder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.conf.main.SortOrder.CUSTOM" class="md-nav__link">
    <span class="md-ellipsis">
      
        CUSTOM
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.conf.main.SortOrder.DECREASING" class="md-nav__link">
    <span class="md-ellipsis">
      
        DECREASING
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.conf.main.SortOrder.INCREASING" class="md-nav__link">
    <span class="md-ellipsis">
      
        INCREASING
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.conf.main.SortOrder.VALUE" class="md-nav__link">
    <span class="md-ellipsis">
      
        VALUE
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Parameters
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sofastats.output.interfaces.CommonDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        CommonDesign
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CommonDesign">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.interfaces.CommonDesign.to_html_design" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_html_design
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.interfaces.CommonDesign.make_output" class="md-nav__link">
    <span class="md-ellipsis">
      
        make_output
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#charts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Charts
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Charts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#area-charts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Area Charts
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Area Charts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.area.AreaChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        AreaChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.area.MultiChartAreaChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        MultiChartAreaChartDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bar-charts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Bar Charts
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bar Charts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.bar.CommonBarDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        CommonBarDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.bar.SimpleBarChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        SimpleBarChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.bar.MultiChartBarChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        MultiChartBarChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.bar.ClusteredBarChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        ClusteredBarChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.bar.MultiChartClusteredBarChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        MultiChartClusteredBarChartDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#box-plots" class="md-nav__link">
    <span class="md-ellipsis">
      
        Box Plots
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Box Plots">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.box_plot.BoxplotChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        BoxplotChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.box_plot.ClusteredBoxplotChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        ClusteredBoxplotChartDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#histograms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Histograms
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Histograms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.histogram.HistogramChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        HistogramChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.histogram.MultiChartHistogramChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        MultiChartHistogramChartDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#line-charts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Line Charts
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Line Charts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.line.LineChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        LineChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.line.MultiChartLineChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        MultiChartLineChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.line.MultiLineChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        MultiLineChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.line.MultiChartMultiLineChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        MultiChartMultiLineChartDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pie-charts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pie Charts
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pie Charts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.pie.PieChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        PieChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.pie.MultiChartPieChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        MultiChartPieChartDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scatter-plots" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scatter Plots
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Scatter Plots">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.scatter_plot.SimpleScatterChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        SimpleScatterChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.scatter_plot.MultiChartScatterChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        MultiChartScatterChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.scatter_plot.BySeriesScatterChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        BySeriesScatterChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.scatter_plot.MultiChartBySeriesScatterChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        MultiChartBySeriesScatterChartDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tables
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.tables.interfaces.DimensionSpec" class="md-nav__link">
    <span class="md-ellipsis">
      
        DimensionSpec
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.tables.interfaces.Row" class="md-nav__link">
    <span class="md-ellipsis">
      
        Row
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.tables.interfaces.Column" class="md-nav__link">
    <span class="md-ellipsis">
      
        Column
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.tables.freq.FrequencyTableDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        FrequencyTableDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.tables.cross_tab.CrossTabDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        CrossTabDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#statistical-tests" class="md-nav__link">
    <span class="md-ellipsis">
      
        Statistical Tests
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Statistical Tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.stats.interfaces.CommonStatsDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        CommonStatsDesign
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CommonStatsDesign">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.stats.interfaces.CommonStatsDesign.to_result" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_result
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anova" class="md-nav__link">
    <span class="md-ellipsis">
      
        ANOVA
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ANOVA">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.stats.anova.AnovaDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        AnovaDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chi-square" class="md-nav__link">
    <span class="md-ellipsis">
      
        Chi Square
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chi Square">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.stats.chi_square.ChiSquareDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        ChiSquareDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kruskal-wallis-h" class="md-nav__link">
    <span class="md-ellipsis">
      
        Kruskal-Wallis H
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Kruskal-Wallis H">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.stats.kruskal_wallis_h.KruskalWallisHDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        KruskalWallisHDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mann-whitney-u" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mann-Whitney U
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Mann-Whitney U">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.stats.mann_whitney_u.MannWhitneyUDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        MannWhitneyUDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#normality" class="md-nav__link">
    <span class="md-ellipsis">
      
        Normality
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Normality">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.stats.normality.NormalityDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        NormalityDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pearsons-r-correlation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pearson's R Correlation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pearson&#39;s R Correlation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.stats.pearsons_r.PearsonsRDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        PearsonsRDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spearmans-r-correlation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Spearman's R Correlation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Spearman&#39;s R Correlation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.stats.spearmans_r.SpearmansRDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        SpearmansRDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#independent-samples-t-test" class="md-nav__link">
    <span class="md-ellipsis">
      
        Independent Samples T-Test
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Independent Samples T-Test">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.stats.independent_t_test.IndependentTTestDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        IndependentTTestDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wilcoxon-signed-ranks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Wilcoxon Signed Ranks
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Wilcoxon Signed Ranks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.stats.wilcoxon_signed_ranks.WilcoxonSignedRanksDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        WilcoxonSignedRanksDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../styles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Styles
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../data_prep/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Preparation
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#common-data-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Data Types
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Data Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sorting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sorting
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sofastats.conf.main.SortOrder" class="md-nav__link">
    <span class="md-ellipsis">
      
        SortOrder
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SortOrder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.conf.main.SortOrder.CUSTOM" class="md-nav__link">
    <span class="md-ellipsis">
      
        CUSTOM
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.conf.main.SortOrder.DECREASING" class="md-nav__link">
    <span class="md-ellipsis">
      
        DECREASING
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.conf.main.SortOrder.INCREASING" class="md-nav__link">
    <span class="md-ellipsis">
      
        INCREASING
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.conf.main.SortOrder.VALUE" class="md-nav__link">
    <span class="md-ellipsis">
      
        VALUE
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Parameters
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sofastats.output.interfaces.CommonDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        CommonDesign
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CommonDesign">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.interfaces.CommonDesign.to_html_design" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_html_design
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.interfaces.CommonDesign.make_output" class="md-nav__link">
    <span class="md-ellipsis">
      
        make_output
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#charts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Charts
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Charts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#area-charts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Area Charts
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Area Charts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.area.AreaChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        AreaChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.area.MultiChartAreaChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        MultiChartAreaChartDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bar-charts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Bar Charts
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bar Charts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.bar.CommonBarDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        CommonBarDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.bar.SimpleBarChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        SimpleBarChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.bar.MultiChartBarChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        MultiChartBarChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.bar.ClusteredBarChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        ClusteredBarChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.bar.MultiChartClusteredBarChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        MultiChartClusteredBarChartDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#box-plots" class="md-nav__link">
    <span class="md-ellipsis">
      
        Box Plots
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Box Plots">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.box_plot.BoxplotChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        BoxplotChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.box_plot.ClusteredBoxplotChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        ClusteredBoxplotChartDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#histograms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Histograms
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Histograms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.histogram.HistogramChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        HistogramChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.histogram.MultiChartHistogramChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        MultiChartHistogramChartDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#line-charts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Line Charts
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Line Charts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.line.LineChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        LineChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.line.MultiChartLineChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        MultiChartLineChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.line.MultiLineChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        MultiLineChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.line.MultiChartMultiLineChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        MultiChartMultiLineChartDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pie-charts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pie Charts
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pie Charts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.pie.PieChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        PieChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.pie.MultiChartPieChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        MultiChartPieChartDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scatter-plots" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scatter Plots
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Scatter Plots">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.scatter_plot.SimpleScatterChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        SimpleScatterChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.scatter_plot.MultiChartScatterChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        MultiChartScatterChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.scatter_plot.BySeriesScatterChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        BySeriesScatterChartDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.charts.scatter_plot.MultiChartBySeriesScatterChartDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        MultiChartBySeriesScatterChartDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tables
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.tables.interfaces.DimensionSpec" class="md-nav__link">
    <span class="md-ellipsis">
      
        DimensionSpec
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.tables.interfaces.Row" class="md-nav__link">
    <span class="md-ellipsis">
      
        Row
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.tables.interfaces.Column" class="md-nav__link">
    <span class="md-ellipsis">
      
        Column
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.tables.freq.FrequencyTableDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        FrequencyTableDesign
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sofastats.output.tables.cross_tab.CrossTabDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        CrossTabDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#statistical-tests" class="md-nav__link">
    <span class="md-ellipsis">
      
        Statistical Tests
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Statistical Tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.stats.interfaces.CommonStatsDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        CommonStatsDesign
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CommonStatsDesign">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.stats.interfaces.CommonStatsDesign.to_result" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_result
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anova" class="md-nav__link">
    <span class="md-ellipsis">
      
        ANOVA
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ANOVA">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.stats.anova.AnovaDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        AnovaDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chi-square" class="md-nav__link">
    <span class="md-ellipsis">
      
        Chi Square
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chi Square">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.stats.chi_square.ChiSquareDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        ChiSquareDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kruskal-wallis-h" class="md-nav__link">
    <span class="md-ellipsis">
      
        Kruskal-Wallis H
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Kruskal-Wallis H">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.stats.kruskal_wallis_h.KruskalWallisHDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        KruskalWallisHDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mann-whitney-u" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mann-Whitney U
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Mann-Whitney U">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.stats.mann_whitney_u.MannWhitneyUDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        MannWhitneyUDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#normality" class="md-nav__link">
    <span class="md-ellipsis">
      
        Normality
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Normality">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.stats.normality.NormalityDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        NormalityDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pearsons-r-correlation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pearson's R Correlation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pearson&#39;s R Correlation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.stats.pearsons_r.PearsonsRDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        PearsonsRDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spearmans-r-correlation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Spearman's R Correlation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Spearman&#39;s R Correlation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.stats.spearmans_r.SpearmansRDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        SpearmansRDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#independent-samples-t-test" class="md-nav__link">
    <span class="md-ellipsis">
      
        Independent Samples T-Test
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Independent Samples T-Test">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.stats.independent_t_test.IndependentTTestDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        IndependentTTestDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wilcoxon-signed-ranks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Wilcoxon Signed Ranks
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Wilcoxon Signed Ranks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sofastats.output.stats.wilcoxon_signed_ranks.WilcoxonSignedRanksDesign" class="md-nav__link">
    <span class="md-ellipsis">
      
        WilcoxonSignedRanksDesign
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="api-documentation">API Documentation</h1>
<p><img src="https://sofastats.github.io/sofastats_lib/images/sofa_logo_text_horiz.svg" width="500" /></p>
<h2 id="common-data-types">Common Data Types</h2>
<h3 id="sorting">Sorting</h3>
<p>All Designs allow you to control the sort order of values.</p>
<p>One of the options is CUSTOM sorting.
This is entirely optional but can be very useful.
For example, if you have the following values in the <code>Age Group</code> variable:</p>
<p>'&lt;20', '20-39', ... '80+'</p>
<p>you don't want the default alphabetical sorting by value. Otherwise '&lt;20' appears at the end.</p>
<p>If you want to supply a CUSTOM sort order,
all Design objects have <code>sort_orders</code> and <code>sort_orders_yaml_file_path</code> settings.
See <a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign"><code>CommonDesign</code></a> </p>


<div class="doc doc-object doc-class">



<h2 id="sofastats.conf.main.SortOrder" class="doc doc-heading">
            <code>sofastats.conf.main.SortOrder</code>


</h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.StrEnum">StrEnum</span></code></p>



        <p>Sort orders to apply.
Note - INCREASING &amp; DECREASING only apply to sorting at the final values level.
E.g. If 'Age Group' &gt; 'Handedness' &gt; 'Home Location Type' then only 'Home Location Type'
can potentially have sort order by frequency</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/conf/main.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">SortOrder</span><span class="p">(</span><span class="n">StrEnum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sort orders to apply.</span>
<span class="sd">    Note - INCREASING &amp; DECREASING only apply to sorting at the final values level.</span>
<span class="sd">    E.g. If &#39;Age Group&#39; &gt; &#39;Handedness&#39; &gt; &#39;Home Location Type&#39; then only &#39;Home Location Type&#39;</span>
<span class="sd">    can potentially have sort order by frequency</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">CUSTOM</span> <span class="o">=</span> <span class="s1">&#39;by custom order&#39;</span>
    <span class="s2">&quot;By custom order configured in YAML or dictionary for relevant variable&quot;</span>
    <span class="n">DECREASING</span> <span class="o">=</span> <span class="s1">&#39;by decreasing frequency&#39;</span>
    <span class="s2">&quot;By decreasing frequency&quot;</span>
    <span class="n">INCREASING</span> <span class="o">=</span> <span class="s1">&#39;by increasing frequency&#39;</span>
    <span class="s2">&quot;By increasing frequency&quot;</span>
    <span class="n">VALUE</span> <span class="o">=</span> <span class="s1">&#39;by value&#39;</span>
    <span class="s2">&quot;By value alphabetically sorted&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="sofastats.conf.main.SortOrder.CUSTOM" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">CUSTOM</span> <span class="o">=</span> <span class="s1">&#39;by custom order&#39;</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>By custom order configured in YAML or dictionary for relevant variable</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="sofastats.conf.main.SortOrder.DECREASING" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">DECREASING</span> <span class="o">=</span> <span class="s1">&#39;by decreasing frequency&#39;</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>By decreasing frequency</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="sofastats.conf.main.SortOrder.INCREASING" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">INCREASING</span> <span class="o">=</span> <span class="s1">&#39;by increasing frequency&#39;</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>By increasing frequency</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="sofastats.conf.main.SortOrder.VALUE" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">VALUE</span> <span class="o">=</span> <span class="s1">&#39;by value&#39;</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>By value alphabetically sorted</p>

    </div>

</div>






  </div>

    </div>

</div><h2 id="common-parameters">Common Parameters</h2>
<p>The parameters in <code>CommonDesign</code> are common to all<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> output design dataclasses:
</p>


<div class="doc doc-object doc-class">



<h2 id="sofastats.output.interfaces.CommonDesign" class="doc doc-heading">
            <code>sofastats.output.interfaces.CommonDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>



        <p>Output dataclasses (e.g. ClusteredBoxplotChartDesign) inherit from CommonDesign.
Can't have defaults in CommonDesign attributes (which go first) and then missing defaults for the output dataclasses.
Therefore, we are required to supply defaults for everything in the output dataclasses.
That includes mandatory fields.
So how do we ensure those mandatory field arguments are supplied.
We use a decorator (add_post_init_enforcing_mandatory_cols) to add a <strong>post_init</strong> handler
which runs CommonDesign.<strong>post_init</strong> and then enforces the supply of values for every attribute
which has DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>csv_file_path</code></b>
              (<code><span title="pathlib.Path">Path</span> | <span title="str">str</span> | None</code>, default:
                  <code>None</code>
)
          
          <div class="doc-md-description">
            <p>full file path to CSV file (if using CSV as source)</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>csv_separator</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code>&#39;,&#39;</code>
)
          
          <div class="doc-md-description">
            <p>CSV separator (if using CSV as source)</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>cur</code></b>
              (<code><span title="typing.Any">Any</span> | None</code>, default:
                  <code>None</code>
)
          
          <div class="doc-md-description">
            <p>dpapi2 cursor i.e. an object able to run cur.execute, <code>cur.fetchall()</code> etc. (if using a cursor as source)</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>database_engine_name</code></b>
              (<code><span title="sofastats.conf.main.DbeName">DbeName</span> | <span title="str">str</span> | None</code>, default:
                  <code>None</code>
)
          
          <div class="doc-md-description">
            <p>e.g. <code>DbeName.SQLITE</code> or 'sqlite' (if using a cursor as the source)</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>source_table_name</code></b>
              (<code><span title="str">str</span> | None</code>, default:
                  <code>None</code>
)
          
          <div class="doc-md-description">
            <p>source table name (if using the cursor as a source OR using the internal SOFA SQLite database)</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>table_filter_sql</code></b>
              (<code><span title="str">str</span> | None</code>, default:
                  <code>None</code>
)
          
          <div class="doc-md-description">
            <p>valid SQL to filter the source table as supplied in source_table_name -
must be in the appropriate SQL dialect and entities should be quoted appropriately as needed
e.g. SQLite requires backticks for field names with spaces such as `Age Group`.
You cannot filter a CSV. CSVs must already be in the form required for analysis.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>style_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code>&#39;default&#39;</code>
)
          
          <div class="doc-md-description">
            <p>e.g. 'default'. Either one of the built-in styles under <code>sofastats.output.styles</code>
or a custom style defined by YAML in the custom_styles subfolder of the sofastats local folder
e.g. <code>~/Documents/sofastats/custom_styles</code></p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>output_file_path</code></b>
              (<code><span title="pathlib.Path">Path</span> | <span title="str">str</span> | None</code>, default:
                  <code>None</code>
)
          
          <div class="doc-md-description">
            <p>full path to folder where output HTML will be generated.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>output_title</code></b>
              (<code><span title="str">str</span> | None</code>, default:
                  <code>None</code>
)
          
          <div class="doc-md-description">
            <p>the title the HTML output will display in a web browser</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_in_web_browser</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>True</code>
)
          
          <div class="doc-md-description">
            <p>if <code>True</code> will open a tab in your default browser to display the output file generated</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>sort_orders</code></b>
              (<code><span title="sofastats.conf.main.SortOrderSpecs">SortOrderSpecs</span> | None</code>, default:
                  <code>None</code>
)
          
          <div class="doc-md-description">
            <p>if supplied, a dictionary that provides the sort orders for any variables given a custom sort order
(<code>SortOrder.CUSTOM</code>). Multiple sort orders can be defined - with each variable given a custom sort order
being a key in the dictionary. Example:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="n">Age</span> <span class="n">Group</span><span class="p">:</span> <span class="p">[</span>
        <span class="s1">&#39;&lt;20&#39;</span><span class="p">,</span>
        <span class="s1">&#39;20 to &lt;30&#39;</span><span class="p">,</span> <span class="s1">&#39;30 to &lt;40&#39;</span><span class="p">,</span> <span class="s1">&#39;40 to &lt;50&#39;</span><span class="p">,</span>
        <span class="s1">&#39;50 to &lt;60&#39;</span><span class="p">,</span> <span class="s1">&#39;60 to &lt;70&#39;</span><span class="p">,</span> <span class="s1">&#39;70 to &lt;80&#39;</span><span class="p">,</span>
        <span class="s1">&#39;80+&#39;</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>If the sort order applied was <code>SortOrder.VALUES</code>, we would see '&lt;20' appearing as the last value
by alphabetical order. If a custom order is defined, every value must appear in the list defining the
desired sequence.
Don't supply both <code>sort_orders</code> and <code>sort_orders_yaml_file_path</code>.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>sort_orders_yaml_file_path</code></b>
              (<code><span title="pathlib.Path">Path</span> | <span title="str">str</span> | None</code>, default:
                  <code>None</code>
)
          
          <div class="doc-md-description">
            <p>file path containing YAML defining custom sort orders. See structure and effect as
discussed under <code>sort_orders</code>. Don't supply both <code>sort_orders</code> and <code>sort_orders_yaml_file_path</code>.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>decimal_points</code></b>
              (<code><span title="int">int</span></code>, default:
                  <code>3</code>
)
          
          <div class="doc-md-description">
            <p>defines the maximum number of decimal points displayed.
If set to 3, for example, 1.23456789 will be displayed as 1.235. 1.320000000 will be displayed as 1.32, and
1.60000000 as 1.6.</p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/interfaces.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">CommonDesign</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Output dataclasses (e.g. ClusteredBoxplotChartDesign) inherit from CommonDesign.</span>
<span class="sd">    Can&#39;t have defaults in CommonDesign attributes (which go first) and then missing defaults for the output dataclasses.</span>
<span class="sd">    Therefore, we are required to supply defaults for everything in the output dataclasses.</span>
<span class="sd">    That includes mandatory fields.</span>
<span class="sd">    So how do we ensure those mandatory field arguments are supplied.</span>
<span class="sd">    We use a decorator (add_post_init_enforcing_mandatory_cols) to add a __post_init__ handler</span>
<span class="sd">    which runs CommonDesign.__post_init__ and then enforces the supply of values for every attribute</span>
<span class="sd">    which has DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY.</span>

<span class="sd">    Args:</span>
<span class="sd">        csv_file_path: full file path to CSV file (if using CSV as source)</span>
<span class="sd">        csv_separator: CSV separator (if using CSV as source)</span>
<span class="sd">        cur: dpapi2 cursor i.e. an object able to run cur.execute, `cur.fetchall()` etc. (if using a cursor as source)</span>
<span class="sd">        database_engine_name: e.g. `DbeName.SQLITE` or &#39;sqlite&#39; (if using a cursor as the source)</span>
<span class="sd">        source_table_name: source table name (if using the cursor as a source OR using the internal SOFA SQLite database)</span>
<span class="sd">        table_filter_sql: valid SQL to filter the source table as supplied in source_table_name -</span>
<span class="sd">            must be in the appropriate SQL dialect and entities should be quoted appropriately as needed</span>
<span class="sd">            e.g. SQLite requires backticks for field names with spaces such as \`Age Group\`.</span>
<span class="sd">            You cannot filter a CSV. CSVs must already be in the form required for analysis.</span>
<span class="sd">        style_name: e.g. &#39;default&#39;. Either one of the built-in styles under `sofastats.output.styles`</span>
<span class="sd">            or a custom style defined by YAML in the custom_styles subfolder of the sofastats local folder</span>
<span class="sd">            e.g. `~/Documents/sofastats/custom_styles`</span>
<span class="sd">        output_file_path: full path to folder where output HTML will be generated.</span>
<span class="sd">        output_title: the title the HTML output will display in a web browser</span>
<span class="sd">        show_in_web_browser: if `True` will open a tab in your default browser to display the output file generated</span>
<span class="sd">        sort_orders: if supplied, a dictionary that provides the sort orders for any variables given a custom sort order</span>
<span class="sd">            (`SortOrder.CUSTOM`). Multiple sort orders can be defined - with each variable given a custom sort order</span>
<span class="sd">            being a key in the dictionary. Example:</span>

<span class="sd">            ```python</span>
<span class="sd">            {</span>
<span class="sd">                Age Group: [</span>
<span class="sd">                    &#39;&lt;20&#39;,</span>
<span class="sd">                    &#39;20 to &lt;30&#39;, &#39;30 to &lt;40&#39;, &#39;40 to &lt;50&#39;,</span>
<span class="sd">                    &#39;50 to &lt;60&#39;, &#39;60 to &lt;70&#39;, &#39;70 to &lt;80&#39;,</span>
<span class="sd">                    &#39;80+&#39;,</span>
<span class="sd">                ]</span>
<span class="sd">            }</span>
<span class="sd">            ```</span>

<span class="sd">            If the sort order applied was `SortOrder.VALUES`, we would see &#39;&lt;20&#39; appearing as the last value</span>
<span class="sd">            by alphabetical order. If a custom order is defined, every value must appear in the list defining the</span>
<span class="sd">            desired sequence.</span>
<span class="sd">            Don&#39;t supply both `sort_orders` and `sort_orders_yaml_file_path`.</span>
<span class="sd">        sort_orders_yaml_file_path: file path containing YAML defining custom sort orders. See structure and effect as</span>
<span class="sd">            discussed under `sort_orders`. Don&#39;t supply both `sort_orders` and `sort_orders_yaml_file_path`.</span>
<span class="sd">        decimal_points: defines the maximum number of decimal points displayed.</span>
<span class="sd">            If set to 3, for example, 1.23456789 will be displayed as 1.235. 1.320000000 will be displayed as 1.32, and</span>
<span class="sd">            1.60000000 as 1.6.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1">## inputs ***********************************</span>
    <span class="n">csv_file_path</span><span class="p">:</span> <span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">csv_separator</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span>
    <span class="n">cur</span><span class="p">:</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">database_engine_name</span><span class="p">:</span> <span class="n">DbeName</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">source_table_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">table_filter_sql</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1">## outputs **********************************</span>
    <span class="n">style_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;default&#39;</span>
    <span class="n">output_file_path</span><span class="p">:</span> <span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">output_title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">show_in_web_browser</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">sort_orders</span><span class="p">:</span> <span class="n">SortOrderSpecs</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">sort_orders_yaml_file_path</span><span class="p">:</span> <span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">decimal_points</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        From the design produce the HTML to display as one of the attributes of the HTMLItemSpec.</span>
<span class="sd">        Also return the style name and output item type e.g. whether a chart, table, or statistical output</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_inputs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        There are three main paths for specific data values to be supplied to the design:</span>

<span class="sd">        1. CSV - data will be ingested into internal sofastats SQLite database</span>
<span class="sd">        (`source_table_name` optional - later analyses might be referring to that ingested table</span>
<span class="sd">        so nice to let user choose the name)</span>
<span class="sd">        2. `cur`, `database_engine_name`, and `source_table_name`</span>
<span class="sd">        3. or just a `source_table_name` (assumed to be using internal sofastats SQLite database)</span>

<span class="sd">        Any supplied cursors are &quot;wrapped&quot; inside an `ExtendedCursor` so we can use `.exe()` instead of `.execute()`</span>
<span class="sd">        and to provide better error messages on query failure.</span>

<span class="sd">        Client code supplies `database_engine_name` rather than dbe_spec for simplicity but internally</span>
<span class="sd">        `CommonDesign` supplies all code that inherits from it a `dbe_spec` attribute ready to use.</span>

<span class="sd">        Settings are validated e.g. to prevent client code supplying both CSV settings and database settings.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">csv_file_path</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cur</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">database_engine_name</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;If supplying a CSV path don&#39;t also supply database requirements&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">csv_separator</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">csv_separator</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">SQLITE_DB</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;sqlite_default_cur&#39;</span><span class="p">):</span>
                <span class="n">SQLITE_DB</span><span class="p">[</span><span class="s1">&#39;sqlite_default_con&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sqlite</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">INTERNAL_DATABASE_FPATH</span><span class="p">)</span>
                <span class="n">SQLITE_DB</span><span class="p">[</span><span class="s1">&#39;sqlite_default_cur&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ExtendedCursor</span><span class="p">(</span><span class="n">SQLITE_DB</span><span class="p">[</span><span class="s1">&#39;sqlite_default_con&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">cursor</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cur</span> <span class="o">=</span> <span class="n">SQLITE_DB</span><span class="p">[</span><span class="s1">&#39;sqlite_default_cur&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span> <span class="o">=</span> <span class="n">get_dbe_spec</span><span class="p">(</span><span class="n">DbeName</span><span class="o">.</span><span class="n">SQLITE</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span> <span class="o">=</span> <span class="n">get_safer_name</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">csv_file_path</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="p">)</span>
            <span class="c1">## ingest CSV into database</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">csv_file_path</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">csv_separator</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">df</span><span class="o">.</span><span class="n">to_sql</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span> <span class="n">SQLITE_DB</span><span class="p">[</span><span class="s1">&#39;sqlite_default_con&#39;</span><span class="p">],</span> <span class="n">if_exists</span><span class="o">=</span><span class="s1">&#39;replace&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>  <span class="c1">## TODO: supply more specific exception</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed at attempt to ingest CSV from &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">csv_file_path</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;into internal pysofa SQLite database as table &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="si">}</span><span class="s2">&#39;.</span><span class="se">\n</span><span class="s2">Error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Successfully ingested CSV from &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">csv_file_path</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;into internal pysofa SQLite database as table &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cur</span> <span class="o">=</span> <span class="n">ExtendedCursor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">database_engine_name</span><span class="p">:</span>
                <span class="n">supported_names</span> <span class="o">=</span> <span class="s1">&#39;&quot;&#39;</span> <span class="o">+</span> <span class="s1">&#39;&quot;, &quot;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">name</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">DbeName</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;When supplying a cursor, a database_engine_name must also be supplied. &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;Supported names currently are: </span><span class="si">{</span><span class="n">supported_names</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span> <span class="o">=</span> <span class="n">get_dbe_spec</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">database_engine_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;When supplying a cursor, a source_table_name must also be supplied&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">SQLITE_DB</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;sqlite_default_cur&#39;</span><span class="p">):</span>
                <span class="n">SQLITE_DB</span><span class="p">[</span><span class="s1">&#39;sqlite_default_con&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sqlite</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">INTERNAL_DATABASE_FPATH</span><span class="p">)</span>
                <span class="n">SQLITE_DB</span><span class="p">[</span><span class="s1">&#39;sqlite_default_cur&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ExtendedCursor</span><span class="p">(</span><span class="n">SQLITE_DB</span><span class="p">[</span><span class="s1">&#39;sqlite_default_con&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">cursor</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cur</span> <span class="o">=</span> <span class="n">SQLITE_DB</span><span class="p">[</span><span class="s1">&#39;sqlite_default_cur&#39;</span><span class="p">]</span>  <span class="c1">## not already set if in the third path - will have gone down first</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">database_engine_name</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">database_engine_name</span> <span class="o">!=</span> <span class="n">DbeName</span><span class="o">.</span><span class="n">SQLITE</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;If not supplying a csv_file_path, or a cursor, the only permitted database engine is &quot;</span>
                    <span class="s2">&quot;SQLite (the dbe of the internal sofastats SQLite database)&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span> <span class="o">=</span> <span class="n">get_dbe_spec</span><span class="p">(</span><span class="n">DbeName</span><span class="o">.</span><span class="n">SQLITE</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Either supply a path to a CSV &quot;</span>
                <span class="s2">&quot;(optional tbl_name for when ingested into internal sofastats SQLite database), &quot;</span>
                <span class="s2">&quot;a cursor (with dbe_name and tbl_name), &quot;</span>
                <span class="s2">&quot;or a tbl_name (data assumed to be in internal sofastats SQLite database)&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_outputs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validate configuration and provide sane defaults for `output_title` and `output_file_path` if nothing set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1">## output file path and title</span>
        <span class="n">nice_name</span> <span class="o">=</span> <span class="s1">&#39;_&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__module__</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">2</span><span class="p">:])</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;_</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_file_path</span><span class="p">:</span>
            <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y_%m_</span><span class="si">%d</span><span class="s1">_%H_%M_%S&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">output_file_path</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">nice_name</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">now</span><span class="si">}</span><span class="s2">.html&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">output_title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">nice_name</span><span class="si">}</span><span class="s2"> Output&quot;</span>
        <span class="c1">## sort orders</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sort_orders_yaml_file_path</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Oops - it looks like you supplied settings for both sort_orders &quot;</span>
                    <span class="s2">&quot;and sort_orders_yaml_file_path. Please set one or both of them to None.&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">sort_orders_yaml_file_path</span><span class="p">:</span>
            <span class="n">yaml</span> <span class="o">=</span> <span class="n">YAML</span><span class="p">(</span><span class="n">typ</span><span class="o">=</span><span class="s1">&#39;safe&#39;</span><span class="p">)</span>  <span class="c1">## default, if not specified, is &#39;rt&#39; (round-trip)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sort_orders_yaml_file_path</span><span class="p">))</span>  <span class="c1">## might be a str or Path so make sure</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_handle_inputs</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_handle_outputs</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="o">==</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span><span class="p">:</span>
                <span class="c1">## raise a friendly error for when they didn&#39;t supply a mandatory field that technically had a default (DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY), but we want to insist they supply a real value</span>
                <span class="n">client_module</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__module__</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">nice_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">client_module</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span>  <span class="c1">## e.g. anova.AnovaDesign</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Oops - you need to supply a value for </span><span class="si">{</span><span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> in your </span><span class="si">{</span><span class="n">nice_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__repr_html__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__str__</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">make_output</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Produce HTML output, e.g. charts and numerical results, save to `output_file_path`,</span>
<span class="sd">        and open in web browser if `show_in_web_browser=True`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">to_html_design</span><span class="p">()</span><span class="o">.</span><span class="n">to_file</span><span class="p">(</span><span class="n">fpath</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_file_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_in_web_browser</span><span class="p">:</span>
            <span class="n">open_new_tab</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;file://</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="sofastats.output.interfaces.CommonDesign.to_html_design" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_html_design</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>From the design produce the HTML to display as one of the attributes of the HTMLItemSpec.
Also return the style name and output item type e.g. whether a chart, table, or statistical output</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/sofastats/output/interfaces.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    From the design produce the HTML to display as one of the attributes of the HTMLItemSpec.</span>
<span class="sd">    Also return the style name and output item type e.g. whether a chart, table, or statistical output</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sofastats.output.interfaces.CommonDesign.make_output" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">make_output</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Produce HTML output, e.g. charts and numerical results, save to <code>output_file_path</code>,
and open in web browser if <code>show_in_web_browser=True</code>.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/sofastats/output/interfaces.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">make_output</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Produce HTML output, e.g. charts and numerical results, save to `output_file_path`,</span>
<span class="sd">    and open in web browser if `show_in_web_browser=True`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">to_html_design</span><span class="p">()</span><span class="o">.</span><span class="n">to_file</span><span class="p">(</span><span class="n">fpath</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_file_path</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_in_web_browser</span><span class="p">:</span>
        <span class="n">open_new_tab</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;file://</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h2 id="charts">Charts</h2>
<h3 id="area-charts">Area Charts</h3>
<p>See <a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign"><code>CommonDesign</code></a>
for the parameters common to all output design dataclasses in sofastats - for example, <code>style_name</code>.</p>
<p>See <a class="autorefs autorefs-internal" title="sofastats.output.charts.area.AreaChartDesign


  
      dataclass
  " href="#sofastats.output.charts.area.AreaChartDesign"><code>AreaChartDesign</code></a> for the parameters
configuring individual area chart designs.</p>


<div class="doc doc-object doc-class">



<h4 id="sofastats.output.charts.area.AreaChartDesign" class="doc doc-heading">
            <code>sofastats.output.charts.area.AreaChartDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign">CommonDesign</a></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>category_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>name of field in the x-axis</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>category_sort_order</code></b>
              (<code><a class="autorefs autorefs-internal" title="sofastats.conf.main.SortOrder" href="#sofastats.conf.main.SortOrder">SortOrder</a> | <span title="str">str</span></code>, default:
                  <code><a class="autorefs autorefs-internal" title="VALUE = 'by value'

  
      class-attribute
      instance-attribute
   (sofastats.conf.main.SortOrder.VALUE)" href="#sofastats.conf.main.SortOrder.VALUE">VALUE</a></code>
)
          
          <div class="doc-md-description">
            <p>define order of categories in each chart e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>is_time_series</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>False</code>
)
          
          <div class="doc-md-description">
            <p>space x-axis labels according to time e.g. there might be variable gaps between items</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_major_ticks_only</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>True</code>
)
          
          <div class="doc-md-description">
            <p>suppress minor ticks</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_markers</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>True</code>
)
          
          <div class="doc-md-description">
            <p>show markers on the line bounding the area</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>rotate_x_labels</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>False</code>
)
          
          <div class="doc-md-description">
            <p>make x-axis labels vertical</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_n_records</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>True</code>
)
          
          <div class="doc-md-description">
            <p>show the number of records the chart is based on</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>x_axis_font_size</code></b>
              (<code><span title="int">int</span></code>, default:
                  <code>12</code>
)
          
          <div class="doc-md-description">
            <p>font size for x-axis labels</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>y_axis_title</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code>&#39;Freq&#39;</code>
)
          
          <div class="doc-md-description">
            <p>title displayed vertically alongside y-axis</p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/charts/area.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">AreaChartDesign</span><span class="p">(</span><span class="n">CommonDesign</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        category_field_name: name of field in the x-axis</span>
<span class="sd">        category_sort_order: define order of categories in each chart e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`</span>
<span class="sd">        is_time_series: space x-axis labels according to time e.g. there might be variable gaps between items</span>
<span class="sd">        show_major_ticks_only: suppress minor ticks</span>
<span class="sd">        show_markers: show markers on the line bounding the area</span>
<span class="sd">        rotate_x_labels: make x-axis labels vertical</span>
<span class="sd">        show_n_records: show the number of records the chart is based on</span>
<span class="sd">        x_axis_font_size: font size for x-axis labels</span>
<span class="sd">        y_axis_title: title displayed vertically alongside y-axis</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">category_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">category_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>

    <span class="n">is_time_series</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_major_ticks_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">show_markers</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">rotate_x_labels</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_n_records</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">x_axis_font_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">12</span>
    <span class="n">y_axis_title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;Freq&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1"># style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">intermediate_charting_spec</span> <span class="o">=</span> <span class="n">get_by_category_charting_spec</span><span class="p">(</span>
            <span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">category_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span>
            <span class="n">sort_orders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span><span class="p">,</span>
            <span class="n">category_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_sort_order</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">,</span>
            <span class="n">decimal_points</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">decimal_points</span><span class="p">)</span>
        <span class="c1">## chart details</span>
        <span class="n">charting_spec</span> <span class="o">=</span> <span class="n">AreaChartingSpec</span><span class="p">(</span>
            <span class="n">categories</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">sorted_category_vals</span><span class="p">,</span>
            <span class="n">indiv_chart_specs</span><span class="o">=</span><span class="p">[</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">to_indiv_chart_spec</span><span class="p">(),</span> <span class="p">],</span>
            <span class="n">series_legend_label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">rotate_x_labels</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rotate_x_labels</span><span class="p">,</span>
            <span class="n">show_n_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_n_records</span><span class="p">,</span>
            <span class="n">is_time_series</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">is_time_series</span><span class="p">,</span>
            <span class="n">show_major_ticks_only</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_major_ticks_only</span><span class="p">,</span>
            <span class="n">show_markers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_markers</span><span class="p">,</span>
            <span class="n">x_axis_font_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x_axis_font_size</span><span class="p">,</span>
            <span class="n">x_axis_title</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span>
            <span class="n">y_axis_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y_axis_title</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1">## output</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">charting_spec</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">CHART</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="sofastats.output.charts.area.MultiChartAreaChartDesign" class="doc doc-heading">
            <code>sofastats.output.charts.area.MultiChartAreaChartDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign">CommonDesign</a></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>chart_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the field name defining the charts e.g. a <code>chart_field_name</code> of 'Country'
 might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>chart_sort_order</code></b>
              (<code><a class="autorefs autorefs-internal" title="sofastats.conf.main.SortOrder" href="#sofastats.conf.main.SortOrder">SortOrder</a> | <span title="str">str</span></code>, default:
                  <code><a class="autorefs autorefs-internal" title="VALUE = 'by value'

  
      class-attribute
      instance-attribute
   (sofastats.conf.main.SortOrder.VALUE)" href="#sofastats.conf.main.SortOrder.VALUE">VALUE</a></code>
)
          
          <div class="doc-md-description">
            <p>define order of charts e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/charts/area.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MultiChartAreaChartDesign</span><span class="p">(</span><span class="n">CommonDesign</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        chart_field_name: the field name defining the charts e.g. a `chart_field_name` of &#39;Country&#39;</span>
<span class="sd">             might separate generate charts for &#39;USA&#39;, &#39;NZ&#39;, &#39;Denmark&#39;, and &#39;South Korea&#39;.</span>
<span class="sd">        chart_sort_order: define order of charts e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">category_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">category_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>
    <span class="n">chart_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">chart_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>

    <span class="n">is_time_series</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_major_ticks_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">show_markers</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">rotate_x_labels</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_n_records</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">x_axis_font_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">12</span>
    <span class="n">y_axis_title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;Freq&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1"># style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">intermediate_charting_spec</span> <span class="o">=</span> <span class="n">get_by_chart_category_charting_spec</span><span class="p">(</span>
            <span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">category_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span>
            <span class="n">chart_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">chart_field_name</span><span class="p">,</span>
            <span class="n">sort_orders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span><span class="p">,</span>
            <span class="n">category_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_sort_order</span><span class="p">,</span> <span class="n">chart_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_sort_order</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">,</span> <span class="n">decimal_points</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">decimal_points</span><span class="p">)</span>
        <span class="c1">## chart details</span>
        <span class="n">charting_spec</span> <span class="o">=</span> <span class="n">AreaChartingSpec</span><span class="p">(</span>
            <span class="n">categories</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">sorted_category_vals</span><span class="p">,</span>
            <span class="n">indiv_chart_specs</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">to_indiv_chart_specs</span><span class="p">(),</span>
            <span class="n">series_legend_label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">rotate_x_labels</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rotate_x_labels</span><span class="p">,</span>
            <span class="n">show_n_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_n_records</span><span class="p">,</span>
            <span class="n">is_time_series</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">is_time_series</span><span class="p">,</span>
            <span class="n">show_major_ticks_only</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_major_ticks_only</span><span class="p">,</span>
            <span class="n">show_markers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_markers</span><span class="p">,</span>
            <span class="n">x_axis_font_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x_axis_font_size</span><span class="p">,</span>
            <span class="n">x_axis_title</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span>
            <span class="n">y_axis_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y_axis_title</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1">## output</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">charting_spec</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">CHART</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div><h3 id="bar-charts">Bar Charts</h3>
<p>See <a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign"><code>CommonDesign</code></a>
for the parameters common to all output design dataclasses in sofastats - for example, <code>style_name</code>.</p>
<p>See <a class="autorefs autorefs-internal" title="sofastats.output.charts.bar.SimpleBarChartDesign


  
      dataclass
  " href="#sofastats.output.charts.bar.SimpleBarChartDesign"><code>SimpleBarChartDesign</code></a> for the parameters
configuring individual bar chart designs.</p>


<div class="doc doc-object doc-class">



<h4 id="sofastats.output.charts.bar.CommonBarDesign" class="doc doc-heading">
            <code>sofastats.output.charts.bar.CommonBarDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign">CommonDesign</a></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>metric</code></b>
              (<code><span title="sofastats.conf.main.ChartMetric">ChartMetric</span></code>, default:
                  <code><span title="sofastats.conf.main.ChartMetric.FREQ">FREQ</span></code>
)
          
          <div class="doc-md-description">
            <p>defines what bar heights represent - whether ChartMetric.FREQ, ChartMetric.PCT, etc.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>field_name</code></b>
              (<code><span title="str">str</span> | None</code>, default:
                  <code>None</code>
)
          
          <div class="doc-md-description">
            <p>the name of the field being aggregated when the metric is an aggregate
e.g. ChartMetric.AVG or ChartMetric.SUM</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>y_axis_title</code></b>
              (<code><span title="str">str</span> | None</code>, default:
                  <code>None</code>
)
          
          <div class="doc-md-description">
            <p>title displayed vertically alongside y-axis</p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/charts/bar.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">CommonBarDesign</span><span class="p">(</span><span class="n">CommonDesign</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        metric: defines what bar heights represent - whether ChartMetric.FREQ, ChartMetric.PCT, etc.</span>
<span class="sd">        field_name: the name of the field being aggregated when the metric is an aggregate</span>
<span class="sd">            e.g. ChartMetric.AVG or ChartMetric.SUM</span>
<span class="sd">        y_axis_title: title displayed vertically alongside y-axis</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">metric</span><span class="p">:</span> <span class="n">ChartMetric</span> <span class="o">=</span> <span class="n">ChartMetric</span><span class="o">.</span><span class="n">FREQ</span>
    <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">y_axis_title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__post_init__</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_axis_title</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1">##TODO - no field name unless aggregating</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">metric</span> <span class="o">==</span> <span class="n">ChartMetric</span><span class="o">.</span><span class="n">AVG</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">y_axis_title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Average </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">metric</span> <span class="o">==</span> <span class="n">ChartMetric</span><span class="o">.</span><span class="n">FREQ</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">y_axis_title</span> <span class="o">=</span> <span class="s1">&#39;Frequency&#39;</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">metric</span> <span class="o">==</span> <span class="n">ChartMetric</span><span class="o">.</span><span class="n">PCT</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">y_axis_title</span> <span class="o">=</span> <span class="s1">&#39;Percent&#39;</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">metric</span> <span class="o">==</span> <span class="n">ChartMetric</span><span class="o">.</span><span class="n">SUM</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">y_axis_title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Summed </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Metric </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">metric</span><span class="si">}</span><span class="s1"> is not supported.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">metric</span> <span class="ow">in</span> <span class="p">(</span><span class="n">ChartMetric</span><span class="o">.</span><span class="n">AVG</span><span class="p">,</span> <span class="n">ChartMetric</span><span class="o">.</span><span class="n">SUM</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;A field_name must be set if the metric aggregates &quot;</span>
                    <span class="s2">&quot;e.g. ChartMetric.AVG or ChartMetric.SUM&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">metric</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="n">ChartMetric</span><span class="o">.</span><span class="n">AVG</span><span class="p">,</span> <span class="n">ChartMetric</span><span class="o">.</span><span class="n">SUM</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;A field_name should only be supplied if the metric aggregates &quot;</span>
                    <span class="s2">&quot;e.g. ChartMetric.AVG or ChartMetric.SUM&quot;</span><span class="p">)</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="sofastats.output.charts.bar.SimpleBarChartDesign" class="doc doc-heading">
            <code>sofastats.output.charts.bar.SimpleBarChartDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.charts.bar.CommonBarDesign


  
      dataclass
  " href="#sofastats.output.charts.bar.CommonBarDesign">CommonBarDesign</a></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>category_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>name of field in the x-axis</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>category_sort_order</code></b>
              (<code><a class="autorefs autorefs-internal" title="sofastats.conf.main.SortOrder" href="#sofastats.conf.main.SortOrder">SortOrder</a></code>, default:
                  <code><a class="autorefs autorefs-internal" title="VALUE = 'by value'

  
      class-attribute
      instance-attribute
   (sofastats.conf.main.SortOrder.VALUE)" href="#sofastats.conf.main.SortOrder.VALUE">VALUE</a></code>
)
          
          <div class="doc-md-description">
            <p>define order of categories in each chart e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>rotate_x_labels</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>False</code>
)
          
          <div class="doc-md-description">
            <p>make x-axis labels vertical</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_borders</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>False</code>
)
          
          <div class="doc-md-description">
            <p>show a coloured border around the bars</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_n_records</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>True</code>
)
          
          <div class="doc-md-description">
            <p>show the number of records the chart is based on</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>x_axis_font_size</code></b>
              (<code><span title="int">int</span></code>, default:
                  <code>12</code>
)
          
          <div class="doc-md-description">
            <p>font size for x-axis labels</p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/charts/bar.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">SimpleBarChartDesign</span><span class="p">(</span><span class="n">CommonBarDesign</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        category_field_name: name of field in the x-axis</span>
<span class="sd">        category_sort_order: define order of categories in each chart e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`</span>
<span class="sd">        rotate_x_labels: make x-axis labels vertical</span>
<span class="sd">        show_borders: show a coloured border around the bars</span>
<span class="sd">        show_n_records: show the number of records the chart is based on</span>
<span class="sd">        x_axis_font_size: font size for x-axis labels</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">category_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">category_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>

    <span class="n">rotate_x_labels</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_borders</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_n_records</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">x_axis_font_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">12</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1">## style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">intermediate_charting_spec</span> <span class="o">=</span> <span class="n">from_data</span><span class="o">.</span><span class="n">get_by_category_charting_spec</span><span class="p">(</span>
            <span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">category_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span> <span class="n">sort_orders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span><span class="p">,</span>
            <span class="n">category_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_sort_order</span><span class="p">,</span>
            <span class="n">metric</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">metric</span><span class="p">,</span> <span class="n">field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">field_name</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">,</span> <span class="n">decimal_points</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">decimal_points</span><span class="p">)</span>
        <span class="c1">## chart details</span>
        <span class="n">charting_spec</span> <span class="o">=</span> <span class="n">BarChartingSpec</span><span class="p">(</span>
            <span class="n">categories</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">sorted_category_vals</span><span class="p">,</span>
            <span class="n">indiv_chart_specs</span><span class="o">=</span><span class="p">[</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">to_indiv_chart_spec</span><span class="p">(),</span> <span class="p">],</span>
            <span class="n">series_legend_label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">rotate_x_labels</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rotate_x_labels</span><span class="p">,</span>
            <span class="n">show_borders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_borders</span><span class="p">,</span>
            <span class="n">border_width</span><span class="o">=</span><span class="n">style_spec</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">border_width</span><span class="p">,</span>
            <span class="n">show_n_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_n_records</span><span class="p">,</span>
            <span class="n">x_axis_font_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x_axis_font_size</span><span class="p">,</span>
            <span class="n">x_axis_title</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span>
            <span class="n">y_axis_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y_axis_title</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1">## output</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">charting_spec</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>  <span class="c1">## see get_indiv_chart_html() below</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">CHART</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="sofastats.output.charts.bar.MultiChartBarChartDesign" class="doc doc-heading">
            <code>sofastats.output.charts.bar.MultiChartBarChartDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.charts.bar.CommonBarDesign


  
      dataclass
  " href="#sofastats.output.charts.bar.CommonBarDesign">CommonBarDesign</a></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>chart_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the field name defining the charts e.g. a <code>chart_field_name</code> of 'Country'
might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>chart_sort_order</code></b>
              (<code><a class="autorefs autorefs-internal" title="sofastats.conf.main.SortOrder" href="#sofastats.conf.main.SortOrder">SortOrder</a></code>, default:
                  <code><a class="autorefs autorefs-internal" title="VALUE = 'by value'

  
      class-attribute
      instance-attribute
   (sofastats.conf.main.SortOrder.VALUE)" href="#sofastats.conf.main.SortOrder.VALUE">VALUE</a></code>
)
          
          <div class="doc-md-description">
            <p>define order of charts e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/charts/bar.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MultiChartBarChartDesign</span><span class="p">(</span><span class="n">CommonBarDesign</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        chart_field_name: the field name defining the charts e.g. a `chart_field_name` of &#39;Country&#39;</span>
<span class="sd">            might separate generate charts for &#39;USA&#39;, &#39;NZ&#39;, &#39;Denmark&#39;, and &#39;South Korea&#39;.</span>
<span class="sd">        chart_sort_order: define order of charts e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">category_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">category_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>
    <span class="n">chart_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">chart_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>

    <span class="n">metric</span><span class="p">:</span> <span class="n">ChartMetric</span> <span class="o">=</span> <span class="n">ChartMetric</span><span class="o">.</span><span class="n">FREQ</span>
    <span class="n">rotate_x_labels</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_borders</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_n_records</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">x_axis_font_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">12</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1"># style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">intermediate_charting_spec</span> <span class="o">=</span> <span class="n">from_data</span><span class="o">.</span><span class="n">get_by_chart_category_charting_spec</span><span class="p">(</span>
            <span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">category_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span> <span class="n">chart_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">chart_field_name</span><span class="p">,</span>
            <span class="n">sort_orders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span><span class="p">,</span>
            <span class="n">category_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_sort_order</span><span class="p">,</span> <span class="n">chart_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">chart_sort_order</span><span class="p">,</span>
            <span class="n">metric</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">metric</span><span class="p">,</span> <span class="n">field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">field_name</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">,</span> <span class="n">decimal_points</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">decimal_points</span><span class="p">)</span>
        <span class="c1">## charts details</span>
        <span class="n">charting_spec</span> <span class="o">=</span> <span class="n">BarChartingSpec</span><span class="p">(</span>
            <span class="n">border_width</span><span class="o">=</span><span class="n">style_spec</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">border_width</span><span class="p">,</span>
            <span class="n">categories</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">sorted_category_vals</span><span class="p">,</span>
            <span class="n">indiv_chart_specs</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">to_indiv_chart_specs</span><span class="p">(),</span>
            <span class="n">series_legend_label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">rotate_x_labels</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rotate_x_labels</span><span class="p">,</span>
            <span class="n">show_borders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_borders</span><span class="p">,</span>
            <span class="n">show_n_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_n_records</span><span class="p">,</span>
            <span class="n">x_axis_font_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x_axis_font_size</span><span class="p">,</span>
            <span class="n">x_axis_title</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span>
            <span class="n">y_axis_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y_axis_title</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1">## output</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">charting_spec</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">CHART</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="sofastats.output.charts.bar.ClusteredBarChartDesign" class="doc doc-heading">
            <code>sofastats.output.charts.bar.ClusteredBarChartDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.charts.bar.CommonBarDesign


  
      dataclass
  " href="#sofastats.output.charts.bar.CommonBarDesign">CommonBarDesign</a></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>series_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the field name defining the series e.g. a <code>series_field_name</code> of 'Country'
might separate generate bars within each category cluster for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>series_sort_order</code></b>
              (<code><a class="autorefs autorefs-internal" title="sofastats.conf.main.SortOrder" href="#sofastats.conf.main.SortOrder">SortOrder</a></code>, default:
                  <code><a class="autorefs autorefs-internal" title="VALUE = 'by value'

  
      class-attribute
      instance-attribute
   (sofastats.conf.main.SortOrder.VALUE)" href="#sofastats.conf.main.SortOrder.VALUE">VALUE</a></code>
)
          
          <div class="doc-md-description">
            <p>define order of series within each category cluster e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/charts/bar.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">ClusteredBarChartDesign</span><span class="p">(</span><span class="n">CommonBarDesign</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        series_field_name: the field name defining the series e.g. a `series_field_name` of &#39;Country&#39;</span>
<span class="sd">            might separate generate bars within each category cluster for &#39;USA&#39;, &#39;NZ&#39;, &#39;Denmark&#39;, and &#39;South Korea&#39;.</span>
<span class="sd">        series_sort_order: define order of series within each category cluster e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">category_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">category_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>
    <span class="n">series_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">series_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>

    <span class="n">metric</span><span class="p">:</span> <span class="n">ChartMetric</span> <span class="o">=</span> <span class="n">ChartMetric</span><span class="o">.</span><span class="n">FREQ</span>
    <span class="n">rotate_x_labels</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_borders</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_n_records</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">x_axis_font_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">12</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1"># style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">intermediate_charting_spec</span> <span class="o">=</span> <span class="n">from_data</span><span class="o">.</span><span class="n">get_by_series_category_charting_spec</span><span class="p">(</span>
            <span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">category_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span> <span class="n">series_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">series_field_name</span><span class="p">,</span>
            <span class="n">sort_orders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span><span class="p">,</span>
            <span class="n">category_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_sort_order</span><span class="p">,</span> <span class="n">series_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">series_sort_order</span><span class="p">,</span>
            <span class="n">metric</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">metric</span><span class="p">,</span> <span class="n">field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">field_name</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">,</span> <span class="n">decimal_points</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">decimal_points</span><span class="p">)</span>
        <span class="c1">## chart details</span>
        <span class="n">charting_spec</span> <span class="o">=</span> <span class="n">BarChartingSpec</span><span class="p">(</span>
            <span class="n">border_width</span><span class="o">=</span><span class="n">style_spec</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">border_width</span><span class="p">,</span>
            <span class="n">categories</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">sorted_category_vals</span><span class="p">,</span>
            <span class="n">indiv_chart_specs</span><span class="o">=</span><span class="p">[</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">to_indiv_chart_spec</span><span class="p">(),</span> <span class="p">],</span>
            <span class="n">series_legend_label</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">series_field_name</span><span class="p">,</span>
            <span class="n">rotate_x_labels</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rotate_x_labels</span><span class="p">,</span>
            <span class="n">show_borders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_borders</span><span class="p">,</span>
            <span class="n">show_n_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_n_records</span><span class="p">,</span>
            <span class="n">x_axis_font_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x_axis_font_size</span><span class="p">,</span>
            <span class="n">x_axis_title</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span>
            <span class="n">y_axis_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y_axis_title</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1">## output</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">charting_spec</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">CHART</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="sofastats.output.charts.bar.MultiChartClusteredBarChartDesign" class="doc doc-heading">
            <code>sofastats.output.charts.bar.MultiChartClusteredBarChartDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.charts.bar.CommonBarDesign


  
      dataclass
  " href="#sofastats.output.charts.bar.CommonBarDesign">CommonBarDesign</a></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>series_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the field name defining the series e.g. a <code>series_field_name</code> of 'Country'
might separate generate bars within each category cluster for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>series_sort_order</code></b>
              (<code><a class="autorefs autorefs-internal" title="sofastats.conf.main.SortOrder" href="#sofastats.conf.main.SortOrder">SortOrder</a></code>, default:
                  <code><a class="autorefs autorefs-internal" title="VALUE = 'by value'

  
      class-attribute
      instance-attribute
   (sofastats.conf.main.SortOrder.VALUE)" href="#sofastats.conf.main.SortOrder.VALUE">VALUE</a></code>
)
          
          <div class="doc-md-description">
            <p>define order of series within each category cluster e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>chart_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the field name defining the charts e.g. a <code>chart_field_name</code> of 'Country'
might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>chart_sort_order</code></b>
              (<code><a class="autorefs autorefs-internal" title="sofastats.conf.main.SortOrder" href="#sofastats.conf.main.SortOrder">SortOrder</a></code>, default:
                  <code><a class="autorefs autorefs-internal" title="VALUE = 'by value'

  
      class-attribute
      instance-attribute
   (sofastats.conf.main.SortOrder.VALUE)" href="#sofastats.conf.main.SortOrder.VALUE">VALUE</a></code>
)
          
          <div class="doc-md-description">
            <p>define order of charts e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/charts/bar.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MultiChartClusteredBarChartDesign</span><span class="p">(</span><span class="n">CommonBarDesign</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        series_field_name: the field name defining the series e.g. a `series_field_name` of &#39;Country&#39;</span>
<span class="sd">            might separate generate bars within each category cluster for &#39;USA&#39;, &#39;NZ&#39;, &#39;Denmark&#39;, and &#39;South Korea&#39;.</span>
<span class="sd">        series_sort_order: define order of series within each category cluster e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`</span>
<span class="sd">        chart_field_name: the field name defining the charts e.g. a `chart_field_name` of &#39;Country&#39;</span>
<span class="sd">            might separate generate charts for &#39;USA&#39;, &#39;NZ&#39;, &#39;Denmark&#39;, and &#39;South Korea&#39;.</span>
<span class="sd">        chart_sort_order: define order of charts e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">category_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">category_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>
    <span class="n">series_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">series_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>
    <span class="n">chart_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">chart_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>

    <span class="n">metric</span><span class="p">:</span> <span class="n">ChartMetric</span> <span class="o">=</span> <span class="n">ChartMetric</span><span class="o">.</span><span class="n">FREQ</span>
    <span class="n">rotate_x_labels</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_borders</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_n_records</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">x_axis_font_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">12</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1"># style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">intermediate_charting_spec</span> <span class="o">=</span> <span class="n">from_data</span><span class="o">.</span><span class="n">get_by_chart_series_category_charting_spec</span><span class="p">(</span>
            <span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">category_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span>
            <span class="n">series_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">series_field_name</span><span class="p">,</span>
            <span class="n">chart_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">chart_field_name</span><span class="p">,</span>
            <span class="n">sort_orders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span><span class="p">,</span>
            <span class="n">category_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_sort_order</span><span class="p">,</span>
            <span class="n">series_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">series_sort_order</span><span class="p">,</span>
            <span class="n">chart_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">chart_sort_order</span><span class="p">,</span>
            <span class="n">metric</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">metric</span><span class="p">,</span> <span class="n">field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">field_name</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">,</span>
            <span class="n">decimal_points</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">decimal_points</span><span class="p">)</span>
        <span class="c1">## chart details</span>
        <span class="n">charting_spec</span> <span class="o">=</span> <span class="n">BarChartingSpec</span><span class="p">(</span>
            <span class="n">border_width</span><span class="o">=</span><span class="n">style_spec</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">border_width</span><span class="p">,</span>
            <span class="n">categories</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">sorted_category_vals</span><span class="p">,</span>
            <span class="n">indiv_chart_specs</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">to_indiv_chart_specs</span><span class="p">(),</span>
            <span class="n">series_legend_label</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">series_field_name</span><span class="p">,</span>
            <span class="n">rotate_x_labels</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rotate_x_labels</span><span class="p">,</span>
            <span class="n">show_borders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_borders</span><span class="p">,</span>
            <span class="n">show_n_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_n_records</span><span class="p">,</span>
            <span class="n">x_axis_font_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x_axis_font_size</span><span class="p">,</span>
            <span class="n">x_axis_title</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span>
            <span class="n">y_axis_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y_axis_title</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1">## output</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">charting_spec</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">CHART</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div><h3 id="box-plots">Box Plots</h3>
<p>See <a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign"><code>CommonDesign</code></a>
for the parameters common to all output design dataclasses in sofastats - for example, <code>style_name</code>.</p>
<p>See <a class="autorefs autorefs-internal" title="sofastats.output.charts.box_plot.BoxplotChartDesign


  
      dataclass
  " href="#sofastats.output.charts.box_plot.BoxplotChartDesign"><code>BoxplotChartDesign</code></a> for the parameters
configuring individual box plot chart designs.</p>


<div class="doc doc-object doc-class">



<h4 id="sofastats.output.charts.box_plot.BoxplotChartDesign" class="doc doc-heading">
            <code>sofastats.output.charts.box_plot.BoxplotChartDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign">CommonDesign</a></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>field summarised in each box</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>category_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>name of field in the x-axis</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>category_sort_order</code></b>
              (<code><a class="autorefs autorefs-internal" title="sofastats.conf.main.SortOrder" href="#sofastats.conf.main.SortOrder">SortOrder</a></code>, default:
                  <code><a class="autorefs autorefs-internal" title="VALUE = 'by value'

  
      class-attribute
      instance-attribute
   (sofastats.conf.main.SortOrder.VALUE)" href="#sofastats.conf.main.SortOrder.VALUE">VALUE</a></code>
)
          
          <div class="doc-md-description">
            <p>define order of categories in each chart e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>box_plot_type</code></b>
              (<code><span title="sofastats.stats_calc.interfaces.BoxplotType">BoxplotType</span></code>, default:
                  <code><span title="sofastats.stats_calc.interfaces.BoxplotType.INSIDE_1_POINT_5_TIMES_IQR">INSIDE_1_POINT_5_TIMES_IQR</span></code>
)
          
          <div class="doc-md-description">
            <p>options for what the boxes represent and whether outliers are displayed or not.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>rotate_x_labels</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>False</code>
)
          
          <div class="doc-md-description">
            <p>make x-axis labels vertical</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_n_records</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>True</code>
)
          
          <div class="doc-md-description">
            <p>show the number of records the chart is based on</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>x_axis_font_size</code></b>
              (<code><span title="int">int</span></code>, default:
                  <code>12</code>
)
          
          <div class="doc-md-description">
            <p>font size for x-axis labels</p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/charts/box_plot.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">BoxplotChartDesign</span><span class="p">(</span><span class="n">CommonDesign</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        field_name: field summarised in each box</span>
<span class="sd">        category_field_name: name of field in the x-axis</span>
<span class="sd">        category_sort_order: define order of categories in each chart e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`</span>
<span class="sd">        box_plot_type: options for what the boxes represent and whether outliers are displayed or not.</span>
<span class="sd">        rotate_x_labels: make x-axis labels vertical</span>
<span class="sd">        show_n_records: show the number of records the chart is based on</span>
<span class="sd">        x_axis_font_size: font size for x-axis labels</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">category_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">category_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>

    <span class="n">box_plot_type</span><span class="p">:</span> <span class="n">BoxplotType</span> <span class="o">=</span> <span class="n">BoxplotType</span><span class="o">.</span><span class="n">INSIDE_1_POINT_5_TIMES_IQR</span>
    <span class="n">rotate_x_labels</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_n_records</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">x_axis_font_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">12</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1"># style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">intermediate_charting_spec</span> <span class="o">=</span> <span class="n">get_by_category_charting_spec</span><span class="p">(</span>
            <span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">field_name</span><span class="p">,</span>
            <span class="n">category_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span>
            <span class="n">sort_orders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span><span class="p">,</span>
            <span class="n">category_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_sort_order</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">,</span>
            <span class="n">box_plot_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">box_plot_type</span><span class="p">)</span>
        <span class="c1">## charts details</span>
        <span class="n">indiv_chart_spec</span> <span class="o">=</span> <span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">to_indiv_chart_spec</span><span class="p">()</span>
        <span class="n">charting_spec</span> <span class="o">=</span> <span class="n">BoxplotChartingSpec</span><span class="p">(</span>
            <span class="n">categories</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">sorted_category_vals</span><span class="p">,</span>
            <span class="n">indiv_chart_specs</span><span class="o">=</span><span class="p">[</span><span class="n">indiv_chart_spec</span><span class="p">,</span> <span class="p">],</span>
            <span class="n">series_legend_label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">rotate_x_labels</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rotate_x_labels</span><span class="p">,</span>
            <span class="n">show_n_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_n_records</span><span class="p">,</span>
            <span class="n">x_axis_title</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span>
            <span class="n">y_axis_title</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">field_name</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1">## output</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">charting_spec</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">CHART</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="sofastats.output.charts.box_plot.ClusteredBoxplotChartDesign" class="doc doc-heading">
            <code>sofastats.output.charts.box_plot.ClusteredBoxplotChartDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign">CommonDesign</a></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>series_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the field name defining the series e.g. a <code>series_field_name</code> of 'Country'
might separate generate boxes within each category cluster for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>series_sort_order</code></b>
              (<code><a class="autorefs autorefs-internal" title="sofastats.conf.main.SortOrder" href="#sofastats.conf.main.SortOrder">SortOrder</a></code>, default:
                  <code><a class="autorefs autorefs-internal" title="VALUE = 'by value'

  
      class-attribute
      instance-attribute
   (sofastats.conf.main.SortOrder.VALUE)" href="#sofastats.conf.main.SortOrder.VALUE">VALUE</a></code>
)
          
          <div class="doc-md-description">
            <p>define order of series within each category cluster e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/charts/box_plot.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">ClusteredBoxplotChartDesign</span><span class="p">(</span><span class="n">CommonDesign</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        series_field_name: the field name defining the series e.g. a `series_field_name` of &#39;Country&#39;</span>
<span class="sd">            might separate generate boxes within each category cluster for &#39;USA&#39;, &#39;NZ&#39;, &#39;Denmark&#39;, and &#39;South Korea&#39;.</span>
<span class="sd">        series_sort_order: define order of series within each category cluster e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">category_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">category_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>
    <span class="n">series_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">series_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>

    <span class="n">box_plot_type</span><span class="p">:</span> <span class="n">BoxplotType</span> <span class="o">=</span> <span class="n">BoxplotType</span><span class="o">.</span><span class="n">INSIDE_1_POINT_5_TIMES_IQR</span>
    <span class="n">rotate_x_labels</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_n_records</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">x_axis_font_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">12</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1"># style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">intermediate_charting_spec</span> <span class="o">=</span> <span class="n">get_by_series_category_charting_spec</span><span class="p">(</span>
            <span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">field_name</span><span class="p">,</span>
            <span class="n">category_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span>
            <span class="n">series_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">series_field_name</span><span class="p">,</span>
            <span class="n">sort_orders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span><span class="p">,</span>
            <span class="n">category_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_sort_order</span><span class="p">,</span>
            <span class="n">series_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">series_sort_order</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">,</span>
            <span class="n">box_plot_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">box_plot_type</span><span class="p">)</span>
        <span class="c1">## charts details</span>
        <span class="n">indiv_chart_spec</span> <span class="o">=</span> <span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">to_indiv_chart_spec</span><span class="p">(</span><span class="n">dp</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">decimal_points</span><span class="p">)</span>
        <span class="n">charting_spec</span> <span class="o">=</span> <span class="n">BoxplotChartingSpec</span><span class="p">(</span>
            <span class="n">categories</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">sorted_category_vals</span><span class="p">,</span>
            <span class="n">indiv_chart_specs</span><span class="o">=</span><span class="p">[</span><span class="n">indiv_chart_spec</span><span class="p">,</span> <span class="p">],</span>
            <span class="n">series_legend_label</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">series_field_name</span><span class="p">,</span>
            <span class="n">rotate_x_labels</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rotate_x_labels</span><span class="p">,</span>
            <span class="n">show_n_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_n_records</span><span class="p">,</span>
            <span class="n">x_axis_title</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span>
            <span class="n">y_axis_title</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">field</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1">## output</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">charting_spec</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">CHART</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div><h3 id="histograms">Histograms</h3>
<p>See <a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign"><code>CommonDesign</code></a>
for the parameters common to all output design dataclasses in sofastats - for example, <code>style_name</code>.</p>
<p>See <a class="autorefs autorefs-internal" title="sofastats.output.charts.histogram.HistogramChartDesign


  
      dataclass
  " href="#sofastats.output.charts.histogram.HistogramChartDesign"><code>HistogramChartDesign</code></a> for the parameters
configuring individual histogram chart designs.</p>


<div class="doc doc-object doc-class">



<h4 id="sofastats.output.charts.histogram.HistogramChartDesign" class="doc doc-heading">
            <code>sofastats.output.charts.histogram.HistogramChartDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign">CommonDesign</a></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>field summarised in each box</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_borders</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>False</code>
)
          
          <div class="doc-md-description">
            <p>show a coloured border around the bars</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_n_records</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>True</code>
)
          
          <div class="doc-md-description">
            <p>show the number of records the chart is based on</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_normal_curve</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>True</code>
)
          
          <div class="doc-md-description">
            <p>if <code>True</code> display normal curve on the chart</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>x_axis_font_size</code></b>
              (<code><span title="int">int</span></code>, default:
                  <code>12</code>
)
          
          <div class="doc-md-description">
            <p>font size for x-axis labels</p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/charts/histogram.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">HistogramChartDesign</span><span class="p">(</span><span class="n">CommonDesign</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        field_name: field summarised in each box</span>
<span class="sd">        show_borders: show a coloured border around the bars</span>
<span class="sd">        show_n_records: show the number of records the chart is based on</span>
<span class="sd">        show_normal_curve: if `True` display normal curve on the chart</span>
<span class="sd">        x_axis_font_size: font size for x-axis labels</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>

    <span class="n">show_borders</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_n_records</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">show_normal_curve</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">x_axis_font_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">12</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1"># style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">intermediate_charting_spec</span> <span class="o">=</span> <span class="n">get_by_vals_charting_spec</span><span class="p">(</span>
            <span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">field_name</span><span class="p">,</span> <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">,</span> <span class="n">decimal_points</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">decimal_points</span><span class="p">)</span>
        <span class="n">bin_labels</span> <span class="o">=</span> <span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">to_bin_labels</span><span class="p">()</span>
        <span class="n">x_axis_min_val</span><span class="p">,</span> <span class="n">x_axis_max_val</span> <span class="o">=</span> <span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">to_x_axis_range</span><span class="p">()</span>
        <span class="c1">## charts details</span>
        <span class="n">indiv_chart_specs</span> <span class="o">=</span> <span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">to_indiv_chart_specs</span><span class="p">()</span>
        <span class="n">charting_spec</span> <span class="o">=</span> <span class="n">HistoChartingSpec</span><span class="p">(</span>
            <span class="n">bin_labels</span><span class="o">=</span><span class="n">bin_labels</span><span class="p">,</span>
            <span class="n">indiv_chart_specs</span><span class="o">=</span><span class="n">indiv_chart_specs</span><span class="p">,</span>
            <span class="n">show_borders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_borders</span><span class="p">,</span>
            <span class="n">show_n_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_n_records</span><span class="p">,</span>
            <span class="n">show_normal_curve</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_normal_curve</span><span class="p">,</span>
            <span class="n">var_label</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">field_name</span><span class="p">,</span>
            <span class="n">x_axis_font_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x_axis_font_size</span><span class="p">,</span>
            <span class="n">x_axis_max_val</span><span class="o">=</span><span class="n">x_axis_max_val</span><span class="p">,</span>
            <span class="n">x_axis_min_val</span><span class="o">=</span><span class="n">x_axis_min_val</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1">## output</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">charting_spec</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">CHART</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="sofastats.output.charts.histogram.MultiChartHistogramChartDesign" class="doc doc-heading">
            <code>sofastats.output.charts.histogram.MultiChartHistogramChartDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign">CommonDesign</a></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>chart_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the field name defining the charts e.g. a <code>chart_field_name</code> of 'Country'
might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>chart_sort_order</code></b>
              (<code><a class="autorefs autorefs-internal" title="sofastats.conf.main.SortOrder" href="#sofastats.conf.main.SortOrder">SortOrder</a></code>, default:
                  <code><a class="autorefs autorefs-internal" title="VALUE = 'by value'

  
      class-attribute
      instance-attribute
   (sofastats.conf.main.SortOrder.VALUE)" href="#sofastats.conf.main.SortOrder.VALUE">VALUE</a></code>
)
          
          <div class="doc-md-description">
            <p>define order of charts e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/charts/histogram.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MultiChartHistogramChartDesign</span><span class="p">(</span><span class="n">CommonDesign</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        chart_field_name: the field name defining the charts e.g. a `chart_field_name` of &#39;Country&#39;</span>
<span class="sd">            might separate generate charts for &#39;USA&#39;, &#39;NZ&#39;, &#39;Denmark&#39;, and &#39;South Korea&#39;.</span>
<span class="sd">        chart_sort_order: define order of charts e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">chart_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">chart_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>

    <span class="n">show_borders</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_n_records</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">show_normal_curve</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">x_axis_font_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">12</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1"># style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">intermediate_charting_spec</span> <span class="o">=</span> <span class="n">get_by_chart_charting_spec</span><span class="p">(</span>
            <span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">field_name</span><span class="p">,</span>
            <span class="n">chart_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">chart_field_name</span><span class="p">,</span>
            <span class="n">sort_orders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span><span class="p">,</span>
            <span class="n">chart_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">chart_sort_order</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">,</span>
            <span class="n">decimal_points</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">decimal_points</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">x_axis_min_val</span><span class="p">,</span> <span class="n">x_axis_max_val</span> <span class="o">=</span> <span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">to_x_axis_range</span><span class="p">()</span>
        <span class="c1">## charts details</span>
        <span class="n">indiv_chart_specs</span> <span class="o">=</span> <span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">to_indiv_chart_specs</span><span class="p">()</span>
        <span class="n">charting_spec</span> <span class="o">=</span> <span class="n">HistoChartingSpec</span><span class="p">(</span>
            <span class="n">bin_labels</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">to_bin_labels</span><span class="p">(),</span>
            <span class="n">indiv_chart_specs</span><span class="o">=</span><span class="n">indiv_chart_specs</span><span class="p">,</span>
            <span class="n">show_borders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_borders</span><span class="p">,</span>
            <span class="n">show_n_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_n_records</span><span class="p">,</span>
            <span class="n">show_normal_curve</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_normal_curve</span><span class="p">,</span>
            <span class="n">var_label</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">field_name</span><span class="p">,</span>
            <span class="n">x_axis_font_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x_axis_font_size</span><span class="p">,</span>
            <span class="n">x_axis_max_val</span><span class="o">=</span><span class="n">x_axis_max_val</span><span class="p">,</span>
            <span class="n">x_axis_min_val</span><span class="o">=</span><span class="n">x_axis_min_val</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1">## output</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">charting_spec</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">CHART</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div><h3 id="line-charts">Line Charts</h3>
<p>See <a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign"><code>CommonDesign</code></a>
for the parameters common to all output design dataclasses in sofastats - for example, <code>style_name</code>.</p>
<p>See <a class="autorefs autorefs-internal" title="sofastats.output.charts.line.LineChartDesign


  
      dataclass
  " href="#sofastats.output.charts.line.LineChartDesign"><code>LineChartDesign</code></a> for the parameters
configuring individual line chart designs.</p>


<div class="doc doc-object doc-class">



<h4 id="sofastats.output.charts.line.LineChartDesign" class="doc doc-heading">
            <code>sofastats.output.charts.line.LineChartDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign">CommonDesign</a></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>category_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>name of field in the x-axis</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>category_sort_order</code></b>
              (<code><a class="autorefs autorefs-internal" title="sofastats.conf.main.SortOrder" href="#sofastats.conf.main.SortOrder">SortOrder</a></code>, default:
                  <code><a class="autorefs autorefs-internal" title="VALUE = 'by value'

  
      class-attribute
      instance-attribute
   (sofastats.conf.main.SortOrder.VALUE)" href="#sofastats.conf.main.SortOrder.VALUE">VALUE</a></code>
)
          
          <div class="doc-md-description">
            <p>define order of categories in each chart e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>is_time_series</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>False</code>
)
          
          <div class="doc-md-description">
            <p>space x-axis labels according to time e.g. there might be variable gaps between items</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_major_ticks_only</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>True</code>
)
          
          <div class="doc-md-description">
            <p>suppress minor ticks</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_markers</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>True</code>
)
          
          <div class="doc-md-description">
            <p>show markers on the line bounding the area</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_smooth_line</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>False</code>
)
          
          <div class="doc-md-description">
            <p>if <code>True</code> also show smoothed version of line</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_trend_line</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>False</code>
)
          
          <div class="doc-md-description">
            <p>if <code>True</code> also show trend line</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>rotate_x_labels</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>False</code>
)
          
          <div class="doc-md-description">
            <p>make x-axis labels vertical</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_n_records</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>True</code>
)
          
          <div class="doc-md-description">
            <p>show the number of records the chart is based on</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>x_axis_font_size</code></b>
              (<code><span title="int">int</span></code>, default:
                  <code>12</code>
)
          
          <div class="doc-md-description">
            <p>font size for x-axis labels</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>y_axis_title</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code>&#39;Freq&#39;</code>
)
          
          <div class="doc-md-description">
            <p>title displayed vertically alongside y-axis</p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/charts/line.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">LineChartDesign</span><span class="p">(</span><span class="n">CommonDesign</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        category_field_name: name of field in the x-axis</span>
<span class="sd">        category_sort_order: define order of categories in each chart e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`</span>
<span class="sd">        is_time_series: space x-axis labels according to time e.g. there might be variable gaps between items</span>
<span class="sd">        show_major_ticks_only: suppress minor ticks</span>
<span class="sd">        show_markers: show markers on the line bounding the area</span>
<span class="sd">        show_smooth_line: if `True` also show smoothed version of line</span>
<span class="sd">        show_trend_line: if `True` also show trend line</span>
<span class="sd">        rotate_x_labels: make x-axis labels vertical</span>
<span class="sd">        show_n_records: show the number of records the chart is based on</span>
<span class="sd">        x_axis_font_size: font size for x-axis labels</span>
<span class="sd">        y_axis_title: title displayed vertically alongside y-axis</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">category_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">category_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>

    <span class="n">is_time_series</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_major_ticks_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">show_markers</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">show_smooth_line</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_trend_line</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">rotate_x_labels</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_n_records</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">x_axis_font_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">12</span>
    <span class="n">y_axis_title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;Freq&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1"># style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">intermediate_charting_spec</span> <span class="o">=</span> <span class="n">get_by_category_charting_spec</span><span class="p">(</span>
            <span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">category_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span>
            <span class="n">sort_orders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span><span class="p">,</span>
            <span class="n">category_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_sort_order</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">,</span>
            <span class="n">decimal_points</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">decimal_points</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1">## chart details</span>
        <span class="n">charting_spec</span> <span class="o">=</span> <span class="n">LineChartingSpec</span><span class="p">(</span>
            <span class="n">categories</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">sorted_category_vals</span><span class="p">,</span>
            <span class="n">indiv_chart_specs</span><span class="o">=</span><span class="p">[</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">to_indiv_chart_spec</span><span class="p">(),</span> <span class="p">],</span>
            <span class="n">series_legend_label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">rotate_x_labels</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rotate_x_labels</span><span class="p">,</span>
            <span class="n">show_n_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_n_records</span><span class="p">,</span>
            <span class="n">is_time_series</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">is_time_series</span><span class="p">,</span>
            <span class="n">show_major_ticks_only</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_major_ticks_only</span><span class="p">,</span>
            <span class="n">show_markers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_markers</span><span class="p">,</span>
            <span class="n">show_smooth_line</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_smooth_line</span><span class="p">,</span>
            <span class="n">show_trend_line</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_trend_line</span><span class="p">,</span>
            <span class="n">x_axis_font_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x_axis_font_size</span><span class="p">,</span>
            <span class="n">x_axis_title</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span>
            <span class="n">y_axis_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y_axis_title</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1">## output</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">charting_spec</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">CHART</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="sofastats.output.charts.line.MultiChartLineChartDesign" class="doc doc-heading">
            <code>sofastats.output.charts.line.MultiChartLineChartDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign">CommonDesign</a></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>chart_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the field name defining the charts e.g. a <code>chart_field_name</code> of 'Country'
might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>chart_sort_order</code></b>
              (<code><a class="autorefs autorefs-internal" title="sofastats.conf.main.SortOrder" href="#sofastats.conf.main.SortOrder">SortOrder</a></code>, default:
                  <code><a class="autorefs autorefs-internal" title="VALUE = 'by value'

  
      class-attribute
      instance-attribute
   (sofastats.conf.main.SortOrder.VALUE)" href="#sofastats.conf.main.SortOrder.VALUE">VALUE</a></code>
)
          
          <div class="doc-md-description">
            <p>define order of charts e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/charts/line.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MultiChartLineChartDesign</span><span class="p">(</span><span class="n">CommonDesign</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        chart_field_name: the field name defining the charts e.g. a `chart_field_name` of &#39;Country&#39;</span>
<span class="sd">            might separate generate charts for &#39;USA&#39;, &#39;NZ&#39;, &#39;Denmark&#39;, and &#39;South Korea&#39;.</span>
<span class="sd">        chart_sort_order: define order of charts e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">category_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">category_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>
    <span class="n">chart_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">chart_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>

    <span class="n">is_time_series</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_major_ticks_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">show_markers</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">show_smooth_line</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_trend_line</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">rotate_x_labels</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_n_records</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">x_axis_font_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">12</span>
    <span class="n">y_axis_title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;Freq&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1"># style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">intermediate_charting_spec</span> <span class="o">=</span> <span class="n">get_by_chart_category_charting_spec</span><span class="p">(</span>
            <span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">category_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span>
            <span class="n">chart_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">chart_field_name</span><span class="p">,</span>
            <span class="n">sort_orders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span><span class="p">,</span>
            <span class="n">category_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_sort_order</span><span class="p">,</span>
            <span class="n">chart_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">chart_sort_order</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">,</span>
            <span class="n">decimal_points</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">decimal_points</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1">## chart details</span>
        <span class="n">charting_spec</span> <span class="o">=</span> <span class="n">LineChartingSpec</span><span class="p">(</span>
            <span class="n">categories</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">sorted_category_vals</span><span class="p">,</span>
            <span class="n">indiv_chart_specs</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">to_indiv_chart_specs</span><span class="p">(),</span>
            <span class="n">series_legend_label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">rotate_x_labels</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rotate_x_labels</span><span class="p">,</span>
            <span class="n">show_n_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_n_records</span><span class="p">,</span>
            <span class="n">is_time_series</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">is_time_series</span><span class="p">,</span>
            <span class="n">show_major_ticks_only</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_major_ticks_only</span><span class="p">,</span>
            <span class="n">show_markers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_markers</span><span class="p">,</span>
            <span class="n">show_smooth_line</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_smooth_line</span><span class="p">,</span>
            <span class="n">show_trend_line</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_trend_line</span><span class="p">,</span>
            <span class="n">x_axis_font_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x_axis_font_size</span><span class="p">,</span>
            <span class="n">x_axis_title</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span>
            <span class="n">y_axis_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y_axis_title</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1">## output</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">charting_spec</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">CHART</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="sofastats.output.charts.line.MultiLineChartDesign" class="doc doc-heading">
            <code>sofastats.output.charts.line.MultiLineChartDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign">CommonDesign</a></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>series_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the field name defining the series e.g. a <code>series_field_name</code> of 'Country'
might generate separate lines with different colours for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>series_sort_order</code></b>
              (<code><a class="autorefs autorefs-internal" title="sofastats.conf.main.SortOrder" href="#sofastats.conf.main.SortOrder">SortOrder</a></code>, default:
                  <code><a class="autorefs autorefs-internal" title="VALUE = 'by value'

  
      class-attribute
      instance-attribute
   (sofastats.conf.main.SortOrder.VALUE)" href="#sofastats.conf.main.SortOrder.VALUE">VALUE</a></code>
)
          
          <div class="doc-md-description">
            <p>define order of series in legend e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/charts/line.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MultiLineChartDesign</span><span class="p">(</span><span class="n">CommonDesign</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        series_field_name: the field name defining the series e.g. a `series_field_name` of &#39;Country&#39;</span>
<span class="sd">            might generate separate lines with different colours for &#39;USA&#39;, &#39;NZ&#39;, &#39;Denmark&#39;, and &#39;South Korea&#39;.</span>
<span class="sd">        series_sort_order: define order of series in legend e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">category_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">category_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>
    <span class="n">series_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">series_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>

    <span class="n">is_time_series</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_major_ticks_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">show_markers</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">show_smooth_line</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_trend_line</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">rotate_x_labels</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_n_records</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">x_axis_font_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">12</span>
    <span class="n">y_axis_title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;Freq&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1"># style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">intermediate_charting_spec</span> <span class="o">=</span> <span class="n">get_by_series_category_charting_spec</span><span class="p">(</span>
            <span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">category_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span> <span class="n">series_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">series_field_name</span><span class="p">,</span>
            <span class="n">sort_orders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span><span class="p">,</span>
            <span class="n">category_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_sort_order</span><span class="p">,</span> <span class="n">series_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">series_sort_order</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">,</span>
            <span class="n">decimal_points</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">decimal_points</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1">## chart details</span>
        <span class="n">charting_spec</span> <span class="o">=</span> <span class="n">LineChartingSpec</span><span class="p">(</span>
            <span class="n">categories</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">sorted_category_vals</span><span class="p">,</span>
            <span class="n">indiv_chart_specs</span><span class="o">=</span><span class="p">[</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">to_indiv_chart_spec</span><span class="p">(),</span> <span class="p">],</span>
            <span class="n">series_legend_label</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">series_field_name</span><span class="p">,</span>
            <span class="n">rotate_x_labels</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rotate_x_labels</span><span class="p">,</span>
            <span class="n">show_n_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_n_records</span><span class="p">,</span>
            <span class="n">is_time_series</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">is_time_series</span><span class="p">,</span>
            <span class="n">show_major_ticks_only</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_major_ticks_only</span><span class="p">,</span>
            <span class="n">show_markers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_markers</span><span class="p">,</span>
            <span class="n">show_smooth_line</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_smooth_line</span><span class="p">,</span>
            <span class="n">show_trend_line</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_trend_line</span><span class="p">,</span>
            <span class="n">x_axis_font_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x_axis_font_size</span><span class="p">,</span>
            <span class="n">x_axis_title</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span>
            <span class="n">y_axis_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y_axis_title</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1">## output</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">charting_spec</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">CHART</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="sofastats.output.charts.line.MultiChartMultiLineChartDesign" class="doc doc-heading">
            <code>sofastats.output.charts.line.MultiChartMultiLineChartDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign">CommonDesign</a></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>series_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the field name defining the series e.g. a <code>series_field_name</code> of 'Country'
might generate separate lines with different colours for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>series_sort_order</code></b>
              (<code><a class="autorefs autorefs-internal" title="sofastats.conf.main.SortOrder" href="#sofastats.conf.main.SortOrder">SortOrder</a></code>, default:
                  <code><a class="autorefs autorefs-internal" title="VALUE = 'by value'

  
      class-attribute
      instance-attribute
   (sofastats.conf.main.SortOrder.VALUE)" href="#sofastats.conf.main.SortOrder.VALUE">VALUE</a></code>
)
          
          <div class="doc-md-description">
            <p>define order of series in legend e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>chart_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the field name defining the charts e.g. a <code>chart_field_name</code> of 'Country'
might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>chart_sort_order</code></b>
              (<code><a class="autorefs autorefs-internal" title="sofastats.conf.main.SortOrder" href="#sofastats.conf.main.SortOrder">SortOrder</a></code>, default:
                  <code><a class="autorefs autorefs-internal" title="VALUE = 'by value'

  
      class-attribute
      instance-attribute
   (sofastats.conf.main.SortOrder.VALUE)" href="#sofastats.conf.main.SortOrder.VALUE">VALUE</a></code>
)
          
          <div class="doc-md-description">
            <p>define order of charts e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/charts/line.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MultiChartMultiLineChartDesign</span><span class="p">(</span><span class="n">CommonDesign</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        series_field_name: the field name defining the series e.g. a `series_field_name` of &#39;Country&#39;</span>
<span class="sd">            might generate separate lines with different colours for &#39;USA&#39;, &#39;NZ&#39;, &#39;Denmark&#39;, and &#39;South Korea&#39;.</span>
<span class="sd">        series_sort_order: define order of series in legend e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`</span>
<span class="sd">        chart_field_name: the field name defining the charts e.g. a `chart_field_name` of &#39;Country&#39;</span>
<span class="sd">            might separate generate charts for &#39;USA&#39;, &#39;NZ&#39;, &#39;Denmark&#39;, and &#39;South Korea&#39;.</span>
<span class="sd">        chart_sort_order: define order of charts e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">category_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">category_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>
    <span class="n">series_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">series_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>
    <span class="n">chart_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">chart_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>

    <span class="n">is_time_series</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_major_ticks_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">show_markers</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">show_smooth_line</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_trend_line</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">rotate_x_labels</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">show_n_records</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">x_axis_font_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">12</span>
    <span class="n">y_axis_title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;Freq&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1"># style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">intermediate_charting_spec</span> <span class="o">=</span> <span class="n">get_by_chart_series_category_charting_spec</span><span class="p">(</span>
            <span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">category_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span>
            <span class="n">series_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">series_field_name</span><span class="p">,</span>
            <span class="n">chart_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">chart_field_name</span><span class="p">,</span>
            <span class="n">sort_orders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span><span class="p">,</span>
            <span class="n">category_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_sort_order</span><span class="p">,</span>
            <span class="n">series_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">series_sort_order</span><span class="p">,</span>
            <span class="n">chart_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">chart_sort_order</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">,</span>
            <span class="n">decimal_points</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">decimal_points</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1">## chart details</span>
        <span class="n">charting_spec</span> <span class="o">=</span> <span class="n">LineChartingSpec</span><span class="p">(</span>
            <span class="n">categories</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">sorted_category_vals</span><span class="p">,</span>
            <span class="n">indiv_chart_specs</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">to_indiv_chart_specs</span><span class="p">(),</span>
            <span class="n">series_legend_label</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">series_field_name</span><span class="p">,</span>
            <span class="n">rotate_x_labels</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rotate_x_labels</span><span class="p">,</span>
            <span class="n">show_n_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_n_records</span><span class="p">,</span>
            <span class="n">is_time_series</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">is_time_series</span><span class="p">,</span>
            <span class="n">show_major_ticks_only</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_major_ticks_only</span><span class="p">,</span>
            <span class="n">show_markers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_markers</span><span class="p">,</span>
            <span class="n">show_smooth_line</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_smooth_line</span><span class="p">,</span>
            <span class="n">show_trend_line</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_trend_line</span><span class="p">,</span>
            <span class="n">x_axis_font_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x_axis_font_size</span><span class="p">,</span>
            <span class="n">x_axis_title</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span>
            <span class="n">y_axis_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y_axis_title</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1">## output</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">charting_spec</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">CHART</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div><h3 id="pie-charts">Pie Charts</h3>
<p>See <a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign"><code>CommonDesign</code></a>
for the parameters common to all output design dataclasses in sofastats - for example, <code>style_name</code>.</p>
<p>See <a class="autorefs autorefs-internal" title="sofastats.output.charts.pie.PieChartDesign


  
      dataclass
  " href="#sofastats.output.charts.pie.PieChartDesign"><code>PieChartDesign</code></a> for the parameters
configuring individual pie chart designs.</p>


<div class="doc doc-object doc-class">



<h4 id="sofastats.output.charts.pie.PieChartDesign" class="doc doc-heading">
            <code>sofastats.output.charts.pie.PieChartDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign">CommonDesign</a></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>category_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>name of field in the x-axis</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>category_sort_order</code></b>
              (<code><a class="autorefs autorefs-internal" title="sofastats.conf.main.SortOrder" href="#sofastats.conf.main.SortOrder">SortOrder</a></code>, default:
                  <code><a class="autorefs autorefs-internal" title="VALUE = 'by value'

  
      class-attribute
      instance-attribute
   (sofastats.conf.main.SortOrder.VALUE)" href="#sofastats.conf.main.SortOrder.VALUE">VALUE</a></code>
)
          
          <div class="doc-md-description">
            <p>define order of categories in each chart e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_n_records</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>(True,)</code>
)
          
          <div class="doc-md-description">
            <p>show the number of records the chart is based on</p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/charts/pie.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">PieChartDesign</span><span class="p">(</span><span class="n">CommonDesign</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        category_field_name: name of field in the x-axis</span>
<span class="sd">        category_sort_order: define order of categories in each chart e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`</span>
<span class="sd">        show_n_records: show the number of records the chart is based on</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">category_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">category_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>

    <span class="n">show_n_records</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1"># style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">intermediate_charting_spec</span> <span class="o">=</span> <span class="n">get_by_category_charting_spec</span><span class="p">(</span>
            <span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">category_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span>
            <span class="n">sort_orders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span><span class="p">,</span> <span class="n">category_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_sort_order</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
        <span class="c1">## charts details</span>
        <span class="n">charting_spec</span> <span class="o">=</span> <span class="n">PieChartingSpec</span><span class="p">(</span>
            <span class="n">categories</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">sorted_category_vals</span><span class="p">,</span>
            <span class="n">indiv_chart_specs</span><span class="o">=</span><span class="p">[</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">to_indiv_chart_spec</span><span class="p">(),</span> <span class="p">],</span>
            <span class="n">show_n_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_n_records</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1">## output</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">charting_spec</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">CHART</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="sofastats.output.charts.pie.MultiChartPieChartDesign" class="doc doc-heading">
            <code>sofastats.output.charts.pie.MultiChartPieChartDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign">CommonDesign</a></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>chart_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the field name defining the charts e.g. a <code>chart_field_name</code> of 'Country'
might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>chart_sort_order</code></b>
              (<code><a class="autorefs autorefs-internal" title="sofastats.conf.main.SortOrder" href="#sofastats.conf.main.SortOrder">SortOrder</a></code>, default:
                  <code><a class="autorefs autorefs-internal" title="VALUE = 'by value'

  
      class-attribute
      instance-attribute
   (sofastats.conf.main.SortOrder.VALUE)" href="#sofastats.conf.main.SortOrder.VALUE">VALUE</a></code>
)
          
          <div class="doc-md-description">
            <p>define order of charts e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/charts/pie.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MultiChartPieChartDesign</span><span class="p">(</span><span class="n">CommonDesign</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        chart_field_name: the field name defining the charts e.g. a `chart_field_name` of &#39;Country&#39;</span>
<span class="sd">            might separate generate charts for &#39;USA&#39;, &#39;NZ&#39;, &#39;Denmark&#39;, and &#39;South Korea&#39;.</span>
<span class="sd">        chart_sort_order: define order of charts e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">category_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">category_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>
    <span class="n">chart_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">chart_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>

    <span class="n">show_n_records</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1"># style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">intermediate_charting_spec</span> <span class="o">=</span> <span class="n">get_by_chart_category_charting_spec</span><span class="p">(</span>
            <span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">category_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_field_name</span><span class="p">,</span> <span class="n">chart_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">chart_field_name</span><span class="p">,</span>
            <span class="n">sort_orders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span><span class="p">,</span>
            <span class="n">category_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category_sort_order</span><span class="p">,</span> <span class="n">chart_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">chart_sort_order</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
        <span class="c1">## charts details</span>
        <span class="n">charting_spec</span> <span class="o">=</span> <span class="n">PieChartingSpec</span><span class="p">(</span>
            <span class="n">categories</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">sorted_category_vals</span><span class="p">,</span>
            <span class="n">indiv_chart_specs</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">to_indiv_chart_specs</span><span class="p">(),</span>
            <span class="n">show_n_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_n_records</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1">## output</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">charting_spec</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">CHART</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div><h3 id="scatter-plots">Scatter Plots</h3>
<p>See <a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign"><code>CommonDesign</code></a>
for the parameters common to all output design dataclasses in sofastats - for example, <code>style_name</code>.</p>
<p>See <a class="autorefs autorefs-internal" title="sofastats.output.charts.scatter_plot.SimpleScatterChartDesign


  
      dataclass
  " href="#sofastats.output.charts.scatter_plot.SimpleScatterChartDesign"><code>SimpleScatterChartDesign</code></a> for the parameters
configuring individual scatter plot chart designs.</p>


<div class="doc doc-object doc-class">



<h4 id="sofastats.output.charts.scatter_plot.SimpleScatterChartDesign" class="doc doc-heading">
            <code>sofastats.output.charts.scatter_plot.SimpleScatterChartDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign">CommonDesign</a></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>x_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>field defining the x value of each x-y pair</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>y_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>field defining the y value of each x-y pair</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_dot_borders</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>True</code>
)
          
          <div class="doc-md-description">
            <p>if <code>Tue</code> show borders around individual dots</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_n_records</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>True</code>
)
          
          <div class="doc-md-description">
            <p>show the number of records the chart is based on</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_regression_line</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>True</code>
)
          
          <div class="doc-md-description">
            <p>if <code>True</code> show regression line of best fit</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>x_axis_font_size</code></b>
              (<code><span title="int">int</span></code>, default:
                  <code>10</code>
)
          
          <div class="doc-md-description">
            <p>font size for x-axis labels</p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/charts/scatter_plot.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">SimpleScatterChartDesign</span><span class="p">(</span><span class="n">CommonDesign</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        x_field_name: field defining the x value of each x-y pair</span>
<span class="sd">        y_field_name: field defining the y value of each x-y pair</span>
<span class="sd">        show_dot_borders: if `Tue` show borders around individual dots</span>
<span class="sd">        show_n_records: show the number of records the chart is based on</span>
<span class="sd">        show_regression_line: if `True` show regression line of best fit</span>
<span class="sd">        x_axis_font_size: font size for x-axis labels</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">x_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">y_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>

    <span class="n">show_dot_borders</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">show_n_records</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">show_regression_line</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">x_axis_font_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1"># style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">intermediate_charting_spec</span> <span class="o">=</span> <span class="n">get_by_xy_charting_spec</span><span class="p">(</span>
            <span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">x_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x_field_name</span><span class="p">,</span> <span class="n">y_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y_field_name</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
        <span class="c1">## charts details</span>
        <span class="n">indiv_chart_specs</span> <span class="o">=</span> <span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">to_indiv_chart_specs</span><span class="p">()</span>
        <span class="n">charting_spec</span> <span class="o">=</span> <span class="n">ScatterChartingSpec</span><span class="p">(</span>
            <span class="n">indiv_chart_specs</span><span class="o">=</span><span class="n">indiv_chart_specs</span><span class="p">,</span>
            <span class="n">series_legend_label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">show_dot_borders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_dot_borders</span><span class="p">,</span>
            <span class="n">show_n_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_n_records</span><span class="p">,</span>
            <span class="n">show_regression_line</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_regression_line</span><span class="p">,</span>
            <span class="n">x_axis_font_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x_axis_font_size</span><span class="p">,</span>
            <span class="n">x_axis_title</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">x_field_name</span><span class="p">,</span>
            <span class="n">y_axis_title</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">y_field_name</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1">## output</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">charting_spec</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">CHART</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="sofastats.output.charts.scatter_plot.MultiChartScatterChartDesign" class="doc doc-heading">
            <code>sofastats.output.charts.scatter_plot.MultiChartScatterChartDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign">CommonDesign</a></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>chart_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the field name defining the charts e.g. a <code>chart_field_name</code> of 'Country'
might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>chart_sort_order</code></b>
              (<code><a class="autorefs autorefs-internal" title="sofastats.conf.main.SortOrder" href="#sofastats.conf.main.SortOrder">SortOrder</a></code>, default:
                  <code><a class="autorefs autorefs-internal" title="VALUE = 'by value'

  
      class-attribute
      instance-attribute
   (sofastats.conf.main.SortOrder.VALUE)" href="#sofastats.conf.main.SortOrder.VALUE">VALUE</a></code>
)
          
          <div class="doc-md-description">
            <p>define order of charts e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/charts/scatter_plot.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MultiChartScatterChartDesign</span><span class="p">(</span><span class="n">CommonDesign</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        chart_field_name: the field name defining the charts e.g. a `chart_field_name` of &#39;Country&#39;</span>
<span class="sd">            might separate generate charts for &#39;USA&#39;, &#39;NZ&#39;, &#39;Denmark&#39;, and &#39;South Korea&#39;.</span>
<span class="sd">        chart_sort_order: define order of charts e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">x_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">y_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">chart_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">chart_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>

    <span class="n">show_dot_borders</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">show_n_records</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">show_regression_line</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">x_axis_font_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1"># style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">intermediate_charting_spec</span> <span class="o">=</span> <span class="n">get_by_chart_xy_charting_spec</span><span class="p">(</span>
            <span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">x_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x_field_name</span><span class="p">,</span> <span class="n">y_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y_field_name</span><span class="p">,</span>
            <span class="n">chart_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">chart_field_name</span><span class="p">,</span>
            <span class="n">sort_orders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span><span class="p">,</span>
            <span class="n">chart_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">chart_sort_order</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
        <span class="c1">## charts details</span>
        <span class="n">indiv_chart_specs</span> <span class="o">=</span> <span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">to_indiv_chart_specs</span><span class="p">()</span>
        <span class="n">charting_spec</span> <span class="o">=</span> <span class="n">ScatterChartingSpec</span><span class="p">(</span>
            <span class="n">indiv_chart_specs</span><span class="o">=</span><span class="n">indiv_chart_specs</span><span class="p">,</span>
            <span class="n">series_legend_label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">show_dot_borders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_dot_borders</span><span class="p">,</span>
            <span class="n">show_n_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_n_records</span><span class="p">,</span>
            <span class="n">show_regression_line</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_regression_line</span><span class="p">,</span>
            <span class="n">x_axis_font_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x_axis_font_size</span><span class="p">,</span>
            <span class="n">x_axis_title</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">x_field_name</span><span class="p">,</span>
            <span class="n">y_axis_title</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">y_field_name</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1">## output</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">charting_spec</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">CHART</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="sofastats.output.charts.scatter_plot.BySeriesScatterChartDesign" class="doc doc-heading">
            <code>sofastats.output.charts.scatter_plot.BySeriesScatterChartDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign">CommonDesign</a></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>series_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the field name defining the series e.g. a <code>series_field_name</code> of 'Country'
might separate generate different colour dots for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>series_sort_order</code></b>
              (<code><a class="autorefs autorefs-internal" title="sofastats.conf.main.SortOrder" href="#sofastats.conf.main.SortOrder">SortOrder</a></code>, default:
                  <code><a class="autorefs autorefs-internal" title="VALUE = 'by value'

  
      class-attribute
      instance-attribute
   (sofastats.conf.main.SortOrder.VALUE)" href="#sofastats.conf.main.SortOrder.VALUE">VALUE</a></code>
)
          
          <div class="doc-md-description">
            <p>define order of series in the legend e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/charts/scatter_plot.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">BySeriesScatterChartDesign</span><span class="p">(</span><span class="n">CommonDesign</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        series_field_name: the field name defining the series e.g. a `series_field_name` of &#39;Country&#39;</span>
<span class="sd">            might separate generate different colour dots for &#39;USA&#39;, &#39;NZ&#39;, &#39;Denmark&#39;, and &#39;South Korea&#39;.</span>
<span class="sd">        series_sort_order: define order of series in the legend e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">x_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">y_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">series_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">series_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>

    <span class="n">show_dot_borders</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">show_n_records</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">show_regression_line</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">x_axis_font_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1"># style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">intermediate_charting_spec</span> <span class="o">=</span> <span class="n">get_by_series_xy_charting_spec</span><span class="p">(</span>
            <span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">x_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x_field_name</span><span class="p">,</span> <span class="n">y_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y_field_name</span><span class="p">,</span>
            <span class="n">series_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">series_field_name</span><span class="p">,</span>
            <span class="n">sort_orders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span><span class="p">,</span>
            <span class="n">series_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">series_sort_order</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
        <span class="c1">## charts details</span>
        <span class="n">indiv_chart_specs</span> <span class="o">=</span> <span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">to_indiv_chart_specs</span><span class="p">()</span>
        <span class="n">charting_spec</span> <span class="o">=</span> <span class="n">ScatterChartingSpec</span><span class="p">(</span>
            <span class="n">indiv_chart_specs</span><span class="o">=</span><span class="n">indiv_chart_specs</span><span class="p">,</span>
            <span class="n">series_legend_label</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">series_field_name</span><span class="p">,</span>
            <span class="n">show_dot_borders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_dot_borders</span><span class="p">,</span>
            <span class="n">show_n_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_n_records</span><span class="p">,</span>
            <span class="n">show_regression_line</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_regression_line</span><span class="p">,</span>
            <span class="n">x_axis_font_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x_axis_font_size</span><span class="p">,</span>
            <span class="n">x_axis_title</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">x_field_name</span><span class="p">,</span>
            <span class="n">y_axis_title</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">y_field_name</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1">## output</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">charting_spec</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">CHART</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="sofastats.output.charts.scatter_plot.MultiChartBySeriesScatterChartDesign" class="doc doc-heading">
            <code>sofastats.output.charts.scatter_plot.MultiChartBySeriesScatterChartDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign">CommonDesign</a></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>series_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the field name defining the series e.g. a <code>series_field_name</code> of 'Country'
might separate generate different colour dots for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>series_sort_order</code></b>
              (<code><a class="autorefs autorefs-internal" title="sofastats.conf.main.SortOrder" href="#sofastats.conf.main.SortOrder">SortOrder</a></code>, default:
                  <code><a class="autorefs autorefs-internal" title="VALUE = 'by value'

  
      class-attribute
      instance-attribute
   (sofastats.conf.main.SortOrder.VALUE)" href="#sofastats.conf.main.SortOrder.VALUE">VALUE</a></code>
)
          
          <div class="doc-md-description">
            <p>define order of series in the legend e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>chart_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the field name defining the charts e.g. a <code>chart_field_name</code> of 'Country'
might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>chart_sort_order</code></b>
              (<code><a class="autorefs autorefs-internal" title="sofastats.conf.main.SortOrder" href="#sofastats.conf.main.SortOrder">SortOrder</a></code>, default:
                  <code><a class="autorefs autorefs-internal" title="VALUE = 'by value'

  
      class-attribute
      instance-attribute
   (sofastats.conf.main.SortOrder.VALUE)" href="#sofastats.conf.main.SortOrder.VALUE">VALUE</a></code>
)
          
          <div class="doc-md-description">
            <p>define order of charts e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/charts/scatter_plot.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MultiChartBySeriesScatterChartDesign</span><span class="p">(</span><span class="n">CommonDesign</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        series_field_name: the field name defining the series e.g. a `series_field_name` of &#39;Country&#39;</span>
<span class="sd">            might separate generate different colour dots for &#39;USA&#39;, &#39;NZ&#39;, &#39;Denmark&#39;, and &#39;South Korea&#39;.</span>
<span class="sd">        series_sort_order: define order of series in the legend e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`</span>
<span class="sd">        chart_field_name: the field name defining the charts e.g. a `chart_field_name` of &#39;Country&#39;</span>
<span class="sd">            might separate generate charts for &#39;USA&#39;, &#39;NZ&#39;, &#39;Denmark&#39;, and &#39;South Korea&#39;.</span>
<span class="sd">        chart_sort_order: define order of charts e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">x_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">y_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">series_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">series_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>
    <span class="n">chart_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">chart_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>

    <span class="n">show_dot_borders</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">show_n_records</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">show_regression_line</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">x_axis_font_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1"># style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">intermediate_charting_spec</span> <span class="o">=</span> <span class="n">get_by_chart_series_xy_charting_spec</span><span class="p">(</span>
            <span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">x_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x_field_name</span><span class="p">,</span> <span class="n">y_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y_field_name</span><span class="p">,</span>
            <span class="n">series_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">series_field_name</span><span class="p">,</span> <span class="n">chart_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">chart_field_name</span><span class="p">,</span>
            <span class="n">sort_orders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span><span class="p">,</span>
            <span class="n">series_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">series_sort_order</span><span class="p">,</span> <span class="n">chart_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">chart_sort_order</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
        <span class="c1">## charts details</span>
        <span class="n">indiv_chart_specs</span> <span class="o">=</span> <span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">to_indiv_chart_specs</span><span class="p">()</span>
        <span class="n">charting_spec</span> <span class="o">=</span> <span class="n">ScatterChartingSpec</span><span class="p">(</span>
            <span class="n">indiv_chart_specs</span><span class="o">=</span><span class="n">indiv_chart_specs</span><span class="p">,</span>
            <span class="n">series_legend_label</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">series_field_name</span><span class="p">,</span>
            <span class="n">show_dot_borders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_dot_borders</span><span class="p">,</span>
            <span class="n">show_n_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_n_records</span><span class="p">,</span>
            <span class="n">show_regression_line</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_regression_line</span><span class="p">,</span>
            <span class="n">x_axis_font_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x_axis_font_size</span><span class="p">,</span>
            <span class="n">x_axis_title</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">x_field_name</span><span class="p">,</span>
            <span class="n">y_axis_title</span><span class="o">=</span><span class="n">intermediate_charting_spec</span><span class="o">.</span><span class="n">y_field_name</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1">## output</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">charting_spec</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">CHART</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div><h2 id="tables">Tables</h2>
<p>See <a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign"><code>CommonDesign</code></a>
for the parameters common to all output design dataclasses in sofastats - for example, <code>style_name</code>.</p>
<p><code>DimensionSpec</code> defines the main parameters of both the <code>Row</code> and <code>Column</code> table dimensions.
The only parameter <code>Row</code> and <code>Column</code> adds is the appropriate setting for <code>is_col</code>.</p>


<div class="doc doc-object doc-class">



<h3 id="sofastats.output.tables.interfaces.DimensionSpec" class="doc doc-heading">
            <code>sofastats.output.tables.interfaces.DimensionSpec</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents first">





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>variable_name</code></b>
              (<code><span title="str">str</span></code>)
          
          <div class="doc-md-description">
            <p>name of variable</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>has_total</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>False</code>
)
          
          <div class="doc-md-description">
            <p>if <code>True</code> add a total</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>is_col</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>False</code>
)
          
          <div class="doc-md-description">
            <p>if <code>True</code> is a column</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>pct_metrics</code></b>
              (<code><span title="collections.abc.Collection">Collection</span>[<span title="sofastats.output.tables.interfaces.Metric">Metric</span>] | None</code>, default:
                  <code>None</code>
)
          
          <div class="doc-md-description">
            <p>define which metrics to display - options: <code>Metric.ROW_PCT</code> and <code>Metric.COL_PCT</code></p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>sort_order</code></b>
              (<code><a class="autorefs autorefs-internal" title="sofastats.conf.main.SortOrder" href="#sofastats.conf.main.SortOrder">SortOrder</a> | <span title="str">str</span></code>, default:
                  <code><a class="autorefs autorefs-internal" title="VALUE = 'by value'

  
      class-attribute
      instance-attribute
   (sofastats.conf.main.SortOrder.VALUE)" href="#sofastats.conf.main.SortOrder.VALUE">VALUE</a></code>
)
          
          <div class="doc-md-description">
            <p>sort order of variable</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>child</code></b>
              (<code><span title="typing.Self">Self</span> | None</code>, default:
                  <code>None</code>
)
          
          <div class="doc-md-description">
            <p>a child DimensionSpec if nesting underneath</p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/tables/interfaces.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">DimensionSpec</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        variable_name: name of variable</span>
<span class="sd">        has_total: if `True` add a total</span>
<span class="sd">        is_col: if `True` is a column</span>
<span class="sd">        pct_metrics: define which metrics to display - options: `Metric.ROW_PCT` and `Metric.COL_PCT`</span>
<span class="sd">        sort_order: sort order of variable</span>
<span class="sd">        child: a child DimensionSpec if nesting underneath</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">variable_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">has_total</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">is_col</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">pct_metrics</span><span class="p">:</span> <span class="n">Collection</span><span class="p">[</span><span class="n">Metric</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>
    <span class="n">child</span><span class="p">:</span> <span class="n">Self</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">descendant_vars</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        All variables under, but not including, this DimensionSpec.</span>
<span class="sd">        Note - only includes chains, not trees, as a deliberate design choice to avoid excessively complicated tables.</span>
<span class="sd">        Tables are for computers to make, but for humans to read and understand :-).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dim_vars</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">child</span><span class="p">:</span>
            <span class="n">dim_vars</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">child</span><span class="o">.</span><span class="n">variable_name</span><span class="p">)</span>
            <span class="n">dim_vars</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">child</span><span class="o">.</span><span class="n">descendant_vars</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">dim_vars</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">self_and_descendants</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Self</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        All DimensionSpecs under, and including, this DimensionSpec.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dims</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">,</span> <span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">child</span><span class="p">:</span>
            <span class="n">dims</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">child</span><span class="o">.</span><span class="n">self_and_descendants</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">dims</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">self_and_descendant_vars</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        All variable names under, and including, this DimensionSpec.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">dim</span><span class="o">.</span><span class="n">variable_name</span> <span class="k">for</span> <span class="n">dim</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">self_and_descendants</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">self_and_descendant_totalled_vars</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        All variables under, and including, this DimensionSpec that are totalled (if any).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">dim</span><span class="o">.</span><span class="n">variable_name</span> <span class="k">for</span> <span class="n">dim</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">self_and_descendants</span> <span class="k">if</span> <span class="n">dim</span><span class="o">.</span><span class="n">has_total</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">self_or_descendant_pct_metrics</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Collection</span><span class="p">[</span><span class="n">Metric</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        All percentage metrics (row and/or column percentages) under, or for, this DimensionSpec.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pct_metrics</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pct_metrics</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">child</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">child</span><span class="o">.</span><span class="n">self_or_descendant_pct_metrics</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pct_metrics</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">child</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Metrics are only for terminal dimension specs e.g. a &gt; b &gt; c (can have metrics)&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_col</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Metrics are only for terminal column specs, yet this is a row spec&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">child</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_col</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">child</span><span class="o">.</span><span class="n">is_col</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;This dim has a child that is inconsistent e.g. a col parent having a row child&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">variable_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">descendant_vars</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Variables can&#39;t be repeated in the same dimension spec &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;e.g. Car &gt; Country &gt; Car. Variable </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="sofastats.output.tables.interfaces.Row" class="doc doc-heading">
            <code>sofastats.output.tables.interfaces.Row</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.tables.interfaces.DimensionSpec


  
      dataclass
  " href="#sofastats.output.tables.interfaces.DimensionSpec">DimensionSpec</a></code></p>










              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/tables/interfaces.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Row</span><span class="p">(</span><span class="n">DimensionSpec</span><span class="p">):</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_col</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__post_init__</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="sofastats.output.tables.interfaces.Column" class="doc doc-heading">
            <code>sofastats.output.tables.interfaces.Column</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.tables.interfaces.DimensionSpec


  
      dataclass
  " href="#sofastats.output.tables.interfaces.DimensionSpec">DimensionSpec</a></code></p>










              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/tables/interfaces.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Column</span><span class="p">(</span><span class="n">DimensionSpec</span><span class="p">):</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_col</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__post_init__</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="sofastats.output.tables.freq.FrequencyTableDesign" class="doc doc-heading">
            <code>sofastats.output.tables.freq.FrequencyTableDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign">CommonDesign</a></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>row_variable_designs</code></b>
              (<code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="sofastats.output.tables.interfaces.Row


  
      dataclass
  " href="#sofastats.output.tables.interfaces.Row">Row</a>]</code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>list of Rows</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>include_column_percent</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>False</code>
)
          
          <div class="doc-md-description">
            <p>if <code>True</code> add a column percentage column</p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/tables/freq.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">kw_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">FrequencyTableDesign</span><span class="p">(</span><span class="n">CommonDesign</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        row_variable_designs: list of Rows</span>
<span class="sd">        include_column_percent: if `True` add a column percentage column</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">row_variable_designs</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Row</span><span class="p">]</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>

    <span class="n">include_column_percent</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">totalled_vars</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="n">tot_vars</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">row_spec</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">row_variable_designs</span><span class="p">:</span>
            <span class="n">tot_vars</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">row_spec</span><span class="o">.</span><span class="n">self_and_descendant_totalled_vars</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">tot_vars</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">max_row_depth</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">max_depth</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">row_spec</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">row_variable_designs</span><span class="p">:</span>
            <span class="n">row_depth</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">row_spec</span><span class="o">.</span><span class="n">self_and_descendant_vars</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">row_depth</span> <span class="o">&gt;</span> <span class="n">max_depth</span><span class="p">:</span>
                <span class="n">max_depth</span> <span class="o">=</span> <span class="n">row_depth</span>
        <span class="k">return</span> <span class="n">max_depth</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">CommonDesign</span><span class="o">.</span><span class="n">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">row_vars</span> <span class="o">=</span> <span class="p">[</span><span class="n">spec</span><span class="o">.</span><span class="n">variable_name</span> <span class="k">for</span> <span class="n">spec</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">row_variable_designs</span><span class="p">]</span>
        <span class="n">row_dupes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="n">seen</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">row_var</span> <span class="ow">in</span> <span class="n">row_vars</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">row_var</span> <span class="ow">in</span> <span class="n">seen</span><span class="p">:</span>
                <span class="n">row_dupes</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">row_var</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">seen</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">row_var</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">row_dupes</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Duplicate top-level variable(s) detected in row dimension - </span><span class="si">{</span><span class="nb">sorted</span><span class="p">(</span><span class="n">row_dupes</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_row_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cur</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">row_idx</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">decimal_points</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        See cross_tab docs</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">row_spec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">row_variable_designs</span><span class="p">[</span><span class="n">row_idx</span><span class="p">]</span>
        <span class="n">totalled_variables</span> <span class="o">=</span> <span class="n">row_spec</span><span class="o">.</span><span class="n">self_and_descendant_totalled_vars</span>
        <span class="n">row_vars</span> <span class="o">=</span> <span class="n">row_spec</span><span class="o">.</span><span class="n">self_and_descendant_vars</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">get_data_from_spec</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span>
            <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span> <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">,</span>
            <span class="n">all_variables</span><span class="o">=</span><span class="n">row_vars</span><span class="p">,</span> <span class="n">totalled_variables</span><span class="o">=</span><span class="n">totalled_variables</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>
        <span class="n">n_row_fillers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_row_depth</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">row_vars</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">get_all_metrics_df_from_vars</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">row_vars</span><span class="o">=</span><span class="n">row_vars</span><span class="p">,</span> <span class="n">n_row_fillers</span><span class="o">=</span><span class="n">n_row_fillers</span><span class="p">,</span>
            <span class="n">inc_col_pct</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">include_column_percent</span><span class="p">,</span>
            <span class="n">decimal_points</span><span class="o">=</span><span class="n">decimal_points</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">df</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_tbl_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cur</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        See cross_tab docs</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dfs</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_row_df</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span> <span class="n">row_idx</span><span class="o">=</span><span class="n">row_idx</span><span class="p">,</span> <span class="n">decimal_points</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">decimal_points</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">row_idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">row_variable_designs</span><span class="p">))]</span>
        <span class="n">df_t</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">T</span>
        <span class="n">dfs_remaining</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="k">for</span> <span class="n">df_next</span> <span class="ow">in</span> <span class="n">dfs_remaining</span><span class="p">:</span>
            <span class="n">df_t</span> <span class="o">=</span> <span class="n">df_t</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df_next</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df_t</span><span class="o">.</span><span class="n">T</span>  <span class="c1">## re-transpose back so cols are cols and rows are rows again</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">COMBINED:</span><span class="se">\n</span><span class="si">{</span><span class="n">df</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="c1">## Sorting indexes</span>
        <span class="n">raw_df</span> <span class="o">=</span> <span class="n">get_raw_df</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">)</span>
        <span class="n">order_rules_for_multi_index_branches</span> <span class="o">=</span> <span class="n">get_order_rules_for_multi_index_branches</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">row_variable_designs</span><span class="p">)</span>
        <span class="c1">## ROWS</span>
        <span class="n">unsorted_row_multi_index_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
        <span class="n">sorted_row_multi_index_list</span> <span class="o">=</span> <span class="n">get_sorted_multi_index_list</span><span class="p">(</span>
            <span class="n">unsorted_row_multi_index_list</span><span class="p">,</span> <span class="n">order_rules_for_multi_index_branches</span><span class="o">=</span><span class="n">order_rules_for_multi_index_branches</span><span class="p">,</span>
            <span class="n">sort_orders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span><span class="p">,</span> <span class="n">raw_df</span><span class="o">=</span><span class="n">raw_df</span><span class="p">,</span> <span class="n">has_metrics</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>
        <span class="n">sorted_row_multi_index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">(</span>
            <span class="n">sorted_row_multi_index_list</span><span class="p">)</span>  <span class="c1">## https://pandas.pydata.org/docs/user_guide/advanced.html</span>
        <span class="n">sorted_col_multi_index_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span>
            <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">metric_label_and_metric</span><span class="p">:</span> <span class="n">get_metric2order</span><span class="p">(</span><span class="n">metric_label_and_metric</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
        <span class="n">sorted_col_multi_index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">(</span><span class="n">sorted_col_multi_index_list</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">sorted_row_multi_index</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">sorted_col_multi_index</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">ORDERED:</span><span class="se">\n</span><span class="si">{</span><span class="n">df</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">df</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="n">get_tbl_df_for_cur</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_tbl_df</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">get_tbl_df_for_cur</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">)</span>
        <span class="n">pd_styler</span> <span class="o">=</span> <span class="n">set_table_styles</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="p">)</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="n">pd_styler</span> <span class="o">=</span> <span class="n">apply_index_styles</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">,</span> <span class="n">pd_styler</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;rows&#39;</span><span class="p">)</span>
        <span class="n">pd_styler</span> <span class="o">=</span> <span class="n">apply_index_styles</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">,</span> <span class="n">pd_styler</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span>
        <span class="n">raw_tbl_html</span> <span class="o">=</span> <span class="n">pd_styler</span><span class="o">.</span><span class="n">to_html</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">raw_tbl_html</span><span class="p">)</span>
        <span class="c1">## Fix</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">raw_tbl_html</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">fix_top_left_box</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">)</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">merge_cols_of_blanks</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">pd_styler</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span>  <span class="c1">## A unique identifier to avoid CSS collisions; generated automatically.</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">MAIN_TABLE</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="sofastats.output.tables.cross_tab.CrossTabDesign" class="doc doc-heading">
            <code>sofastats.output.tables.cross_tab.CrossTabDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign">CommonDesign</a></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>row_variable_designs</code></b>
              (<code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="sofastats.output.tables.interfaces.Row


  
      dataclass
  " href="#sofastats.output.tables.interfaces.Row">Row</a>]</code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>list of Rows</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>column_variable_designs</code></b>
              (<code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="sofastats.output.tables.interfaces.Column


  
      dataclass
  " href="#sofastats.output.tables.interfaces.Column">Column</a>]</code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>list of Columns</p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/tables/cross_tab.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">kw_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">CrossTabDesign</span><span class="p">(</span><span class="n">CommonDesign</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        row_variable_designs: list of Rows</span>
<span class="sd">        column_variable_designs: list of Columns</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">row_variable_designs</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Row</span><span class="p">]</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">column_variable_designs</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Column</span><span class="p">]</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>

    <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_get_dupes</span><span class="p">(</span><span class="n">_vars</span><span class="p">:</span> <span class="n">Collection</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="n">dupes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="n">seen</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">_vars</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">seen</span><span class="p">:</span>
                <span class="n">dupes</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">seen</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">dupes</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">totalled_vars</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="n">tot_vars</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">row_spec</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">row_variable_designs</span><span class="p">:</span>
            <span class="n">tot_vars</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">row_spec</span><span class="o">.</span><span class="n">self_and_descendant_totalled_vars</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">col_spec</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">column_variable_designs</span><span class="p">:</span>
            <span class="n">tot_vars</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">col_spec</span><span class="o">.</span><span class="n">self_and_descendant_totalled_vars</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">tot_vars</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_get_max_dim_depth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">is_col</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">max_depth</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">dim_specs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">column_variable_designs</span> <span class="k">if</span> <span class="n">is_col</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">row_variable_designs</span>
        <span class="k">for</span> <span class="n">dim_spec</span> <span class="ow">in</span> <span class="n">dim_specs</span><span class="p">:</span>
            <span class="n">dim_depth</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">dim_spec</span><span class="o">.</span><span class="n">self_and_descendant_vars</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">dim_depth</span> <span class="o">&gt;</span> <span class="n">max_depth</span><span class="p">:</span>
                <span class="n">max_depth</span> <span class="o">=</span> <span class="n">dim_depth</span>
        <span class="k">return</span> <span class="n">max_depth</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">max_row_depth</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_max_dim_depth</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">max_col_depth</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_max_dim_depth</span><span class="p">(</span><span class="n">is_col</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">CommonDesign</span><span class="o">.</span><span class="n">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">row_dupes</span> <span class="o">=</span> <span class="n">CrossTabDesign</span><span class="o">.</span><span class="n">_get_dupes</span><span class="p">([</span><span class="n">spec</span><span class="o">.</span><span class="n">variable_name</span> <span class="k">for</span> <span class="n">spec</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">row_variable_designs</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">row_dupes</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Duplicate top-level variable(s) detected in row dimension - </span><span class="si">{</span><span class="nb">sorted</span><span class="p">(</span><span class="n">row_dupes</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">col_dupes</span> <span class="o">=</span> <span class="n">CrossTabDesign</span><span class="o">.</span><span class="n">_get_dupes</span><span class="p">([</span><span class="n">spec</span><span class="o">.</span><span class="n">variable_name</span> <span class="k">for</span> <span class="n">spec</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">column_variable_designs</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">col_dupes</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Duplicate top-level variable(s) detected in column dimension - </span><span class="si">{</span><span class="nb">sorted</span><span class="p">(</span><span class="n">col_dupes</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="c1">## var can&#39;t be in both row and col e.g. car vs country &gt; car</span>
        <span class="k">for</span> <span class="n">row_spec</span><span class="p">,</span> <span class="n">col_spec</span> <span class="ow">in</span> <span class="n">product</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">row_variable_designs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">column_variable_designs</span><span class="p">):</span>
            <span class="n">row_spec_vars</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">row_spec</span><span class="o">.</span><span class="n">variable_name</span><span class="p">]</span> <span class="o">+</span> <span class="n">row_spec</span><span class="o">.</span><span class="n">descendant_vars</span><span class="p">)</span>
            <span class="n">col_spec_vars</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">col_spec</span><span class="o">.</span><span class="n">variable_name</span><span class="p">]</span> <span class="o">+</span> <span class="n">col_spec</span><span class="o">.</span><span class="n">descendant_vars</span><span class="p">)</span>
            <span class="n">overlapping_vars</span> <span class="o">=</span> <span class="n">row_spec_vars</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">col_spec_vars</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">overlapping_vars</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Variables can&#39;t appear in both rows and columns. &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;Found the following overlapping variable(s): </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">overlapping_vars</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_df_from_row_spec</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cur</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">row_spec_idx</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get a combined df for, e.g. the combined top df. Or the middle df. Or the bottom df. Or whatever you have.</span>
<span class="sd">        e.g.</span>
<span class="sd">        row_variables_design_1 = Row(variable=&#39;country&#39;, has_total=True,</span>
<span class="sd">            child=(variable=&#39;gender&#39;, has_total=True))</span>
<span class="sd">        vs</span>
<span class="sd">        column_variables_design_1 = Column(variable=&#39;Age Group&#39;, has_total=True)</span>
<span class="sd">        column_variables_design_2 = Column(variable=&#39;Web Browser&#39;, has_total=True,</span>
<span class="sd">            child=Column(variable=&#39;Age Group&#39;, has_total=True, pct_metrics=[Metric.ROW_PCT, Metric.COL_PCT]))</span>
<span class="sd">        column_variables_design_3 = Column(variable=&#39;Standard Age Group&#39;, has_total=True)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">row_spec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">row_variable_designs</span><span class="p">[</span><span class="n">row_spec_idx</span><span class="p">]</span>
        <span class="n">row_vars</span> <span class="o">=</span> <span class="n">row_spec</span><span class="o">.</span><span class="n">self_and_descendant_vars</span>
        <span class="n">n_row_fillers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_row_depth</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">row_vars</span><span class="p">)</span>
        <span class="n">df_cols</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">col_spec</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">column_variable_designs</span><span class="p">:</span>
            <span class="n">col_vars</span> <span class="o">=</span> <span class="n">col_spec</span><span class="o">.</span><span class="n">self_and_descendant_vars</span>
            <span class="n">totalled_variables</span> <span class="o">=</span> <span class="n">row_spec</span><span class="o">.</span><span class="n">self_and_descendant_totalled_vars</span> <span class="o">+</span> <span class="n">col_spec</span><span class="o">.</span><span class="n">self_and_descendant_totalled_vars</span>
            <span class="n">all_variables</span> <span class="o">=</span> <span class="n">row_vars</span> <span class="o">+</span> <span class="n">col_vars</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">get_data_from_spec</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span>
                <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span> <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">,</span>
                <span class="n">all_variables</span><span class="o">=</span><span class="n">all_variables</span><span class="p">,</span> <span class="n">totalled_variables</span><span class="o">=</span><span class="n">totalled_variables</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>
            <span class="n">df_col</span> <span class="o">=</span> <span class="n">get_all_metrics_df_from_vars</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">row_vars</span><span class="o">=</span><span class="n">row_vars</span><span class="p">,</span> <span class="n">col_vars</span><span class="o">=</span><span class="n">col_vars</span><span class="p">,</span>
                <span class="n">n_row_fillers</span><span class="o">=</span><span class="n">n_row_fillers</span><span class="p">,</span> <span class="n">n_col_fillers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_col_depth</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">col_vars</span><span class="p">),</span>
                <span class="n">pct_metrics</span><span class="o">=</span><span class="n">col_spec</span><span class="o">.</span><span class="n">self_or_descendant_pct_metrics</span><span class="p">,</span> <span class="n">decimal_points</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">decimal_points</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>
            <span class="n">df_cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df_col</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df_cols</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">df_cols_remaining</span> <span class="o">=</span> <span class="n">df_cols</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="n">row_merge_on</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">row_var</span> <span class="ow">in</span> <span class="n">row_vars</span><span class="p">:</span>
            <span class="n">row_merge_on</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">get_pandas_friendly_name</span><span class="p">(</span><span class="n">row_var</span><span class="p">,</span> <span class="s1">&#39;_var&#39;</span><span class="p">))</span>
            <span class="n">row_merge_on</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row_var</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_row_fillers</span><span class="p">):</span>
            <span class="n">row_merge_on</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;row_filler_var_</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">row_merge_on</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;row_filler_</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">df_next_col</span> <span class="ow">in</span> <span class="n">df_cols_remaining</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_next_col</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="n">row_merge_on</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">df</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_tbl_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cur</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        For each row_variable_designs get a completed df and then merge those.</span>

<span class="sd">        Note - using pd.concat or df.merge(how=&#39;outer&#39;) has the same result, but I use merge for horizontal joining</span>
<span class="sd">        to avoid repeating the row dimension columns e.g. country and gender.</span>

<span class="sd">        Basically we are merging left and right dfs. Merging is typically on an id field that both parts share.</span>
<span class="sd">        In this case there are as many fields to merge on as there are fields in the row index -</span>
<span class="sd">        in this example there are 4 (var_00, val_00, var_01, and val_01).</span>
<span class="sd">        There is one added complexity because the column is multi-index.</span>
<span class="sd">        We need to supply a tuple with an item (possibly an empty string) for each level.</span>
<span class="sd">        In this case there are two levels (browser and age_group). So we merge on</span>
<span class="sd">        [(&#39;var_00&#39;, &#39;&#39;), (&#39;val_00&#39;, &#39;&#39;), (&#39;var_01&#39;, &#39;&#39;), (&#39;val_01&#39;, &#39;&#39;)]</span>
<span class="sd">        If there were three row levels and four col levels we would need something like:</span>
<span class="sd">        [(&#39;var_00&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;), (&#39;val_00&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;), ... (&#39;val_02&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;)]</span>

<span class="sd">        BOTTOM LEFT:</span>
<span class="sd">        browser    var_00       val_00     var_01     val_01 Chrome                       Firefox</span>
<span class="sd">        agegroup                                                &lt;20 20-29 30-39 40-64 65+     &lt;20 20-29 30-39 40-64 65+</span>
<span class="sd">        0         Country           NZ  __blank__  __blank__     10    19    17    28  44      25    26    14    38  48</span>
<span class="sd">        ...</span>

<span class="sd">        BOTTOM RIGHT:</span>
<span class="sd">        agegroup   var_00       val_00     var_01     val_01 &lt;20 20-29 30-39 40-64 65+</span>
<span class="sd">        dummy</span>
<span class="sd">        0         Country           NZ  __blank__  __blank__  35    45    31    66  92</span>
<span class="sd">        ...</span>

<span class="sd">        Note - we flatten out the row multi-index using reset_index().</span>
<span class="sd">        This flattening results in a column per row variable e.g. one for country and one for gender</span>
<span class="sd">         (at this point we&#39;re ignoring the labelling step where we split each row variable e.g. for country into Country (var) and NZ (val)).</span>
<span class="sd">        Given it is a column, it has to have as many levels as the column dimension columns.</span>
<span class="sd">        So if there are two column dimension levels each row column will need to be a two-tuple e.g. (&#39;gender&#39;, &#39;&#39;).</span>
<span class="sd">        If there were three column dimension levels the row column would need to be a three-tuple e.g. (&#39;gender&#39;, &#39;&#39;, &#39;&#39;).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dfs</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_df_from_row_spec</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span> <span class="n">row_spec_idx</span><span class="o">=</span><span class="n">row_spec_idx</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">row_spec_idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">row_variable_designs</span><span class="p">))]</span>
        <span class="c1">## COMBINE using pandas JOINing (the big magic trick at the middle of this approach to complex table-making)</span>
        <span class="c1">## Unfortunately, delegating to Pandas means we can&#39;t fix anything intrinsic to what Pandas does.</span>
        <span class="c1">## And there is a bug (from my point of view) whenever tables are merged with the same variables at the top level.</span>
        <span class="c1">## To prevent this we have to disallow variable reuse at top-level.</span>
        <span class="c1">## transpose, join, and re-transpose back. JOINing on rows works differently from columns and will include all items in sub-levels under the correct upper levels even if missing from the first multi-index</span>
        <span class="c1">## E.g. if Age Group &gt; 40-64 is missing from the first index it will not be appended on the end but will be alongside all its siblings so we end up with Age Group &gt; &gt;20, 20-29 30-39, 40-64, 65+</span>
        <span class="c1">## Note - variable levels (odd numbered levels if 1 is the top level) should be in the same order as they were originally</span>
        <span class="n">df_t</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">T</span>
        <span class="n">dfs_remaining</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="k">for</span> <span class="n">df_next</span> <span class="ow">in</span> <span class="n">dfs_remaining</span><span class="p">:</span>
            <span class="n">df_t</span> <span class="o">=</span> <span class="n">df_t</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df_next</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df_t</span><span class="o">.</span><span class="n">T</span>  <span class="c1">## re-transpose back so cols are cols and rows are rows again</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">COMBINED:</span><span class="se">\n</span><span class="si">{</span><span class="n">df</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="c1">## Sorting indexes</span>
        <span class="n">raw_df</span> <span class="o">=</span> <span class="n">get_raw_df</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>
        <span class="n">order_rules_for_row_multi_index_branches</span> <span class="o">=</span> <span class="n">get_order_rules_for_multi_index_branches</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">row_variable_designs</span><span class="p">)</span>
        <span class="n">order_rules_for_col_multi_index_branches</span> <span class="o">=</span> <span class="n">get_order_rules_for_multi_index_branches</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">column_variable_designs</span><span class="p">)</span>
        <span class="c1">## COLS</span>
        <span class="n">unsorted_col_multi_index_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
        <span class="n">sorted_col_multi_index_list</span> <span class="o">=</span> <span class="n">get_sorted_multi_index_list</span><span class="p">(</span>
            <span class="n">unsorted_col_multi_index_list</span><span class="p">,</span> <span class="n">order_rules_for_multi_index_branches</span><span class="o">=</span><span class="n">order_rules_for_col_multi_index_branches</span><span class="p">,</span>
            <span class="n">sort_orders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span><span class="p">,</span> <span class="n">raw_df</span><span class="o">=</span><span class="n">raw_df</span><span class="p">,</span> <span class="n">has_metrics</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>
        <span class="n">sorted_col_multi_index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">(</span><span class="n">sorted_col_multi_index_list</span><span class="p">)</span>  <span class="c1">## https://pandas.pydata.org/docs/user_guide/advanced.html</span>
        <span class="c1">## ROWS</span>
        <span class="n">unsorted_row_multi_index_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
        <span class="n">sorted_row_multi_index_list</span> <span class="o">=</span> <span class="n">get_sorted_multi_index_list</span><span class="p">(</span>
            <span class="n">unsorted_row_multi_index_list</span><span class="p">,</span> <span class="n">order_rules_for_multi_index_branches</span><span class="o">=</span><span class="n">order_rules_for_row_multi_index_branches</span><span class="p">,</span>
            <span class="n">sort_orders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span><span class="p">,</span> <span class="n">raw_df</span><span class="o">=</span><span class="n">raw_df</span><span class="p">,</span> <span class="n">has_metrics</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>
        <span class="n">sorted_row_multi_index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">(</span><span class="n">sorted_row_multi_index_list</span><span class="p">)</span>  <span class="c1">## https://pandas.pydata.org/docs/user_guide/advanced.html</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">sorted_row_multi_index</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">sorted_col_multi_index</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">ORDERED:</span><span class="se">\n</span><span class="si">{</span><span class="n">df</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">df</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="n">get_tbl_df_for_cur</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_tbl_df</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">get_tbl_df_for_cur</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">)</span>
        <span class="n">pd_styler</span> <span class="o">=</span> <span class="n">set_table_styles</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="p">)</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="n">pd_styler</span> <span class="o">=</span> <span class="n">apply_index_styles</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">,</span> <span class="n">pd_styler</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;rows&#39;</span><span class="p">)</span>
        <span class="n">pd_styler</span> <span class="o">=</span> <span class="n">apply_index_styles</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">,</span> <span class="n">pd_styler</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span>
        <span class="n">raw_tbl_html</span> <span class="o">=</span> <span class="n">pd_styler</span><span class="o">.</span><span class="n">to_html</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">raw_tbl_html</span><span class="p">)</span>
        <span class="c1">## Fix</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">raw_tbl_html</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">fix_top_left_box</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">)</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">merge_cols_of_blanks</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">merge_rows_of_blanks</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">pd_styler</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">MAIN_TABLE</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div><h2 id="statistical-tests">Statistical Tests</h2>


<div class="doc doc-object doc-class">



<h3 id="sofastats.output.stats.interfaces.CommonStatsDesign" class="doc doc-heading">
            <code>sofastats.output.stats.interfaces.CommonStatsDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.interfaces.CommonDesign


  
      dataclass
  " href="#sofastats.output.interfaces.CommonDesign">CommonDesign</a></code></p>



        <p>Output dataclasses for statistical tests (e.g. MannWhitneyUDesign) inherit from CommonStatsDesign.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/stats/interfaces.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">CommonStatsDesign</span><span class="p">(</span><span class="n">CommonDesign</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Output dataclasses for statistical tests (e.g. MannWhitneyUDesign) inherit from CommonStatsDesign.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_result</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">StatsResult</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a dataclass with results as attributes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="sofastats.output.stats.interfaces.CommonStatsDesign.to_result" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_result</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">StatsResult</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Return a dataclass with results as attributes</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/sofastats/output/stats/interfaces.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">to_result</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">StatsResult</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a dataclass with results as attributes</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h3 id="anova">ANOVA</h3>
<p>See <a class="autorefs autorefs-internal" title="sofastats.output.stats.interfaces.CommonStatsDesign


  
      dataclass
  " href="#sofastats.output.stats.interfaces.CommonStatsDesign"><code>CommonStatsDesign</code></a>
for details of the <code>to_result()</code> method common to all stats output design dataclasses in sofastats.</p>


<div class="doc doc-object doc-class">



<h4 id="sofastats.output.stats.anova.AnovaDesign" class="doc doc-heading">
            <code>sofastats.output.stats.anova.AnovaDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="sofastats.output.stats.interfaces.CommonStatsDesignWithoutSortAttributes">CommonStatsDesignWithoutSortAttributes</span></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>measure_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the name of the field aggregated by group - the ANOVA compares the mean value of each group.
For example, 'Age'</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>grouping_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the name of the field used to define the groups compared in the ANOVA e.g. 'Country'</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>grouping_field_values</code></b>
              (<code><span title="collections.abc.Sequence">Sequence</span>[<span title="typing.Any">Any</span>]</code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the ANOVA will compare the means of the groups defined
by the values of the grouping field listed here e.g. ['South Korea', 'NZ', 'USA']</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>high_precision_required</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>False</code>
)
          
          <div class="doc-md-description">
            <p>if <code>True</code>, the calculation will be high precision
and the algorithm used will not be vulnerable to certain edge cases.
Why not use it by default? Because it runs much, much, much slower and the edge cases are quite rare.
The high precision algorithm uses Python's
<a href="https://docs.python.org/3/library/decimal.html">decimal</a> data type rather than floats.
Using floating point math is a pragmatic strategy, but it reduces accuracy.
In particular edge cases, it can produce wildly different results from the correct results.
High precision is needed to handle difficult datasets e.g. ANOVA test 9 from the NIST website.
Search for articles / videos on the topic of floating point math if interested. It is a fascinating topic.
If to one decimal point the high precision algorithm also multiplies some values by 10
to push from float to integer (to reduce error) and then divides squared values by 100 (10 squared)
at the end in key calculations to restore to correct magnitude.</p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/stats/anova.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">AnovaDesign</span><span class="p">(</span><span class="n">CommonStatsDesignWithoutSortAttributes</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        measure_field_name: the name of the field aggregated by group - the ANOVA compares the mean value of each group.</span>
<span class="sd">            For example, &#39;Age&#39;</span>
<span class="sd">        grouping_field_name: the name of the field used to define the groups compared in the ANOVA e.g. &#39;Country&#39;</span>
<span class="sd">        grouping_field_values: the ANOVA will compare the means of the groups defined</span>
<span class="sd">            by the values of the grouping field listed here e.g. [&#39;South Korea&#39;, &#39;NZ&#39;, &#39;USA&#39;]</span>
<span class="sd">        high_precision_required: if `True`, the calculation will be high precision</span>
<span class="sd">            and the algorithm used will not be vulnerable to certain edge cases.</span>
<span class="sd">            Why not use it by default? Because it runs much, much, much slower and the edge cases are quite rare.</span>
<span class="sd">            The high precision algorithm uses Python&#39;s</span>
<span class="sd">            [decimal](https://docs.python.org/3/library/decimal.html) data type rather than floats.</span>
<span class="sd">            Using floating point math is a pragmatic strategy, but it reduces accuracy.</span>
<span class="sd">            In particular edge cases, it can produce wildly different results from the correct results.</span>
<span class="sd">            High precision is needed to handle difficult datasets e.g. ANOVA test 9 from the NIST website.</span>
<span class="sd">            Search for articles / videos on the topic of floating point math if interested. It is a fascinating topic.</span>
<span class="sd">            If to one decimal point the high precision algorithm also multiplies some values by 10</span>
<span class="sd">            to push from float to integer (to reduce error) and then divides squared values by 100 (10 squared)</span>
<span class="sd">            at the end in key calculations to restore to correct magnitude.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">measure_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">grouping_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">grouping_field_values</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">high_precision_required</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_result</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AnovaResult</span><span class="p">:</span>
        <span class="c1">## data</span>
        <span class="n">grouping_val_is_numeric</span> <span class="o">=</span> <span class="nb">all</span><span class="p">(</span><span class="n">is_numeric</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_values</span><span class="p">)</span>
        <span class="c1">## build sample results ready for anova function</span>
        <span class="n">samples</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">grouping_field_value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_values</span><span class="p">:</span>
            <span class="n">grouping_filter</span> <span class="o">=</span> <span class="n">ValFilterSpec</span><span class="p">(</span><span class="n">variable_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_name</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">grouping_field_value</span><span class="p">,</span>
                <span class="n">val_is_numeric</span><span class="o">=</span><span class="n">grouping_val_is_numeric</span><span class="p">)</span>
            <span class="n">sample</span> <span class="o">=</span> <span class="n">get_sample</span><span class="p">(</span><span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
                <span class="n">grouping_filter</span><span class="o">=</span><span class="n">grouping_filter</span><span class="p">,</span> <span class="n">measure_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_field_name</span><span class="p">,</span>
                <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
            <span class="n">samples</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
        <span class="n">stats_result</span> <span class="o">=</span> <span class="n">anova_stats_calc</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">measure_field_name</span><span class="p">,</span> <span class="n">samples</span><span class="p">,</span> <span class="n">high</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">high_precision_required</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">stats_result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1">## style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">grouping_val_is_numeric</span> <span class="o">=</span> <span class="nb">all</span><span class="p">(</span><span class="n">is_numeric</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_values</span><span class="p">)</span>
        <span class="c1">## build sample results ready for anova function</span>
        <span class="n">samples</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">grouping_field_value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_values</span><span class="p">:</span>
            <span class="n">grouping_filter</span> <span class="o">=</span> <span class="n">ValFilterSpec</span><span class="p">(</span><span class="n">variable_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_name</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">grouping_field_value</span><span class="p">,</span>
                <span class="n">val_is_numeric</span><span class="o">=</span><span class="n">grouping_val_is_numeric</span><span class="p">)</span>
            <span class="n">sample</span> <span class="o">=</span> <span class="n">get_sample</span><span class="p">(</span><span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
                <span class="n">grouping_filter</span><span class="o">=</span><span class="n">grouping_filter</span><span class="p">,</span> <span class="n">measure_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_field_name</span><span class="p">,</span>
                <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
            <span class="n">samples</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
        <span class="c1">## calculations</span>
        <span class="n">stats_result</span> <span class="o">=</span> <span class="n">anova_stats_calc</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">measure_field_name</span><span class="p">,</span> <span class="n">samples</span><span class="p">,</span> <span class="n">high</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">high_precision_required</span><span class="p">)</span>
        <span class="c1">## output</span>
        <span class="n">histograms2show</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">group_spec</span> <span class="ow">in</span> <span class="n">stats_result</span><span class="o">.</span><span class="n">group_specs</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">histogram_html</span> <span class="o">=</span> <span class="n">get_embedded_histogram_html</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">measure_field_name</span><span class="p">,</span> <span class="n">style_spec</span><span class="o">.</span><span class="n">chart</span><span class="p">,</span> <span class="n">group_spec</span><span class="o">.</span><span class="n">vals</span><span class="p">,</span> <span class="n">group_spec</span><span class="o">.</span><span class="n">label</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">html_or_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&lt;b&gt;</span><span class="si">{</span><span class="n">group_spec</span><span class="o">.</span><span class="n">label</span><span class="si">}</span><span class="s2">&lt;/b&gt; - unable to display histogram. Reason: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">html_or_msg</span> <span class="o">=</span> <span class="n">histogram_html</span>
            <span class="n">histograms2show</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">html_or_msg</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">Result</span><span class="p">(</span><span class="o">**</span><span class="n">todict</span><span class="p">(</span><span class="n">stats_result</span><span class="p">),</span>
            <span class="n">grouping_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_name</span><span class="p">,</span>
            <span class="n">measure_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_field_name</span><span class="p">,</span>
            <span class="n">histograms2show</span><span class="o">=</span><span class="n">histograms2show</span><span class="p">,</span>
            <span class="n">decimal_points</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">decimal_points</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">STATS</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div><h3 id="chi-square">Chi Square</h3>
<p>See <a class="autorefs autorefs-internal" title="sofastats.output.stats.interfaces.CommonStatsDesign


  
      dataclass
  " href="#sofastats.output.stats.interfaces.CommonStatsDesign"><code>CommonStatsDesign</code></a>
for details of the <code>to_result()</code> method common to all stats output design dataclasses in sofastats.</p>


<div class="doc doc-object doc-class">



<h4 id="sofastats.output.stats.chi_square.ChiSquareDesign" class="doc doc-heading">
            <code>sofastats.output.stats.chi_square.ChiSquareDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="sofastats.output.stats.interfaces.CommonStatsDesign


  
      dataclass
  " href="#sofastats.output.stats.interfaces.CommonStatsDesign">CommonStatsDesign</a></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>variable_a_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the name of the first variable</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>variable_a_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the name of the second variable</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_workings</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>False</code>
)
          
          <div class="doc-md-description">
            <p>show the workings so you can see how the final results were derived</p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/stats/chi_square.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">ChiSquareDesign</span><span class="p">(</span><span class="n">CommonStatsDesign</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        variable_a_name: the name of the first variable</span>
<span class="sd">        variable_a_name: the name of the second variable</span>
<span class="sd">        show_workings: show the workings so you can see how the final results were derived</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">variable_a_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">variable_a_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>
    <span class="n">variable_b_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">variable_b_sort_order</span><span class="p">:</span> <span class="n">SortOrder</span> <span class="o">=</span> <span class="n">SortOrder</span><span class="o">.</span><span class="n">VALUE</span>

    <span class="n">show_workings</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_result</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ChiSquareResult</span><span class="p">:</span>
        <span class="c1">## data</span>
        <span class="n">chi_square_data</span> <span class="o">=</span> <span class="n">get_chi_square_data</span><span class="p">(</span><span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span>
            <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span> <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">,</span>
            <span class="n">variable_a_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_a_name</span><span class="p">,</span> <span class="n">variable_a_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_a_sort_order</span><span class="p">,</span>
            <span class="n">variable_b_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_b_name</span><span class="p">,</span> <span class="n">variable_b_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_b_sort_order</span><span class="p">,</span>
            <span class="n">sort_orders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span><span class="p">)</span>
        <span class="c1">## get results</span>
        <span class="n">stats_result</span> <span class="o">=</span> <span class="n">chi_square_stats_calc</span><span class="p">(</span>
            <span class="n">f_obs</span><span class="o">=</span><span class="n">chi_square_data</span><span class="o">.</span><span class="n">observed_values_a_then_b_ordered</span><span class="p">,</span>
            <span class="n">f_exp</span><span class="o">=</span><span class="n">chi_square_data</span><span class="o">.</span><span class="n">expected_values_a_then_b_ordered</span><span class="p">,</span>
            <span class="n">df</span><span class="o">=</span><span class="n">chi_square_data</span><span class="o">.</span><span class="n">degrees_of_freedom</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">stats_result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1">## style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">chi_square_data</span> <span class="o">=</span> <span class="n">get_chi_square_data</span><span class="p">(</span><span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span>
            <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span> <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">,</span>
            <span class="n">variable_a_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_a_name</span><span class="p">,</span> <span class="n">variable_a_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_a_sort_order</span><span class="p">,</span>
            <span class="n">variable_b_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_b_name</span><span class="p">,</span> <span class="n">variable_b_sort_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_b_sort_order</span><span class="p">,</span>
            <span class="n">sort_orders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sort_orders</span><span class="p">)</span>
        <span class="c1">## get results</span>
        <span class="n">stats_result</span> <span class="o">=</span> <span class="n">chi_square_stats_calc</span><span class="p">(</span>
            <span class="n">f_obs</span><span class="o">=</span><span class="n">chi_square_data</span><span class="o">.</span><span class="n">observed_values_a_then_b_ordered</span><span class="p">,</span>
            <span class="n">f_exp</span><span class="o">=</span><span class="n">chi_square_data</span><span class="o">.</span><span class="n">expected_values_a_then_b_ordered</span><span class="p">,</span>
            <span class="n">df</span><span class="o">=</span><span class="n">chi_square_data</span><span class="o">.</span><span class="n">degrees_of_freedom</span><span class="p">)</span>

        <span class="n">observed_vs_expected_tbl</span> <span class="o">=</span> <span class="n">get_observed_vs_expected_tbl</span><span class="p">(</span>
            <span class="n">variable_a_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_a_name</span><span class="p">,</span> <span class="n">variable_b_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_b_name</span><span class="p">,</span>
            <span class="n">variable_a_values</span><span class="o">=</span><span class="n">chi_square_data</span><span class="o">.</span><span class="n">variable_a_values</span><span class="p">,</span> <span class="n">variable_b_values</span><span class="o">=</span><span class="n">chi_square_data</span><span class="o">.</span><span class="n">variable_b_values</span><span class="p">,</span>
            <span class="n">observed_values_a_then_b_ordered</span><span class="o">=</span><span class="n">chi_square_data</span><span class="o">.</span><span class="n">observed_values_a_then_b_ordered</span><span class="p">,</span>
            <span class="n">expected_values_a_then_b_ordered</span><span class="o">=</span><span class="n">chi_square_data</span><span class="o">.</span><span class="n">expected_values_a_then_b_ordered</span><span class="p">,</span>
            <span class="n">style_name_hyphens</span><span class="o">=</span><span class="n">style_spec</span><span class="o">.</span><span class="n">style_name_hyphens</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">chi_square_charts</span> <span class="o">=</span> <span class="n">get_chi_square_charts</span><span class="p">(</span>
            <span class="n">style_spec</span><span class="o">=</span><span class="n">style_spec</span><span class="p">,</span>
            <span class="n">variable_a_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_a_name</span><span class="p">,</span> <span class="n">variable_b_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_b_name</span><span class="p">,</span>
            <span class="n">variable_a_values</span><span class="o">=</span><span class="n">chi_square_data</span><span class="o">.</span><span class="n">variable_a_values</span><span class="p">,</span> <span class="n">variable_b_values</span><span class="o">=</span><span class="n">chi_square_data</span><span class="o">.</span><span class="n">variable_b_values</span><span class="p">,</span>
            <span class="n">observed_values_a_then_b_ordered</span><span class="o">=</span><span class="n">chi_square_data</span><span class="o">.</span><span class="n">observed_values_a_then_b_ordered</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_workings</span><span class="p">:</span>
            <span class="n">worked_result</span> <span class="o">=</span> <span class="n">get_worked_result</span><span class="p">(</span>
                <span class="n">variable_a_values</span><span class="o">=</span><span class="n">chi_square_data</span><span class="o">.</span><span class="n">variable_a_values</span><span class="p">,</span> <span class="n">variable_b_values</span><span class="o">=</span><span class="n">chi_square_data</span><span class="o">.</span><span class="n">variable_b_values</span><span class="p">,</span>
                <span class="n">observed_values_a_then_b_ordered</span><span class="o">=</span><span class="n">chi_square_data</span><span class="o">.</span><span class="n">observed_values_a_then_b_ordered</span><span class="p">,</span>
                <span class="n">degrees_of_freedom</span><span class="o">=</span><span class="n">chi_square_data</span><span class="o">.</span><span class="n">degrees_of_freedom</span><span class="p">)</span>
            <span class="n">worked_example</span> <span class="o">=</span> <span class="n">get_worked_example</span><span class="p">(</span><span class="n">worked_result</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">worked_result</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">worked_example</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">Result</span><span class="p">(</span>
            <span class="n">variable_a_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_a_name</span><span class="p">,</span> <span class="n">variable_b_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_b_name</span><span class="p">,</span>
            <span class="n">variable_a_values</span><span class="o">=</span><span class="n">chi_square_data</span><span class="o">.</span><span class="n">variable_a_values</span><span class="p">,</span> <span class="n">variable_b_values</span><span class="o">=</span><span class="n">chi_square_data</span><span class="o">.</span><span class="n">variable_b_values</span><span class="p">,</span>
            <span class="n">observed_values_a_then_b_ordered</span><span class="o">=</span><span class="n">chi_square_data</span><span class="o">.</span><span class="n">observed_values_a_then_b_ordered</span><span class="p">,</span>
            <span class="n">expected_values_a_then_b_ordered</span><span class="o">=</span><span class="n">chi_square_data</span><span class="o">.</span><span class="n">expected_values_a_then_b_ordered</span><span class="p">,</span>
            <span class="n">p</span><span class="o">=</span><span class="n">stats_result</span><span class="o">.</span><span class="n">p</span><span class="p">,</span> <span class="n">chi_square</span><span class="o">=</span><span class="n">stats_result</span><span class="o">.</span><span class="n">chi_square</span><span class="p">,</span> <span class="n">degrees_of_freedom</span><span class="o">=</span><span class="n">chi_square_data</span><span class="o">.</span><span class="n">degrees_of_freedom</span><span class="p">,</span>
            <span class="n">minimum_cell_count</span><span class="o">=</span><span class="n">chi_square_data</span><span class="o">.</span><span class="n">minimum_cell_count</span><span class="p">,</span> <span class="n">pct_cells_lt_5</span><span class="o">=</span><span class="n">chi_square_data</span><span class="o">.</span><span class="n">pct_cells_freq_under_5</span><span class="p">,</span>
            <span class="n">observed_vs_expected_tbl</span><span class="o">=</span><span class="n">observed_vs_expected_tbl</span><span class="p">,</span> <span class="n">chi_square_charts</span><span class="o">=</span><span class="n">chi_square_charts</span><span class="p">,</span>
            <span class="n">worked_example</span><span class="o">=</span><span class="n">worked_example</span><span class="p">,</span> <span class="n">decimal_points</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">decimal_points</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">STATS</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div><h3 id="kruskal-wallis-h">Kruskal-Wallis H</h3>
<p>See <a class="autorefs autorefs-internal" title="sofastats.output.stats.interfaces.CommonStatsDesign


  
      dataclass
  " href="#sofastats.output.stats.interfaces.CommonStatsDesign"><code>CommonStatsDesign</code></a>
for details of the <code>to_result()</code> method common to all stats output design dataclasses in sofastats.</p>


<div class="doc doc-object doc-class">



<h4 id="sofastats.output.stats.kruskal_wallis_h.KruskalWallisHDesign" class="doc doc-heading">
            <code>sofastats.output.stats.kruskal_wallis_h.KruskalWallisHDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="sofastats.output.stats.interfaces.CommonStatsDesignWithoutSortAttributes">CommonStatsDesignWithoutSortAttributes</span></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>measure_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the name of the field aggregated by group - the analysis compares the mean value of each group.
For example, 'Age'</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>grouping_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the name of the field used to define the groups compared in the analysis e.g. 'Country'</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>grouping_field_values</code></b>
              (<code><span title="collections.abc.Sequence">Sequence</span>[<span title="typing.Any">Any</span>]</code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the analysis will compare the means of the groups defined
by the values of the grouping field listed here e.g. ['South Korea', 'NZ', 'USA']</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_workings</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>False</code>
)
          
          <div class="doc-md-description">
            <p>show the workings so you can see how the final results were derived</p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/stats/kruskal_wallis_h.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">KruskalWallisHDesign</span><span class="p">(</span><span class="n">CommonStatsDesignWithoutSortAttributes</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        measure_field_name: the name of the field aggregated by group - the analysis compares the mean value of each group.</span>
<span class="sd">            For example, &#39;Age&#39;</span>
<span class="sd">        grouping_field_name: the name of the field used to define the groups compared in the analysis e.g. &#39;Country&#39;</span>
<span class="sd">        grouping_field_values: the analysis will compare the means of the groups defined</span>
<span class="sd">            by the values of the grouping field listed here e.g. [&#39;South Korea&#39;, &#39;NZ&#39;, &#39;USA&#39;]</span>
<span class="sd">        show_workings: show the workings so you can see how the final results were derived</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">measure_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">grouping_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">grouping_field_values</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>

    <span class="n">show_workings</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_result</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KruskalWallisHResult</span><span class="p">:</span>
        <span class="c1">## data</span>
        <span class="n">grouping_val_is_numeric</span> <span class="o">=</span> <span class="nb">all</span><span class="p">(</span><span class="n">is_numeric</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_values</span><span class="p">)</span>
        <span class="n">samples</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">grouping_field_value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_values</span><span class="p">:</span>
            <span class="n">grouping_filter</span> <span class="o">=</span> <span class="n">ValFilterSpec</span><span class="p">(</span><span class="n">variable_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_name</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">grouping_field_value</span><span class="p">,</span>
                <span class="n">val_is_numeric</span><span class="o">=</span><span class="n">grouping_val_is_numeric</span><span class="p">)</span>
            <span class="n">sample</span> <span class="o">=</span> <span class="n">get_sample</span><span class="p">(</span><span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
                <span class="n">grouping_filter</span><span class="o">=</span><span class="n">grouping_filter</span><span class="p">,</span> <span class="n">measure_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_field_name</span><span class="p">,</span>
                <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
            <span class="n">samples</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
        <span class="n">stats_result</span> <span class="o">=</span> <span class="n">kruskal_wallis_h_stats_calc</span><span class="p">(</span><span class="n">samples</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">stats_result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1">## style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">grouping_val_is_numeric</span> <span class="o">=</span> <span class="nb">all</span><span class="p">(</span><span class="n">is_numeric</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_values</span><span class="p">)</span>
        <span class="n">samples</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">grouping_field_value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_values</span><span class="p">:</span>
            <span class="n">grouping_filter</span> <span class="o">=</span> <span class="n">ValFilterSpec</span><span class="p">(</span><span class="n">variable_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_name</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">grouping_field_value</span><span class="p">,</span>
                <span class="n">val_is_numeric</span><span class="o">=</span><span class="n">grouping_val_is_numeric</span><span class="p">)</span>
            <span class="n">sample</span> <span class="o">=</span> <span class="n">get_sample</span><span class="p">(</span><span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
                <span class="n">grouping_filter</span><span class="o">=</span><span class="n">grouping_filter</span><span class="p">,</span> <span class="n">measure_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_field_name</span><span class="p">,</span>
                <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
            <span class="n">samples</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
        <span class="n">stats_result</span> <span class="o">=</span> <span class="n">kruskal_wallis_h_stats_calc</span><span class="p">(</span><span class="n">samples</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">Result</span><span class="p">(</span><span class="o">**</span><span class="n">todict</span><span class="p">(</span><span class="n">stats_result</span><span class="p">),</span>
            <span class="n">grouping_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_name</span><span class="p">,</span>
            <span class="n">measure_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_field_name</span><span class="p">,</span>
            <span class="n">decimal_points</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">decimal_points</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">STATS</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div><h3 id="mann-whitney-u">Mann-Whitney U</h3>
<p>See <a class="autorefs autorefs-internal" title="sofastats.output.stats.interfaces.CommonStatsDesign


  
      dataclass
  " href="#sofastats.output.stats.interfaces.CommonStatsDesign"><code>CommonStatsDesign</code></a>
for details of the <code>to_result()</code> method common to all stats output design dataclasses in sofastats.</p>


<div class="doc doc-object doc-class">



<h4 id="sofastats.output.stats.mann_whitney_u.MannWhitneyUDesign" class="doc doc-heading">
            <code>sofastats.output.stats.mann_whitney_u.MannWhitneyUDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="sofastats.output.stats.interfaces.CommonStatsDesignWithoutSortAttributes">CommonStatsDesignWithoutSortAttributes</span></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>measure_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the name of the field aggregated by group - the analysis compares the mean value of each group.
For example, 'Age'</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>grouping_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the name of the field used to define the groups compared in the analysis e.g. 'Country'</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>group_a_value</code></b>
              (<code><span title="typing.Any">Any</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the analysis will compare the ranks of this group
against the ranks of the group defined by group_b_value</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>group_b_value</code></b>
              (<code><span title="typing.Any">Any</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the analysis will compare the ranks of this group
against the ranks of the group defined by group_a_value</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_workings</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>False</code>
)
          
          <div class="doc-md-description">
            <p>show the workings so you can see how the final results were derived</p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/stats/mann_whitney_u.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MannWhitneyUDesign</span><span class="p">(</span><span class="n">CommonStatsDesignWithoutSortAttributes</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        measure_field_name: the name of the field aggregated by group - the analysis compares the mean value of each group.</span>
<span class="sd">            For example, &#39;Age&#39;</span>
<span class="sd">        grouping_field_name: the name of the field used to define the groups compared in the analysis e.g. &#39;Country&#39;</span>
<span class="sd">        group_a_value: the analysis will compare the ranks of this group</span>
<span class="sd">            against the ranks of the group defined by group_b_value</span>
<span class="sd">        group_b_value: the analysis will compare the ranks of this group</span>
<span class="sd">            against the ranks of the group defined by group_a_value</span>
<span class="sd">        show_workings: show the workings so you can see how the final results were derived</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">measure_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">grouping_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">group_a_value</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">group_b_value</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>

    <span class="n">show_workings</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_result</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MannWhitneyUResult</span><span class="p">:</span>
        <span class="c1">## build samples ready for mann whitney u function</span>
        <span class="n">grouping_filter_a</span> <span class="o">=</span> <span class="n">ValFilterSpec</span><span class="p">(</span><span class="n">variable_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_name</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">group_a_value</span><span class="p">,</span> <span class="n">val_is_numeric</span><span class="o">=</span><span class="n">is_numeric</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">group_a_value</span><span class="p">))</span>
        <span class="n">sample_a</span> <span class="o">=</span> <span class="n">get_sample</span><span class="p">(</span><span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">grouping_filter</span><span class="o">=</span><span class="n">grouping_filter_a</span><span class="p">,</span> <span class="n">measure_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_field_name</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
        <span class="n">grouping_filter_b</span> <span class="o">=</span> <span class="n">ValFilterSpec</span><span class="p">(</span><span class="n">variable_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_name</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">group_b_value</span><span class="p">,</span> <span class="n">val_is_numeric</span><span class="o">=</span><span class="n">is_numeric</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">group_b_value</span><span class="p">))</span>
        <span class="n">sample_b</span> <span class="o">=</span> <span class="n">get_sample</span><span class="p">(</span><span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">grouping_filter</span><span class="o">=</span><span class="n">grouping_filter_b</span><span class="p">,</span> <span class="n">measure_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_field_name</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
        <span class="n">stats_result</span> <span class="o">=</span> <span class="n">mann_whitney_u_stats_calc</span><span class="p">(</span><span class="n">sample_a</span><span class="o">=</span><span class="n">sample_a</span><span class="p">,</span> <span class="n">sample_b</span><span class="o">=</span><span class="n">sample_b</span><span class="p">,</span> <span class="n">high_volume_ok</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">stats_result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1">## style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="c1">## build samples ready for mann whitney u function</span>
        <span class="n">grouping_filter_a</span> <span class="o">=</span> <span class="n">ValFilterSpec</span><span class="p">(</span><span class="n">variable_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_name</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">group_a_value</span><span class="p">,</span> <span class="n">val_is_numeric</span><span class="o">=</span><span class="n">is_numeric</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">group_a_value</span><span class="p">))</span>
        <span class="n">sample_a</span> <span class="o">=</span> <span class="n">get_sample</span><span class="p">(</span><span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">grouping_filter</span><span class="o">=</span><span class="n">grouping_filter_a</span><span class="p">,</span> <span class="n">measure_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_field_name</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
        <span class="n">grouping_filter_b</span> <span class="o">=</span> <span class="n">ValFilterSpec</span><span class="p">(</span><span class="n">variable_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_name</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">group_b_value</span><span class="p">,</span> <span class="n">val_is_numeric</span><span class="o">=</span><span class="n">is_numeric</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">group_b_value</span><span class="p">))</span>
        <span class="n">sample_b</span> <span class="o">=</span> <span class="n">get_sample</span><span class="p">(</span><span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">grouping_filter</span><span class="o">=</span><span class="n">grouping_filter_b</span><span class="p">,</span> <span class="n">measure_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_field_name</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
        <span class="c1">## get result</span>
        <span class="n">stats_result</span> <span class="o">=</span> <span class="n">mann_whitney_u_stats_calc</span><span class="p">(</span><span class="n">sample_a</span><span class="o">=</span><span class="n">sample_a</span><span class="p">,</span> <span class="n">sample_b</span><span class="o">=</span><span class="n">sample_b</span><span class="p">,</span> <span class="n">high_volume_ok</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">n_a</span> <span class="o">=</span> <span class="n">stats_result</span><span class="o">.</span><span class="n">group_a_spec</span><span class="o">.</span><span class="n">n</span>
        <span class="n">n_b</span> <span class="o">=</span> <span class="n">stats_result</span><span class="o">.</span><span class="n">group_b_spec</span><span class="o">.</span><span class="n">n</span>
        <span class="n">even_matches</span> <span class="o">=</span> <span class="p">(</span><span class="n">n_a</span> <span class="o">*</span> <span class="n">n_b</span><span class="p">)</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_workings</span><span class="p">:</span>
            <span class="n">result_workings</span> <span class="o">=</span> <span class="n">mann_whitney_u_for_workings</span><span class="p">(</span><span class="n">sample_a</span><span class="o">=</span><span class="n">sample_a</span><span class="p">,</span> <span class="n">sample_b</span><span class="o">=</span><span class="n">sample_b</span><span class="p">,</span> <span class="n">high_volume_ok</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">worked_example</span> <span class="o">=</span> <span class="n">get_worked_example</span><span class="p">(</span><span class="n">result_workings</span><span class="p">,</span> <span class="n">style_spec</span><span class="o">.</span><span class="n">style_name_hyphens</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">worked_example</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">Result</span><span class="p">(</span><span class="o">**</span><span class="n">todict</span><span class="p">(</span><span class="n">stats_result</span><span class="p">),</span>
            <span class="n">sample_a</span><span class="o">=</span><span class="n">sample_a</span><span class="p">,</span>
            <span class="n">sample_b</span><span class="o">=</span><span class="n">sample_b</span><span class="p">,</span>
            <span class="n">grouping_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_name</span><span class="p">,</span>
            <span class="n">measure_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_field_name</span><span class="p">,</span>
            <span class="n">n_a</span><span class="o">=</span><span class="n">n_a</span><span class="p">,</span>
            <span class="n">n_b</span><span class="o">=</span><span class="n">n_b</span><span class="p">,</span>
            <span class="n">even_matches</span><span class="o">=</span><span class="n">even_matches</span><span class="p">,</span>
            <span class="n">worked_example</span><span class="o">=</span><span class="n">worked_example</span><span class="p">,</span>
            <span class="n">decimal_points</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">decimal_points</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">STATS</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div><h3 id="normality">Normality</h3>
<p>See <a class="autorefs autorefs-internal" title="sofastats.output.stats.interfaces.CommonStatsDesign


  
      dataclass
  " href="#sofastats.output.stats.interfaces.CommonStatsDesign"><code>CommonStatsDesign</code></a>
for details of the <code>to_result()</code> method common to all stats output design dataclasses in sofastats.</p>


<div class="doc doc-object doc-class">



<h4 id="sofastats.output.stats.normality.NormalityDesign" class="doc doc-heading">
            <code>sofastats.output.stats.normality.NormalityDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="sofastats.output.stats.interfaces.CommonStatsDesignWithoutSortAttributes">CommonStatsDesignWithoutSortAttributes</span></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>variable_a_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>if only this variable name is supplied, display the distribution and test it for normality.
If another variable name is also supplied, do the same thing
but for the difference between the two variables.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>variable_b_name</code></b>
              (<code><span title="str">str</span> | None</code>, default:
                  <code>None</code>
)
          
          <div class="doc-md-description">
            <p>if supplied, will be testing the normality of the difference between two variables
rather than the normality of a variable.</p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/stats/normality.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">NormalityDesign</span><span class="p">(</span><span class="n">CommonStatsDesignWithoutSortAttributes</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        variable_a_name: if only this variable name is supplied, display the distribution and test it for normality.</span>
<span class="sd">            If another variable name is also supplied, do the same thing</span>
<span class="sd">            but for the difference between the two variables.</span>
<span class="sd">        variable_b_name: if supplied, will be testing the normality of the difference between two variables</span>
<span class="sd">            rather than the normality of a variable.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">variable_a_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">variable_b_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_result</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NormalTestResult</span><span class="p">:</span>
        <span class="c1">## data</span>
        <span class="n">paired</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">variable_b_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">paired</span><span class="p">:</span>
            <span class="n">sample</span> <span class="o">=</span> <span class="n">get_paired_diffs_sample</span><span class="p">(</span>
                <span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
                <span class="n">variable_a_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_a_name</span><span class="p">,</span> <span class="n">variable_b_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_b_name</span><span class="p">,</span>
                <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sample</span> <span class="o">=</span> <span class="n">get_sample</span><span class="p">(</span><span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
                <span class="n">measure_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_a_name</span><span class="p">,</span> <span class="n">grouping_filter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
        <span class="n">n_vals</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">vals</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">n_vals</span> <span class="o">&lt;</span> <span class="n">MIN_VALS_FOR_NORMALITY_TEST</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;We need at least </span><span class="si">{</span><span class="n">MIN_VALS_FOR_NORMALITY_TEST</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> values to test normality.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">stats_result</span> <span class="o">=</span> <span class="n">normal_test</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">vals</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">stats_result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1">## style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">paired</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">variable_b_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">paired</span><span class="p">:</span>
            <span class="n">data_label</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;Difference Between &quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_a_name</span><span class="si">}</span><span class="s1">&quot; and &quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_b_name</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
            <span class="n">sample</span> <span class="o">=</span> <span class="n">get_paired_diffs_sample</span><span class="p">(</span>
                <span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
                <span class="n">variable_a_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_a_name</span><span class="p">,</span> <span class="n">variable_b_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_b_name</span><span class="p">,</span>
                <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data_label</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">variable_a_name</span>
            <span class="n">sample</span> <span class="o">=</span> <span class="n">get_sample</span><span class="p">(</span><span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
                <span class="n">measure_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_a_name</span><span class="p">,</span> <span class="n">grouping_filter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
        <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Normality Tests for </span><span class="si">{</span><span class="n">data_label</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="c1">## message</span>
        <span class="n">n_vals</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">vals</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">n_vals</span> <span class="o">&lt;</span> <span class="n">MIN_VALS_FOR_NORMALITY_TEST</span><span class="p">:</span>
            <span class="n">message</span> <span class="o">=</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&lt;p&gt;We need at least </span><span class="si">{</span><span class="n">MIN_VALS_FOR_NORMALITY_TEST</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> values to test normality.&lt;/p&gt;&quot;</span>
            <span class="s2">&quot;&lt;p&gt;Rely entirely on visual inspection of graph above.&lt;/p&gt;&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">stats_result</span> <span class="o">=</span> <span class="n">normal_test</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">vals</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unable to calculate normality. Orig error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;&lt;p&gt;Unable to calculate normality tests&lt;/p&gt;&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1">## skew</span>
                <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">stats_result</span><span class="o">.</span><span class="n">c_skew</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">skew_indication</span> <span class="o">=</span> <span class="s1">&#39;a great sign&#39;</span>
                <span class="k">elif</span> <span class="nb">abs</span><span class="p">(</span><span class="n">stats_result</span><span class="o">.</span><span class="n">c_skew</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="n">skew_indication</span> <span class="o">=</span> <span class="s1">&#39;a good sign&#39;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">skew_indication</span> <span class="o">=</span> <span class="s1">&#39;not a good sign&#39;</span>
                <span class="n">skew_msg</span> <span class="o">=</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Skew (lopsidedness) is </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">stats_result</span><span class="o">.</span><span class="n">c_skew</span><span class="p">,</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">decimal_points</span><span class="p">)</span><span class="si">}</span><span class="s2"> &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;which is probably </span><span class="si">{</span><span class="n">skew_indication</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
                <span class="c1">## kurtosis</span>
                <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">stats_result</span><span class="o">.</span><span class="n">c_kurtosis</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">kurtosis_indication</span> <span class="o">=</span> <span class="s1">&#39;a great sign&#39;</span>
                <span class="k">elif</span> <span class="nb">abs</span><span class="p">(</span><span class="n">stats_result</span><span class="o">.</span><span class="n">c_kurtosis</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="n">kurtosis_indication</span> <span class="o">=</span> <span class="s1">&#39;a good sign&#39;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">kurtosis_indication</span> <span class="o">=</span> <span class="s1">&#39;not a good sign&#39;</span>
                <span class="n">kurtosis_msg</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Kurtosis (peakedness or flatness) is </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">stats_result</span><span class="o">.</span><span class="n">c_kurtosis</span><span class="p">,</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">decimal_points</span><span class="p">)</span><span class="si">}</span><span class="s2"> &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;which is probably </span><span class="si">{</span><span class="n">kurtosis_indication</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
                <span class="c1">## combined</span>
                <span class="k">if</span> <span class="n">n_vals</span> <span class="o">&gt;</span> <span class="n">N_WHERE_NORMALITY_USUALLY_FAILS_NO_MATTER_WHAT</span><span class="p">:</span>
                    <span class="n">message</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&lt;p&gt;Rely on visual inspection of graph to assess normality.&lt;/p&gt;&quot;</span>
                        <span class="s2">&quot;&lt;p&gt;Although the data failed the ideal normality test, &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;most real-world data-sets with as many results (</span><span class="si">{</span><span class="n">n_vals</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2">) would fail &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;for even slight differences from the perfect normal curve.&lt;/p&gt;&quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;&lt;p&gt;</span><span class="si">{</span><span class="n">skew_msg</span><span class="si">}</span><span class="s2">&lt;/p&gt;&lt;p&gt;</span><span class="si">{</span><span class="n">kurtosis_msg</span><span class="si">}</span><span class="s2">&lt;/p&gt;&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">stats_result</span><span class="o">.</span><span class="n">p</span> <span class="o">&lt;</span> <span class="mf">0.05</span><span class="p">:</span>
                        <span class="n">message</span> <span class="o">=</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&lt;p&gt;The distribution of </span><span class="si">{</span><span class="n">data_label</span><span class="si">}</span><span class="s2"> passed one test for normality.&lt;/p&gt;&quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;&lt;p&gt;Confirm or reject based on visual inspection of graph. </span><span class="si">{</span><span class="n">skew_msg</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">kurtosis_msg</span><span class="si">}</span><span class="s2">&lt;/p&gt;&quot;</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">message</span> <span class="o">=</span> <span class="p">(</span><span class="sa">f</span><span class="s1">&#39;&lt;p&gt;Although the distribution of </span><span class="si">{</span><span class="n">data_label</span><span class="si">}</span><span class="s1"> is not perfectly &quot;normal&quot;, &#39;</span>
                            <span class="sa">f</span><span class="s1">&#39;it may still be &quot;normal&quot; enough for use. View graph to decide.&lt;/p&gt;&#39;</span>
                            <span class="sa">f</span><span class="s2">&quot;&lt;p&gt;</span><span class="si">{</span><span class="n">skew_msg</span><span class="si">}</span><span class="s2">&lt;/p&gt;&lt;/p&gt;</span><span class="si">{</span><span class="n">kurtosis_msg</span><span class="si">}</span><span class="s2">&lt;/p&gt;&quot;</span><span class="p">)</span>
        <span class="c1">## histogram</span>
        <span class="n">histogram</span> <span class="o">=</span> <span class="n">get_embedded_histogram_html</span><span class="p">(</span><span class="n">measure_field_label</span><span class="o">=</span><span class="n">data_label</span><span class="p">,</span> <span class="n">style_spec</span><span class="o">=</span><span class="n">style_spec</span><span class="o">.</span><span class="n">chart</span><span class="p">,</span>
            <span class="n">vals</span><span class="o">=</span><span class="n">sample</span><span class="o">.</span><span class="n">vals</span><span class="p">,</span> <span class="n">width_scalar</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">label_chart_from_var_if_needed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">Result</span><span class="p">(</span>
            <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="p">,</span>
            <span class="n">histogram</span><span class="o">=</span><span class="n">histogram</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">STATS</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div><h3 id="pearsons-r-correlation">Pearson's R Correlation</h3>
<p>See <a class="autorefs autorefs-internal" title="sofastats.output.stats.interfaces.CommonStatsDesign


  
      dataclass
  " href="#sofastats.output.stats.interfaces.CommonStatsDesign"><code>CommonStatsDesign</code></a>
for details of the <code>to_result()</code> method common to all stats output design dataclasses in sofastats.</p>


<div class="doc doc-object doc-class">



<h4 id="sofastats.output.stats.pearsons_r.PearsonsRDesign" class="doc doc-heading">
            <code>sofastats.output.stats.pearsons_r.PearsonsRDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="sofastats.output.stats.interfaces.CommonStatsDesignWithoutSortAttributes">CommonStatsDesignWithoutSortAttributes</span></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>variable_a_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the first variable in each pair we are checking for correlation</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>variable_b_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the second variable in each pair we are checking for correlation</p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/stats/pearsons_r.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">PearsonsRDesign</span><span class="p">(</span><span class="n">CommonStatsDesignWithoutSortAttributes</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        variable_a_name: the first variable in each pair we are checking for correlation</span>
<span class="sd">        variable_b_name: the second variable in each pair we are checking for correlation</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">variable_a_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">variable_b_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_result</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CorrelationCalcResult</span><span class="p">:</span>
        <span class="c1">## data</span>
        <span class="n">paired_data</span> <span class="o">=</span> <span class="n">get_paired_data</span><span class="p">(</span><span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">variable_a_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_a_name</span><span class="p">,</span> <span class="n">variable_b_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_b_name</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
        <span class="n">stats_result</span> <span class="o">=</span> <span class="n">pearsonsr_stats_calc</span><span class="p">(</span><span class="n">paired_data</span><span class="o">.</span><span class="n">sample_a</span><span class="o">.</span><span class="n">vals</span><span class="p">,</span> <span class="n">paired_data</span><span class="o">.</span><span class="n">sample_b</span><span class="o">.</span><span class="n">vals</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">stats_result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1">## style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">paired_data</span> <span class="o">=</span> <span class="n">get_paired_data</span><span class="p">(</span><span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">variable_a_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_a_name</span><span class="p">,</span> <span class="n">variable_b_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_b_name</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
        <span class="n">coords</span> <span class="o">=</span> <span class="p">[</span><span class="n">Coord</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">paired_data</span><span class="o">.</span><span class="n">sample_a</span><span class="o">.</span><span class="n">vals</span><span class="p">,</span> <span class="n">paired_data</span><span class="o">.</span><span class="n">sample_b</span><span class="o">.</span><span class="n">vals</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
        <span class="n">pearsonsr_calc_result</span> <span class="o">=</span> <span class="n">pearsonsr_stats_calc</span><span class="p">(</span><span class="n">paired_data</span><span class="o">.</span><span class="n">sample_a</span><span class="o">.</span><span class="n">vals</span><span class="p">,</span> <span class="n">paired_data</span><span class="o">.</span><span class="n">sample_b</span><span class="o">.</span><span class="n">vals</span><span class="p">)</span>
        <span class="n">regression_result</span> <span class="o">=</span> <span class="n">get_regression_result</span><span class="p">(</span><span class="n">xs</span><span class="o">=</span><span class="n">paired_data</span><span class="o">.</span><span class="n">sample_a</span><span class="o">.</span><span class="n">vals</span><span class="p">,</span><span class="n">ys</span><span class="o">=</span><span class="n">paired_data</span><span class="o">.</span><span class="n">sample_b</span><span class="o">.</span><span class="n">vals</span><span class="p">)</span>

        <span class="n">correlation_result</span> <span class="o">=</span> <span class="n">CorrelationResult</span><span class="p">(</span>
            <span class="n">variable_a_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_a_name</span><span class="p">,</span>
            <span class="n">variable_b_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_b_name</span><span class="p">,</span>
            <span class="n">coords</span><span class="o">=</span><span class="n">coords</span><span class="p">,</span>
            <span class="n">stats_result</span><span class="o">=</span><span class="n">pearsonsr_calc_result</span><span class="p">,</span>
            <span class="n">regression_result</span><span class="o">=</span><span class="n">regression_result</span><span class="p">,</span>
            <span class="n">decimal_points</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">decimal_points</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">scatterplot_series</span> <span class="o">=</span> <span class="n">ScatterplotSeries</span><span class="p">(</span>
            <span class="n">coords</span><span class="o">=</span><span class="n">correlation_result</span><span class="o">.</span><span class="n">coords</span><span class="p">,</span>
            <span class="n">dot_color</span><span class="o">=</span><span class="n">style_spec</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">color_mappings</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">main</span><span class="p">,</span>
            <span class="n">dot_line_color</span><span class="o">=</span><span class="n">style_spec</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">major_grid_line_color</span><span class="p">,</span>
            <span class="n">show_regression_details</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">vars_series</span> <span class="o">=</span> <span class="p">[</span><span class="n">scatterplot_series</span><span class="p">,</span> <span class="p">]</span>
        <span class="n">xs</span> <span class="o">=</span> <span class="n">correlation_result</span><span class="o">.</span><span class="n">xs</span>
        <span class="n">ys</span> <span class="o">=</span> <span class="n">correlation_result</span><span class="o">.</span><span class="n">ys</span>
        <span class="n">x_min</span><span class="p">,</span> <span class="n">x_max</span> <span class="o">=</span> <span class="n">get_optimal_min_max</span><span class="p">(</span><span class="n">axis_min</span><span class="o">=</span><span class="nb">min</span><span class="p">(</span><span class="n">xs</span><span class="p">),</span> <span class="n">axis_max</span><span class="o">=</span><span class="nb">max</span><span class="p">(</span><span class="n">xs</span><span class="p">))</span>
        <span class="n">y_min</span><span class="p">,</span> <span class="n">y_max</span> <span class="o">=</span> <span class="n">get_optimal_min_max</span><span class="p">(</span><span class="n">axis_min</span><span class="o">=</span><span class="nb">min</span><span class="p">(</span><span class="n">ys</span><span class="p">),</span> <span class="n">axis_max</span><span class="o">=</span><span class="nb">max</span><span class="p">(</span><span class="n">ys</span><span class="p">))</span>
        <span class="n">chart_conf</span> <span class="o">=</span> <span class="n">ScatterplotConf</span><span class="p">(</span>
            <span class="n">width_inches</span><span class="o">=</span><span class="mf">7.5</span><span class="p">,</span>
            <span class="n">height_inches</span><span class="o">=</span><span class="mf">4.0</span><span class="p">,</span>
            <span class="n">inner_background_color</span><span class="o">=</span><span class="n">style_spec</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">plot_background_color</span><span class="p">,</span>
            <span class="n">text_color</span><span class="o">=</span><span class="n">style_spec</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">axis_font_color</span><span class="p">,</span>
            <span class="n">x_axis_label</span><span class="o">=</span><span class="n">correlation_result</span><span class="o">.</span><span class="n">variable_a_name</span><span class="p">,</span>
            <span class="n">y_axis_label</span><span class="o">=</span><span class="n">correlation_result</span><span class="o">.</span><span class="n">variable_b_name</span><span class="p">,</span>
            <span class="n">show_dot_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">x_min</span><span class="o">=</span><span class="n">x_min</span><span class="p">,</span>
            <span class="n">x_max</span><span class="o">=</span><span class="n">x_max</span><span class="p">,</span>
            <span class="n">y_min</span><span class="o">=</span><span class="n">y_min</span><span class="p">,</span>
            <span class="n">y_max</span><span class="o">=</span><span class="n">y_max</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">get_scatterplot_fig</span><span class="p">(</span><span class="n">vars_series</span><span class="p">,</span> <span class="n">chart_conf</span><span class="p">)</span>
        <span class="n">image_as_data</span> <span class="o">=</span> <span class="n">plot2image_as_data</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>
        <span class="n">scatterplot_html</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;&lt;img src=&quot;</span><span class="si">{</span><span class="n">image_as_data</span><span class="si">}</span><span class="s1">&quot;/&gt;&#39;</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">Result</span><span class="p">(</span><span class="o">**</span><span class="n">todict</span><span class="p">(</span><span class="n">correlation_result</span><span class="p">),</span>
            <span class="n">scatterplot_html</span><span class="o">=</span><span class="n">scatterplot_html</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">STATS</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div><h3 id="spearmans-r-correlation">Spearman's R Correlation</h3>
<p>See <a class="autorefs autorefs-internal" title="sofastats.output.stats.interfaces.CommonStatsDesign


  
      dataclass
  " href="#sofastats.output.stats.interfaces.CommonStatsDesign"><code>CommonStatsDesign</code></a>
for details of the <code>to_result()</code> method common to all stats output design dataclasses in sofastats.</p>


<div class="doc doc-object doc-class">



<h4 id="sofastats.output.stats.spearmans_r.SpearmansRDesign" class="doc doc-heading">
            <code>sofastats.output.stats.spearmans_r.SpearmansRDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="sofastats.output.stats.interfaces.CommonStatsDesignWithoutSortAttributes">CommonStatsDesignWithoutSortAttributes</span></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>variable_a_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the first variable in each pair we are checking for correlation</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>variable_b_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the second variable in each pair we are checking for correlation</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_workings</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>False</code>
)
          
          <div class="doc-md-description">
            <p>show the workings so you can see how the final results were derived</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>high_volume_ok</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>False</code>
)
          
          <div class="doc-md-description">
            <p>the algorithm is more expensive than those which can make
parametric assumptions so we need to stop people unknowingly starting very slow operations.
This setting has no impact if the number of records is less than MAX_RANK_DATA_VALS
(currently 50,000 records). If set to <code>False</code>, an exception is raised if the code is being asked to operate
on an amount of data which will make it run very slowly. If <code>True</code>, the operation is allowed to proceed
 but a message tells the user they can expect the process to take a fairly long time
 (so they don't terminate early on the assumption that something has gone wrong the analysis
 is never going to finish).</p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/stats/spearmans_r.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">SpearmansRDesign</span><span class="p">(</span><span class="n">CommonStatsDesignWithoutSortAttributes</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        variable_a_name: the first variable in each pair we are checking for correlation</span>
<span class="sd">        variable_b_name: the second variable in each pair we are checking for correlation</span>
<span class="sd">        show_workings: show the workings so you can see how the final results were derived</span>
<span class="sd">        high_volume_ok: the algorithm is more expensive than those which can make</span>
<span class="sd">            parametric assumptions so we need to stop people unknowingly starting very slow operations.</span>
<span class="sd">            This setting has no impact if the number of records is less than MAX_RANK_DATA_VALS</span>
<span class="sd">            (currently 50,000 records). If set to `False`, an exception is raised if the code is being asked to operate</span>
<span class="sd">            on an amount of data which will make it run very slowly. If `True`, the operation is allowed to proceed</span>
<span class="sd">             but a message tells the user they can expect the process to take a fairly long time</span>
<span class="sd">             (so they don&#39;t terminate early on the assumption that something has gone wrong the analysis</span>
<span class="sd">             is never going to finish).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">variable_a_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">variable_b_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>

    <span class="n">show_workings</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">high_volume_ok</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_result</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CorrelationCalcResult</span><span class="p">:</span>
        <span class="c1">## data</span>
        <span class="n">paired_data</span> <span class="o">=</span> <span class="n">get_paired_data</span><span class="p">(</span><span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">variable_a_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_a_name</span><span class="p">,</span> <span class="n">variable_b_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_b_name</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
        <span class="n">stats_result</span> <span class="o">=</span> <span class="n">spearmansr_stats_calc</span><span class="p">(</span><span class="n">paired_data</span><span class="o">.</span><span class="n">sample_a</span><span class="o">.</span><span class="n">vals</span><span class="p">,</span> <span class="n">paired_data</span><span class="o">.</span><span class="n">sample_b</span><span class="o">.</span><span class="n">vals</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">stats_result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1">## style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">paired_data</span> <span class="o">=</span> <span class="n">get_paired_data</span><span class="p">(</span><span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">variable_a_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_a_name</span><span class="p">,</span> <span class="n">variable_b_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_b_name</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
        <span class="n">coords</span> <span class="o">=</span> <span class="p">[</span><span class="n">Coord</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">paired_data</span><span class="o">.</span><span class="n">sample_a</span><span class="o">.</span><span class="n">vals</span><span class="p">,</span> <span class="n">paired_data</span><span class="o">.</span><span class="n">sample_b</span><span class="o">.</span><span class="n">vals</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
        <span class="n">pearsonsr_calc_result</span> <span class="o">=</span> <span class="n">spearmansr_stats_calc</span><span class="p">(</span><span class="n">paired_data</span><span class="o">.</span><span class="n">sample_a</span><span class="o">.</span><span class="n">vals</span><span class="p">,</span> <span class="n">paired_data</span><span class="o">.</span><span class="n">sample_b</span><span class="o">.</span><span class="n">vals</span><span class="p">,</span>
            <span class="n">high_volume_ok</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">high_volume_ok</span><span class="p">)</span>
        <span class="n">regression_result</span> <span class="o">=</span> <span class="n">get_regression_result</span><span class="p">(</span><span class="n">xs</span><span class="o">=</span><span class="n">paired_data</span><span class="o">.</span><span class="n">sample_a</span><span class="o">.</span><span class="n">vals</span><span class="p">,</span><span class="n">ys</span><span class="o">=</span><span class="n">paired_data</span><span class="o">.</span><span class="n">sample_b</span><span class="o">.</span><span class="n">vals</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_workings</span><span class="p">:</span>
            <span class="n">worked_result</span> <span class="o">=</span> <span class="n">get_worked_result</span><span class="p">(</span>
                <span class="n">variable_a_values</span><span class="o">=</span><span class="n">paired_data</span><span class="o">.</span><span class="n">sample_a</span><span class="o">.</span><span class="n">vals</span><span class="p">,</span>
                <span class="n">variable_b_values</span><span class="o">=</span><span class="n">paired_data</span><span class="o">.</span><span class="n">sample_b</span><span class="o">.</span><span class="n">vals</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">worked_result</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">correlation_result</span> <span class="o">=</span> <span class="n">CorrelationResult</span><span class="p">(</span>
            <span class="n">variable_a_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_a_name</span><span class="p">,</span>
            <span class="n">variable_b_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_b_name</span><span class="p">,</span>
            <span class="n">coords</span><span class="o">=</span><span class="n">coords</span><span class="p">,</span>
            <span class="n">stats_result</span><span class="o">=</span><span class="n">pearsonsr_calc_result</span><span class="p">,</span>
            <span class="n">regression_result</span><span class="o">=</span><span class="n">regression_result</span><span class="p">,</span>
            <span class="n">worked_result</span><span class="o">=</span><span class="n">worked_result</span><span class="p">,</span>
            <span class="n">decimal_points</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">decimal_points</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">worked_example</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">get_worked_example</span><span class="p">(</span><span class="n">correlation_result</span><span class="p">,</span> <span class="n">style_spec</span><span class="o">.</span><span class="n">style_name_hyphens</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_workings</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

        <span class="n">scatterplot_series</span> <span class="o">=</span> <span class="n">ScatterplotSeries</span><span class="p">(</span>
            <span class="n">coords</span><span class="o">=</span><span class="n">coords</span><span class="p">,</span>
            <span class="n">dot_color</span><span class="o">=</span><span class="n">style_spec</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">color_mappings</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">main</span><span class="p">,</span>
            <span class="n">dot_line_color</span><span class="o">=</span><span class="n">style_spec</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">major_grid_line_color</span><span class="p">,</span>
            <span class="n">show_regression_details</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">vars_series</span> <span class="o">=</span> <span class="p">[</span><span class="n">scatterplot_series</span><span class="p">,</span> <span class="p">]</span>
        <span class="n">xs</span> <span class="o">=</span> <span class="n">correlation_result</span><span class="o">.</span><span class="n">xs</span>
        <span class="n">ys</span> <span class="o">=</span> <span class="n">correlation_result</span><span class="o">.</span><span class="n">ys</span>
        <span class="n">x_min</span><span class="p">,</span> <span class="n">x_max</span> <span class="o">=</span> <span class="n">get_optimal_min_max</span><span class="p">(</span><span class="n">axis_min</span><span class="o">=</span><span class="nb">min</span><span class="p">(</span><span class="n">xs</span><span class="p">),</span> <span class="n">axis_max</span><span class="o">=</span><span class="nb">max</span><span class="p">(</span><span class="n">xs</span><span class="p">))</span>
        <span class="n">y_min</span><span class="p">,</span> <span class="n">y_max</span> <span class="o">=</span> <span class="n">get_optimal_min_max</span><span class="p">(</span><span class="n">axis_min</span><span class="o">=</span><span class="nb">min</span><span class="p">(</span><span class="n">ys</span><span class="p">),</span> <span class="n">axis_max</span><span class="o">=</span><span class="nb">max</span><span class="p">(</span><span class="n">ys</span><span class="p">))</span>
        <span class="n">chart_conf</span> <span class="o">=</span> <span class="n">ScatterplotConf</span><span class="p">(</span>
            <span class="n">width_inches</span><span class="o">=</span><span class="mf">7.5</span><span class="p">,</span>
            <span class="n">height_inches</span><span class="o">=</span><span class="mf">4.0</span><span class="p">,</span>
            <span class="n">inner_background_color</span><span class="o">=</span><span class="n">style_spec</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">plot_background_color</span><span class="p">,</span>
            <span class="n">text_color</span><span class="o">=</span><span class="n">style_spec</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">axis_font_color</span><span class="p">,</span>
            <span class="n">x_axis_label</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_a_name</span><span class="p">,</span>
            <span class="n">y_axis_label</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_b_name</span><span class="p">,</span>
            <span class="n">show_dot_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">x_min</span><span class="o">=</span><span class="n">x_min</span><span class="p">,</span>
            <span class="n">x_max</span><span class="o">=</span><span class="n">x_max</span><span class="p">,</span>
            <span class="n">y_min</span><span class="o">=</span><span class="n">y_min</span><span class="p">,</span>
            <span class="n">y_max</span><span class="o">=</span><span class="n">y_max</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">get_scatterplot_fig</span><span class="p">(</span><span class="n">vars_series</span><span class="p">,</span> <span class="n">chart_conf</span><span class="p">)</span>
        <span class="n">image_as_data</span> <span class="o">=</span> <span class="n">plot2image_as_data</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>
        <span class="n">scatterplot_html</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;&lt;img src=&quot;</span><span class="si">{</span><span class="n">image_as_data</span><span class="si">}</span><span class="s1">&quot;/&gt;&#39;</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">Result</span><span class="p">(</span><span class="o">**</span><span class="n">todict</span><span class="p">(</span><span class="n">correlation_result</span><span class="p">),</span>
            <span class="n">scatterplot_html</span><span class="o">=</span><span class="n">scatterplot_html</span><span class="p">,</span>
            <span class="n">worked_example</span><span class="o">=</span><span class="n">worked_example</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">STATS</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div><h3 id="independent-samples-t-test">Independent Samples T-Test</h3>
<p>See <a class="autorefs autorefs-internal" title="sofastats.output.stats.interfaces.CommonStatsDesign


  
      dataclass
  " href="#sofastats.output.stats.interfaces.CommonStatsDesign"><code>CommonStatsDesign</code></a>
for details of the <code>to_result()</code> method common to all stats output design dataclasses in sofastats.</p>


<div class="doc doc-object doc-class">



<h4 id="sofastats.output.stats.independent_t_test.IndependentTTestDesign" class="doc doc-heading">
            <code>sofastats.output.stats.independent_t_test.IndependentTTestDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="sofastats.output.stats.interfaces.CommonStatsDesignWithoutSortAttributes">CommonStatsDesignWithoutSortAttributes</span></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>measure_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the name of the field aggregated by group - the analysis compares the mean value of each group.
For example, 'Age'</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>grouping_field_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the name of the field used to define the groups compared in the analysis e.g. 'Country'</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>group_a_value</code></b>
              (<code><span title="typing.Any">Any</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the analysis will compare the mean value for this group
against the mean value of the group defined by group_b_value</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>group_b_value</code></b>
              (<code><span title="typing.Any">Any</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the analysis will compare the mean value of this group
against the mean value of the group defined by group_a_value</p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/stats/independent_t_test.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">IndependentTTestDesign</span><span class="p">(</span><span class="n">CommonStatsDesignWithoutSortAttributes</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        measure_field_name: the name of the field aggregated by group - the analysis compares the mean value of each group.</span>
<span class="sd">            For example, &#39;Age&#39;</span>
<span class="sd">        grouping_field_name: the name of the field used to define the groups compared in the analysis e.g. &#39;Country&#39;</span>
<span class="sd">        group_a_value: the analysis will compare the mean value for this group</span>
<span class="sd">            against the mean value of the group defined by group_b_value</span>
<span class="sd">        group_b_value: the analysis will compare the mean value of this group</span>
<span class="sd">            against the mean value of the group defined by group_a_value</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">measure_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">grouping_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">group_a_value</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">group_b_value</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_result</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TTestIndepResult</span><span class="p">:</span>
        <span class="c1">## data</span>
        <span class="c1">## build samples ready for ttest_indep function</span>
        <span class="n">grouping_filter_a</span> <span class="o">=</span> <span class="n">ValFilterSpec</span><span class="p">(</span><span class="n">variable_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_name</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">group_a_value</span><span class="p">,</span> <span class="n">val_is_numeric</span><span class="o">=</span><span class="n">is_numeric</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">group_a_value</span><span class="p">))</span>
        <span class="n">sample_a</span> <span class="o">=</span> <span class="n">get_sample</span><span class="p">(</span><span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">grouping_filter</span><span class="o">=</span><span class="n">grouping_filter_a</span><span class="p">,</span> <span class="n">measure_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_field_name</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
        <span class="n">grouping_filter_b</span> <span class="o">=</span> <span class="n">ValFilterSpec</span><span class="p">(</span><span class="n">variable_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_name</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">group_b_value</span><span class="p">,</span> <span class="n">val_is_numeric</span><span class="o">=</span><span class="n">is_numeric</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">group_b_value</span><span class="p">))</span>
        <span class="n">sample_b</span> <span class="o">=</span> <span class="n">get_sample</span><span class="p">(</span><span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">grouping_filter</span><span class="o">=</span><span class="n">grouping_filter_b</span><span class="p">,</span> <span class="n">measure_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_field_name</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
        <span class="c1">## get result</span>
        <span class="n">stats_result</span> <span class="o">=</span> <span class="n">ttest_indep_stats_calc</span><span class="p">(</span><span class="n">sample_a</span><span class="p">,</span> <span class="n">sample_b</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">stats_result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1">## style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="c1">## build samples ready for ttest_indep function</span>
        <span class="n">grouping_filter_a</span> <span class="o">=</span> <span class="n">ValFilterSpec</span><span class="p">(</span><span class="n">variable_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_name</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">group_a_value</span><span class="p">,</span> <span class="n">val_is_numeric</span><span class="o">=</span><span class="n">is_numeric</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">group_a_value</span><span class="p">))</span>
        <span class="n">sample_a</span> <span class="o">=</span> <span class="n">get_sample</span><span class="p">(</span><span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">grouping_filter</span><span class="o">=</span><span class="n">grouping_filter_a</span><span class="p">,</span> <span class="n">measure_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_field_name</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
        <span class="n">grouping_filter_b</span> <span class="o">=</span> <span class="n">ValFilterSpec</span><span class="p">(</span><span class="n">variable_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_name</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">group_b_value</span><span class="p">,</span> <span class="n">val_is_numeric</span><span class="o">=</span><span class="n">is_numeric</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">group_b_value</span><span class="p">))</span>
        <span class="n">sample_b</span> <span class="o">=</span> <span class="n">get_sample</span><span class="p">(</span><span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">grouping_filter</span><span class="o">=</span><span class="n">grouping_filter_b</span><span class="p">,</span> <span class="n">measure_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_field_name</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
        <span class="c1">## get result</span>
        <span class="n">stats_result</span> <span class="o">=</span> <span class="n">ttest_indep_stats_calc</span><span class="p">(</span><span class="n">sample_a</span><span class="p">,</span> <span class="n">sample_b</span><span class="p">)</span>

        <span class="n">mpl_pngs</span><span class="o">.</span><span class="n">set_gen_mpl_settings</span><span class="p">(</span><span class="n">axes_label_size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">xtick_label_size</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">ytick_label_size</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
        <span class="n">histograms2show</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">group_spec</span> <span class="ow">in</span> <span class="p">[</span><span class="n">stats_result</span><span class="o">.</span><span class="n">group_a_spec</span><span class="p">,</span> <span class="n">stats_result</span><span class="o">.</span><span class="n">group_b_spec</span><span class="p">]:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">histogram_html</span> <span class="o">=</span> <span class="n">get_embedded_histogram_html</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">measure_field_name</span><span class="p">,</span> <span class="n">style_spec</span><span class="o">.</span><span class="n">chart</span><span class="p">,</span> <span class="n">group_spec</span><span class="o">.</span><span class="n">vals</span><span class="p">,</span> <span class="n">group_spec</span><span class="o">.</span><span class="n">label</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">html_or_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&lt;b&gt;</span><span class="si">{</span><span class="n">group_spec</span><span class="o">.</span><span class="n">label</span><span class="si">}</span><span class="s2">&lt;/b&gt; - unable to display histogram. Reason: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">html_or_msg</span> <span class="o">=</span> <span class="n">histogram_html</span>
            <span class="n">histograms2show</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">html_or_msg</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">Result</span><span class="p">(</span><span class="o">**</span><span class="n">todict</span><span class="p">(</span><span class="n">stats_result</span><span class="p">),</span>
            <span class="n">grouping_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">grouping_field_name</span><span class="p">,</span>
            <span class="n">measure_field_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_field_name</span><span class="p">,</span>
            <span class="n">histograms2show</span><span class="o">=</span><span class="n">histograms2show</span><span class="p">,</span>
            <span class="n">decimal_points</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">decimal_points</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">STATS</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div><h3 id="wilcoxon-signed-ranks">Wilcoxon Signed Ranks</h3>
<p>See <a class="autorefs autorefs-internal" title="sofastats.output.stats.interfaces.CommonStatsDesign


  
      dataclass
  " href="#sofastats.output.stats.interfaces.CommonStatsDesign"><code>CommonStatsDesign</code></a>
for details of the <code>to_result()</code> method common to all stats output design dataclasses in sofastats.</p>


<div class="doc doc-object doc-class">



<h4 id="sofastats.output.stats.wilcoxon_signed_ranks.WilcoxonSignedRanksDesign" class="doc doc-heading">
            <code>sofastats.output.stats.wilcoxon_signed_ranks.WilcoxonSignedRanksDesign</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="sofastats.output.stats.interfaces.CommonStatsDesignWithoutSortAttributes">CommonStatsDesignWithoutSortAttributes</span></code></p>





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>variable_a_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the first variable in each pair we are checking for a difference</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>variable_b_name</code></b>
              (<code><span title="str">str</span></code>, default:
                  <code><span title="sofastats.output.interfaces.DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span></code>
)
          
          <div class="doc-md-description">
            <p>the second variable in each pair we are checking for a difference</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_workings</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>False</code>
)
          
          <div class="doc-md-description">
            <p>show the workings so you can see how the final results were derived</p>
          </div>
        </li>
    </ul>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>src/sofastats/output/stats/wilcoxon_signed_ranks.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">WilcoxonSignedRanksDesign</span><span class="p">(</span><span class="n">CommonStatsDesignWithoutSortAttributes</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        variable_a_name: the first variable in each pair we are checking for a difference</span>
<span class="sd">        variable_b_name: the second variable in each pair we are checking for a difference</span>
<span class="sd">        show_workings: show the workings so you can see how the final results were derived</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">variable_a_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>
    <span class="n">variable_b_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</span>

    <span class="n">show_workings</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_result</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WilcoxonSignedRanksResult</span><span class="p">:</span>
        <span class="c1">## data</span>
        <span class="n">paired_data</span> <span class="o">=</span> <span class="n">get_paired_data</span><span class="p">(</span><span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">variable_a_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_a_name</span><span class="p">,</span> <span class="n">variable_b_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_b_name</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
        <span class="n">stats_result</span> <span class="o">=</span> <span class="n">wilcoxon_signed_ranks_stats_calc</span><span class="p">(</span>
            <span class="n">sample_a</span><span class="o">=</span><span class="n">paired_data</span><span class="o">.</span><span class="n">sample_a</span><span class="p">,</span> <span class="n">sample_b</span><span class="o">=</span><span class="n">paired_data</span><span class="o">.</span><span class="n">sample_b</span><span class="p">,</span> <span class="n">high_volume_ok</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">stats_result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_html_design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTMLItemSpec</span><span class="p">:</span>
        <span class="c1">## style</span>
        <span class="n">style_spec</span> <span class="o">=</span> <span class="n">get_style_spec</span><span class="p">(</span><span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">)</span>
        <span class="c1">## data</span>
        <span class="n">paired_data</span> <span class="o">=</span> <span class="n">get_paired_data</span><span class="p">(</span><span class="n">cur</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cur</span><span class="p">,</span> <span class="n">dbe_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dbe_spec</span><span class="p">,</span> <span class="n">source_table_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_table_name</span><span class="p">,</span>
            <span class="n">variable_a_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_a_name</span><span class="p">,</span> <span class="n">variable_b_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_b_name</span><span class="p">,</span>
            <span class="n">table_filter_sql</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">table_filter_sql</span><span class="p">)</span>
        <span class="n">stats_result</span> <span class="o">=</span> <span class="n">wilcoxon_signed_ranks_stats_calc</span><span class="p">(</span>
            <span class="n">sample_a</span><span class="o">=</span><span class="n">paired_data</span><span class="o">.</span><span class="n">sample_a</span><span class="p">,</span> <span class="n">sample_b</span><span class="o">=</span><span class="n">paired_data</span><span class="o">.</span><span class="n">sample_b</span><span class="p">,</span> <span class="n">high_volume_ok</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_workings</span><span class="p">:</span>
            <span class="n">result_workings</span> <span class="o">=</span> <span class="n">wilcoxon_signed_ranks_for_workings</span><span class="p">(</span>
                <span class="n">sample_a</span><span class="o">=</span><span class="n">paired_data</span><span class="o">.</span><span class="n">sample_a</span><span class="p">,</span> <span class="n">sample_b</span><span class="o">=</span><span class="n">paired_data</span><span class="o">.</span><span class="n">sample_b</span><span class="p">,</span>
                <span class="n">label_a</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_a_name</span><span class="p">,</span> <span class="n">label_b</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_b_name</span><span class="p">)</span>
            <span class="n">worked_example</span> <span class="o">=</span> <span class="n">get_worked_example</span><span class="p">(</span><span class="n">result_workings</span><span class="p">,</span> <span class="n">style_spec</span><span class="o">.</span><span class="n">style_name_hyphens</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">worked_example</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">Result</span><span class="p">(</span><span class="o">**</span><span class="n">todict</span><span class="p">(</span><span class="n">stats_result</span><span class="p">),</span>
            <span class="n">worked_example</span><span class="o">=</span><span class="n">worked_example</span><span class="p">,</span>
            <span class="n">decimal_points</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">decimal_points</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">style_spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HTMLItemSpec</span><span class="p">(</span>
            <span class="n">html_item_str</span><span class="o">=</span><span class="n">html</span><span class="p">,</span>
            <span class="n">output_item_type</span><span class="o">=</span><span class="n">OutputItemType</span><span class="o">.</span><span class="n">STATS</span><span class="p">,</span>
            <span class="n">output_title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_title</span><span class="p">,</span>
            <span class="n">design_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">style_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div><div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>The exception is <code>sort_orders</code> and <code>sort_orders_yaml_file_path</code> which should not be set for Statistical Reports.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.tracking", "navigation.sections"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>