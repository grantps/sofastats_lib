{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"sofastats_lib","text":""},{"location":"#package-overview","title":"Package Overview","text":"<p>Statistics Open For All the Python Library.</p> <p><code>sofastats_lib</code> is a Python library for statistical analysis and reporting based on the design of the SOFA Statistics package.</p> <p>The goal was keep all the tried-and-true elements of the original package but without any of the original design mistakes.</p> <p>We also wanted to make SOFA more friendly for beginners.</p> <p>Let us know if you think we succeeded <code>grant@sofastatistics.com</code>.</p> <p>The <code>sofastats</code> distribution package sits on top of <code>sofastats_lib</code> distribution package and adds a web GUI. See How UX Can Improve Your Python Project by Grant and Charlotte Paton-Simpson for how we're trying to improve the User Experience (UX) for SOFA users, and for a peek at the GUI.</p> <p> </p>"},{"location":"#usage-overview","title":"Usage Overview","text":""},{"location":"#step-0-install-sofastats_lib","title":"Step 0 - Install sofastats_lib","text":"<p>Installation Instructions</p>"},{"location":"#step-1-configure-design","title":"Step 1 - Configure Design","text":"<p>Configure a Design object e.g. a <code>CrossTabDesign</code>, a <code>SimpleBarChartDesign</code>, or an <code>AnovaDesign</code>. See API reference for Charts, Tables, and Statistical Tests for the full list.</p>"},{"location":"#step-2-get-output","title":"Step 2 - Get Output","text":"<p>Use the Design's <code>make_output()</code> method to make the output as an HTML file.</p> <p>If the Design is for a statistical test (vs a chart or table) you can also use the <code>to_result()</code> method to generate a results dataclass which you can extract details from or just print.</p>"},{"location":"#configuration","title":"Configuration","text":"<p>There are three main settings types:</p> <ol> <li>Inputs - where is the data source for the design? What sort of data source is it?</li> <li>Outputs - where should the output go and what should it look like?</li> <li>Analysis Details - which variables are involved and is there any special sorting required -  for example, so that '&lt;20' is before '20-39' even though it is the other way round in the default alphabetical order (see Sorting).</li> </ol>"},{"location":"#inputs","title":"Inputs","text":"<p>There are three alternatives so you need to select one and provide the necessary details:</p> <ol> <li>CSV - data will be ingested into internal sofastats SQLite database (<code>source_table_name</code> optional - later analyses might be referring to that ingested table so you might as well give it a friendly name)</li> <li><code>cur</code>, <code>database_engine_name</code>, and <code>source_table_name</code></li> <li>or just a <code>source_table_name</code> (assumed to be using internal sofastats SQLite database)</li> </ol> <p>Full API here: API reference for Charts, Tables, and Statistical Tests</p>"},{"location":"#outputs","title":"Outputs","text":"<p>The main setting needed is the specific file location for the HTML output. This is optional, but you may want to control where the file goes. </p> <p>Full API here: API reference for Charts, Tables, and Statistical Tests</p>"},{"location":"#analysis-details","title":"Analysis Details","text":"<p>For example, the <code>SimpleBarChartDesign</code> requires <code>variable_name</code> at the minimum.</p>"},{"location":"#step-3-think-about-the-output-results","title":"Step 3 - Think about the Output Results","text":"<p>This is the hardest step, and we've tried really hard to provide useful information in the output to make this as easy as possible. If you can think of better ways of providing output or explaining results let us know at <code>grant@sofastatistics.com</code>.</p>"},{"location":"#examples","title":"Examples","text":""},{"location":"#example-simple-bar-chart","title":"Example Simple Bar Chart","text":"<pre><code>from sofastats.conf.main import SortOrder\nfrom sofastats.output.charts.bar import SimpleBarChartDesign\n\nchart_design = SimpleBarChartDesign(\n    csv_file_path='/path/to/csv',\n    output_file_path= '/path/to/output/demo_simple_bar_chart_from_csv.html',\n    output_title=\"Simple Bar Chart (Frequencies)\",\n    show_in_web_browser=True,\n    sort_orders_yaml_file_path='/path/to/sort_orders_yaml_file_path',\n    style_name='default',\n    category_field_name='Age Group',\n    category_sort_order=SortOrder.CUSTOM,\n    rotate_x_labels=False,\n    show_borders=False,\n    show_n_records=True,\n    x_axis_font_size=12,\n)\nchart_design.make_output()\n</code></pre>"},{"location":"#example-anova","title":"Example ANOVA","text":"<pre><code>from sofastats.conf.main import SortOrder\nfrom sofastats.output.stats.anova import AnovaDesign\n\nstats_design = AnovaDesign(\n    csv_file_path='/path/to/csv',\n    output_file_path='/path/to/output/demo_anova_age_by_country.html',\n    output_title='ANOVA',\n    show_in_web_browser=True,\n    sort_orders_yaml_file_path='/path/to/sort_orders_yaml_file_path',\n    style_name='prestige_screen',\n    grouping_field_name='Country',\n    group_values=['South Korea', 'NZ', 'USA'],\n    measure_field_name='Age',\n    high_precision_required=False,\n    decimal_points=3,\n)\nstats_design.make_output()\nprint(stats_design.to_result())\n</code></pre>"},{"location":"#more-examples","title":"More Examples","text":"<p>See <code>sofastats_lib/examples</code></p>"},{"location":"#sofastats_examples-library","title":"<code>sofastats_examples</code> Library","text":"<p>Install the sofastats_examples library and run the demo scripts - fake data and a sort order YAML file are included so you can see the code in operation for every chart, table, and statistical report Design type.</p>"},{"location":"#full-api","title":"Full API","text":"<p>API reference for Charts, Tables, and Statistical Tests</p>"},{"location":"#installation","title":"Installation","text":""},{"location":"#step-0-install-a-modern-python-package-manager","title":"Step 0 - Install a modern Python package manager","text":"<p>The best choice for a modern Python package manager if you don't have an existing preference is <code>uv</code>.</p> <p>Start by installing <code>uv</code> as per: Installing uv</p>"},{"location":"#step-1-create-a-new-project","title":"Step 1 - Create a new project","text":"<p>Create a project. If you\u2019re using <code>uv</code>, the commands would be:</p> <p>cd /my/projects/folder</p> <p>For example:</p> <p><pre><code>cd ~/projects\n</code></pre> Then initialise project. Continuing with <code>uv</code>:</p> <p>uv init my_project_name</p> <p>For example:</p> <p></p> <p>We can check what uv has made by looking at contents of the new project folder, in this case using the tree command:</p> <p></p> <p>As you can see, a lot of boilerplate has been set up. Don\u2019t worry if you can\u2019t use the tree command on your machine \u2013 we just wanted to show you what has been made by <code>uv</code>.</p> <p></p>"},{"location":"#step-2-install-sofastats_lib-as-a-project-library","title":"Step 2 - Install sofastats_lib as a project library","text":"<p>Inside the demo folder, add <code>sofastats_lib</code> to the demo project. Here\u2019s how you do it with <code>uv</code>:</p> <p></p> <p>Now <code>sofastats_lib</code> is installed as a library ready to use somewhere under demo like <code>demo/.venv/lib/python3.13/site-packages/sofastats_lib/</code></p>"},{"location":"API/","title":"API Documentation","text":""},{"location":"API/#common-data-types","title":"Common Data Types","text":""},{"location":"API/#sorting","title":"Sorting","text":"<p>All Designs allow you to control the sort order of values.</p> <p>One of the options is CUSTOM sorting. This is entirely optional but can be very useful. For example, if you have the following values in the <code>Age Group</code> variable:</p> <p>'&lt;20', '20-39', ... '80+'</p> <p>you don't want the default alphabetical sorting by value. Otherwise '&lt;20' appears at the end.</p> <p>If you want to supply a CUSTOM sort order, all Design objects have <code>sort_orders</code> and <code>sort_orders_yaml_file_path</code> settings. See <code>CommonDesign</code> </p>"},{"location":"API/#sofastats.conf.main.SortOrder","title":"<code>sofastats.conf.main.SortOrder</code>","text":"<p>               Bases: <code>StrEnum</code></p> <p>Sort orders to apply. Note - INCREASING &amp; DECREASING only apply to sorting at the final values level. E.g. If 'Age Group' &gt; 'Handedness' &gt; 'Home Location Type' then only 'Home Location Type' can potentially have sort order by frequency</p> Source code in <code>src/sofastats/conf/main.py</code> <pre><code>class SortOrder(StrEnum):\n    \"\"\"\n    Sort orders to apply.\n    Note - INCREASING &amp; DECREASING only apply to sorting at the final values level.\n    E.g. If 'Age Group' &gt; 'Handedness' &gt; 'Home Location Type' then only 'Home Location Type'\n    can potentially have sort order by frequency\n    \"\"\"\n    CUSTOM = 'by custom order'\n    \"By custom order configured in YAML or dictionary for relevant variable\"\n    DECREASING = 'by decreasing frequency'\n    \"By decreasing frequency\"\n    INCREASING = 'by increasing frequency'\n    \"By increasing frequency\"\n    VALUE = 'by value'\n    \"By value alphabetically sorted\"\n</code></pre>"},{"location":"API/#sofastats.conf.main.SortOrder.CUSTOM","title":"<code>CUSTOM = 'by custom order'</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>By custom order configured in YAML or dictionary for relevant variable</p>"},{"location":"API/#sofastats.conf.main.SortOrder.DECREASING","title":"<code>DECREASING = 'by decreasing frequency'</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>By decreasing frequency</p>"},{"location":"API/#sofastats.conf.main.SortOrder.INCREASING","title":"<code>INCREASING = 'by increasing frequency'</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>By increasing frequency</p>"},{"location":"API/#sofastats.conf.main.SortOrder.VALUE","title":"<code>VALUE = 'by value'</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>By value alphabetically sorted</p>"},{"location":"API/#common-parameters","title":"Common Parameters","text":"<p>The parameters in <code>CommonDesign</code> are common to all output design dataclasses:  </p>"},{"location":"API/#sofastats.output.interfaces.CommonDesign","title":"<code>sofastats.output.interfaces.CommonDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>ABC</code></p> <p>Output dataclasses (e.g. ClusteredBoxplotChartDesign) inherit from CommonDesign. Can't have defaults in CommonDesign attributes (which go first) and then missing defaults for the output dataclasses. Therefore, we are required to supply defaults for everything in the output dataclasses. That includes mandatory fields. So how do we ensure those mandatory field arguments are supplied. We use a decorator (add_post_init_enforcing_mandatory_cols) to add a post_init handler which runs CommonDesign.post_init and then enforces the supply of values for every attribute which has DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY.</p> <p>Parameters:</p> <ul> <li> <code>csv_file_path</code>               (<code>Path | str | None</code>, default:                   <code>None</code> )           \u2013            <p>full file path to CSV file (if using CSV as source)</p> </li> <li> <code>csv_separator</code>               (<code>str</code>, default:                   <code>','</code> )           \u2013            <p>CSV separator (if using CSV as source)</p> </li> <li> <code>cur</code>               (<code>Any | None</code>, default:                   <code>None</code> )           \u2013            <p>dpapi2 cursor i.e. an object able to run cur.execute, <code>cur.fetchall()</code> etc. (if using a cursor as source)</p> </li> <li> <code>database_engine_name</code>               (<code>DbeName | str | None</code>, default:                   <code>None</code> )           \u2013            <p>e.g. <code>DbeName.SQLITE</code> or 'sqlite' (if using a cursor as the source)</p> </li> <li> <code>source_table_name</code>               (<code>str | None</code>, default:                   <code>None</code> )           \u2013            <p>source table name (if using the cursor as a source OR using the internal SOFA SQLite database)</p> </li> <li> <code>table_filter_sql</code>               (<code>str | None</code>, default:                   <code>None</code> )           \u2013            <p>valid SQL to filter the source table - must be in the appropriate SQL dialect and entities should be quoted appropriately as needed e.g. SQLite requires backticks for field names with spaces such as `Age Group`</p> </li> <li> <code>style_name</code>               (<code>str</code>, default:                   <code>'default'</code> )           \u2013            <p>e.g. 'default'. Either one of the built-in styles under <code>sofastats.output.styles</code> or a custom style defined by YAML in the custom_styles subfolder of the sofastats local folder e.g. <code>~/Documents/sofastats/custom_styles</code></p> </li> <li> <code>output_file_path</code>               (<code>Path | str | None</code>, default:                   <code>None</code> )           \u2013            <p>full path to folder where output HTML will be generated.</p> </li> <li> <code>output_title</code>               (<code>str | None</code>, default:                   <code>None</code> )           \u2013            <p>the title the HTML output will display in a web browser</p> </li> <li> <code>show_in_web_browser</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>if <code>True</code> will open a tab in your default browser to display the output file generated</p> </li> <li> <code>sort_orders</code>               (<code>SortOrderSpecs | None</code>, default:                   <code>None</code> )           \u2013            <p>if supplied, a dictionary that provides the sort orders for any variables given a custom sort order (<code>SortOrder.CUSTOM</code>). Multiple sort orders can be defined - with each variable given a custom sort order being a key in the dictionary. Example:</p> <pre><code>{\n    Age Group: [\n        '&lt;20',\n        '20 to &lt;30', '30 to &lt;40', '40 to &lt;50',\n        '50 to &lt;60', '60 to &lt;70', '70 to &lt;80',\n        '80+',\n    ]\n}\n</code></pre> <p>If the sort order applied was <code>SortOrder.VALUES</code>, we would see '&lt;20' appearing as the last value by alphabetical order. If a custom order is defined, every value must appear in the list defining the desired sequence. Don't supply both <code>sort_orders</code> and <code>sort_orders_yaml_file_path</code>.</p> </li> <li> <code>sort_orders_yaml_file_path</code>               (<code>Path | str | None</code>, default:                   <code>None</code> )           \u2013            <p>file path containing YAML defining custom sort orders. See structure and effect as discussed under <code>sort_orders</code>. Don't supply both <code>sort_orders</code> and <code>sort_orders_yaml_file_path</code>.</p> </li> <li> <code>decimal_points</code>               (<code>int</code>, default:                   <code>3</code> )           \u2013            <p>defines the maximum number of decimal points displayed. If set to 3, for example, 1.23456789 will be displayed as 1.235. 1.320000000 will be displayed as 1.32, and 1.60000000 as 1.6.</p> </li> </ul> Source code in <code>src/sofastats/output/interfaces.py</code> <pre><code>@dataclass(frozen=False)\nclass CommonDesign(ABC):\n    \"\"\"\n    Output dataclasses (e.g. ClusteredBoxplotChartDesign) inherit from CommonDesign.\n    Can't have defaults in CommonDesign attributes (which go first) and then missing defaults for the output dataclasses.\n    Therefore, we are required to supply defaults for everything in the output dataclasses.\n    That includes mandatory fields.\n    So how do we ensure those mandatory field arguments are supplied.\n    We use a decorator (add_post_init_enforcing_mandatory_cols) to add a __post_init__ handler\n    which runs CommonDesign.__post_init__ and then enforces the supply of values for every attribute\n    which has DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY.\n\n    Args:\n        csv_file_path: full file path to CSV file (if using CSV as source)\n        csv_separator: CSV separator (if using CSV as source)\n        cur: dpapi2 cursor i.e. an object able to run cur.execute, `cur.fetchall()` etc. (if using a cursor as source)\n        database_engine_name: e.g. `DbeName.SQLITE` or 'sqlite' (if using a cursor as the source)\n        source_table_name: source table name (if using the cursor as a source OR using the internal SOFA SQLite database)\n        table_filter_sql: valid SQL to filter the source table - must be in the appropriate SQL dialect\n            and entities should be quoted appropriately as needed\n            e.g. SQLite requires backticks for field names with spaces such as \\`Age Group\\`\n        style_name: e.g. 'default'. Either one of the built-in styles under `sofastats.output.styles`\n            or a custom style defined by YAML in the custom_styles subfolder of the sofastats local folder\n            e.g. `~/Documents/sofastats/custom_styles`\n        output_file_path: full path to folder where output HTML will be generated.\n        output_title: the title the HTML output will display in a web browser\n        show_in_web_browser: if `True` will open a tab in your default browser to display the output file generated\n        sort_orders: if supplied, a dictionary that provides the sort orders for any variables given a custom sort order\n            (`SortOrder.CUSTOM`). Multiple sort orders can be defined - with each variable given a custom sort order\n            being a key in the dictionary. Example:\n\n            ```python\n            {\n                Age Group: [\n                    '&lt;20',\n                    '20 to &lt;30', '30 to &lt;40', '40 to &lt;50',\n                    '50 to &lt;60', '60 to &lt;70', '70 to &lt;80',\n                    '80+',\n                ]\n            }\n            ```\n\n            If the sort order applied was `SortOrder.VALUES`, we would see '&lt;20' appearing as the last value\n            by alphabetical order. If a custom order is defined, every value must appear in the list defining the\n            desired sequence.\n            Don't supply both `sort_orders` and `sort_orders_yaml_file_path`.\n        sort_orders_yaml_file_path: file path containing YAML defining custom sort orders. See structure and effect as\n            discussed under `sort_orders`. Don't supply both `sort_orders` and `sort_orders_yaml_file_path`.\n        decimal_points: defines the maximum number of decimal points displayed.\n            If set to 3, for example, 1.23456789 will be displayed as 1.235. 1.320000000 will be displayed as 1.32, and\n            1.60000000 as 1.6.\n    \"\"\"\n    ## inputs ***********************************\n    csv_file_path: Path | str | None = None\n    csv_separator: str = ','\n    cur: Any | None = None\n    database_engine_name: DbeName | str | None = None\n    source_table_name: str | None = None\n    table_filter_sql: str | None = None\n    ## outputs **********************************\n    style_name: str = 'default'\n    output_file_path: Path | str | None = None\n    output_title: str | None = None\n    show_in_web_browser: bool = True\n    sort_orders: SortOrderSpecs | None = None\n    sort_orders_yaml_file_path: Path | str | None = None\n    decimal_points: int = 3\n\n    @abstractmethod\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        \"\"\"\n        From the design produce the HTML to display as one of the attributes of the HTMLItemSpec.\n        Also return the style name and output item type e.g. whether a chart, table, or statistical output\n        \"\"\"\n        pass\n\n    def _handle_inputs(self):\n        \"\"\"\n        There are three main paths for specific data values to be supplied to the design:\n\n        1. CSV - data will be ingested into internal sofastats SQLite database\n        (`source_table_name` optional - later analyses might be referring to that ingested table\n        so nice to let user choose the name)\n        2. `cur`, `database_engine_name`, and `source_table_name`\n        3. or just a `source_table_name` (assumed to be using internal sofastats SQLite database)\n\n        Any supplied cursors are \"wrapped\" inside an `ExtendedCursor` so we can use `.exe()` instead of `.execute()`\n        and to provide better error messages on query failure.\n\n        Client code supplies `database_engine_name` rather than dbe_spec for simplicity but internally\n        `CommonDesign` supplies all code that inherits from it a `dbe_spec` attribute ready to use.\n\n        Settings are validated e.g. to prevent client code supplying both CSV settings and database settings.\n        \"\"\"\n        if self.csv_file_path:\n            if self.cur or self.database_engine_name or self.source_table_name or self.table_filter_sql:\n                raise Exception(\"If supplying a CSV path don't also supply database requirements\")\n            if not self.csv_separator:\n                self.csv_separator = ','\n            if not SQLITE_DB.get('sqlite_default_cur'):\n                SQLITE_DB['sqlite_default_con'] = sqlite.connect(INTERNAL_DATABASE_FPATH)\n                SQLITE_DB['sqlite_default_cur'] = ExtendedCursor(SQLITE_DB['sqlite_default_con'].cursor())\n            self.cur = SQLITE_DB['sqlite_default_cur']\n            self.dbe_spec = get_dbe_spec(DbeName.SQLITE)\n            if not self.source_table_name:\n                self.source_table_name = get_safer_name(Path(self.csv_file_path).stem)\n            ## ingest CSV into database\n            df = pd.read_csv(self.csv_file_path, sep=self.csv_separator)\n            try:\n                df.to_sql(self.source_table_name, SQLITE_DB['sqlite_default_con'], if_exists='replace', index=False)\n            except Exception as e:  ## TODO: supply more specific exception\n                logger.info(f\"Failed at attempt to ingest CSV from '{self.csv_file_path}' \"\n                    f\"into internal pysofa SQLite database as table '{self.source_table_name}'.\\nError: {e}\")\n            else:\n                logger.info(f\"Successfully ingested CSV from '{self.csv_file_path}' \"\n                    f\"into internal pysofa SQLite database as table '{self.source_table_name}'\")\n        elif self.cur:\n            self.cur = ExtendedCursor(self.cur)\n            if not self.database_engine_name:\n                supported_names = '\"' + '\", \"'.join(name.value for name in DbeName) + '\"'\n                raise Exception(\"When supplying a cursor, a database_engine_name must also be supplied. \"\n                    f\"Supported names currently are: {supported_names}\")\n            else:\n                self.dbe_spec = get_dbe_spec(self.database_engine_name)\n            if not self.source_table_name:\n                raise Exception(\"When supplying a cursor, a source_table_name must also be supplied\")\n        elif self.source_table_name:\n            if not SQLITE_DB.get('sqlite_default_cur'):\n                SQLITE_DB['sqlite_default_con'] = sqlite.connect(INTERNAL_DATABASE_FPATH)\n                SQLITE_DB['sqlite_default_cur'] = ExtendedCursor(SQLITE_DB['sqlite_default_con'].cursor())\n            self.cur = SQLITE_DB['sqlite_default_cur']  ## not already set if in the third path - will have gone down first\n            if self.database_engine_name and self.database_engine_name != DbeName.SQLITE:\n                raise Exception(\"If not supplying a csv_file_path, or a cursor, the only permitted database engine is \"\n                    \"SQLite (the dbe of the internal sofastats SQLite database)\")\n            self.dbe_spec = get_dbe_spec(DbeName.SQLITE)\n        else:\n            raise Exception(\"Either supply a path to a CSV \"\n                \"(optional tbl_name for when ingested into internal sofastats SQLite database), \"\n                \"a cursor (with dbe_name and tbl_name), \"\n                \"or a tbl_name (data assumed to be in internal sofastats SQLite database)\")\n\n    def _handle_outputs(self):\n        \"\"\"\n        Validate configuration and provide sane defaults for `output_title` and `output_file_path` if nothing set.\n        \"\"\"\n        ## output file path and title\n        nice_name = '_'.join(self.__module__.split('.')[-2:]) + f\"_{self.__class__.__name__}\"\n        if not self.output_file_path:\n            now = datetime.datetime.now().strftime('%Y_%m_%d_%H_%M_%S')\n            self.output_file_path = Path.cwd() / f\"{nice_name}_{now}.html\"\n        if not self.output_title:\n            self.output_title = f\"{nice_name} Output\"\n        ## sort orders\n        if self.sort_orders:\n            if self.sort_orders_yaml_file_path:\n                raise Exception(\"Oops - it looks like you supplied settings for both sort_orders \"\n                    \"and sort_orders_yaml_file_path. Please set one or both of them to None.\")\n            else:\n                pass\n        elif self.sort_orders_yaml_file_path:\n            yaml = YAML(typ='safe')  ## default, if not specified, is 'rt' (round-trip)\n            self.sort_orders = yaml.load(Path(self.sort_orders_yaml_file_path))  ## might be a str or Path so make sure\n        else:\n            self.sort_orders = {}\n\n    def __post_init__(self):\n        self._handle_inputs()\n        self._handle_outputs()\n        for field in fields(self):\n            if self.__getattribute__(field.name) == DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY:\n                ## raise a friendly error for when they didn't supply a mandatory field that technically had a default (DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY), but we want to insist they supply a real value\n                client_module = self.__module__.split('.')[-1]\n                nice_name = f\"{client_module}.{self.__class__.__name__}\"  ## e.g. anova.AnovaDesign\n                raise Exception(f\"Oops - you need to supply a value for {field.name} in your {nice_name}\")\n\n    def __repr_html__(self):\n        return self.__str__\n\n    def make_output(self):\n        \"\"\"\n        Produce HTML output, e.g. charts and numerical results, save to `output_file_path`,\n        and open in web browser if `show_in_web_browser=True`.\n        \"\"\"\n        self.to_html_design().to_file(fpath=self.output_file_path)\n        if self.show_in_web_browser:\n            open_new_tab(url=f\"file://{self.output_file_path}\")\n</code></pre>"},{"location":"API/#sofastats.output.interfaces.CommonDesign.to_html_design","title":"<code>to_html_design() -&gt; HTMLItemSpec</code>  <code>abstractmethod</code>","text":"<p>From the design produce the HTML to display as one of the attributes of the HTMLItemSpec. Also return the style name and output item type e.g. whether a chart, table, or statistical output</p> Source code in <code>src/sofastats/output/interfaces.py</code> <pre><code>@abstractmethod\ndef to_html_design(self) -&gt; HTMLItemSpec:\n    \"\"\"\n    From the design produce the HTML to display as one of the attributes of the HTMLItemSpec.\n    Also return the style name and output item type e.g. whether a chart, table, or statistical output\n    \"\"\"\n    pass\n</code></pre>"},{"location":"API/#sofastats.output.interfaces.CommonDesign.make_output","title":"<code>make_output()</code>","text":"<p>Produce HTML output, e.g. charts and numerical results, save to <code>output_file_path</code>, and open in web browser if <code>show_in_web_browser=True</code>.</p> Source code in <code>src/sofastats/output/interfaces.py</code> <pre><code>def make_output(self):\n    \"\"\"\n    Produce HTML output, e.g. charts and numerical results, save to `output_file_path`,\n    and open in web browser if `show_in_web_browser=True`.\n    \"\"\"\n    self.to_html_design().to_file(fpath=self.output_file_path)\n    if self.show_in_web_browser:\n        open_new_tab(url=f\"file://{self.output_file_path}\")\n</code></pre>"},{"location":"API/#charts","title":"Charts","text":""},{"location":"API/#area-charts","title":"Area Charts","text":"<p>See <code>CommonDesign</code> for the parameters common to all output design dataclasses in sofastats - for example, <code>style_name</code>.</p> <p>See <code>AreaChartDesign</code> for the parameters configuring individual area chart designs.</p>"},{"location":"API/#sofastats.output.charts.area.AreaChartDesign","title":"<code>sofastats.output.charts.area.AreaChartDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonDesign</code></p> <p>Parameters:</p> <ul> <li> <code>category_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>name of field in the x-axis</p> </li> <li> <code>category_sort_order</code>               (<code>SortOrder | str</code>, default:                   <code>VALUE</code> )           \u2013            <p>define order of categories in each chart e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p> </li> <li> <code>is_time_series</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>space x-axis labels according to time e.g. there might be variable gaps between items</p> </li> <li> <code>show_major_ticks_only</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>suppress minor ticks</p> </li> <li> <code>show_markers</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>show markers on the line bounding the area</p> </li> <li> <code>rotate_x_labels</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>make x-axis labels vertical</p> </li> <li> <code>show_n_records</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>show the number of records the chart is based on</p> </li> <li> <code>x_axis_font_size</code>               (<code>int</code>, default:                   <code>12</code> )           \u2013            <p>font size for x-axis labels</p> </li> <li> <code>y_axis_title</code>               (<code>str</code>, default:                   <code>'Freq'</code> )           \u2013            <p>title displayed vertically alongside y-axis</p> </li> </ul> Source code in <code>src/sofastats/output/charts/area.py</code> <pre><code>@dataclass(frozen=False)\nclass AreaChartDesign(CommonDesign):\n    \"\"\"\n    Args:\n        category_field_name: name of field in the x-axis\n        category_sort_order: define order of categories in each chart e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`\n        is_time_series: space x-axis labels according to time e.g. there might be variable gaps between items\n        show_major_ticks_only: suppress minor ticks\n        show_markers: show markers on the line bounding the area\n        rotate_x_labels: make x-axis labels vertical\n        show_n_records: show the number of records the chart is based on\n        x_axis_font_size: font size for x-axis labels\n        y_axis_title: title displayed vertically alongside y-axis\n    \"\"\"\n    category_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    category_sort_order: SortOrder | str = SortOrder.VALUE\n\n    is_time_series: bool = False\n    show_major_ticks_only: bool = True\n    show_markers: bool = True\n    rotate_x_labels: bool = False\n    show_n_records: bool = True\n    x_axis_font_size: int = 12\n    y_axis_title: str = 'Freq'\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        # style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        intermediate_charting_spec = get_by_category_charting_spec(\n            cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            category_field_name=self.category_field_name,\n            sort_orders=self.sort_orders,\n            category_sort_order=self.category_sort_order,\n            table_filter_sql=self.table_filter_sql)\n        ## chart details\n        charting_spec = AreaChartingSpec(\n            categories=intermediate_charting_spec.sorted_categories,\n            indiv_chart_specs=[intermediate_charting_spec.to_indiv_chart_spec(), ],\n            series_legend_label=None,\n            rotate_x_labels=self.rotate_x_labels,\n            show_n_records=self.show_n_records,\n            is_time_series=self.is_time_series,\n            show_major_ticks_only=self.show_major_ticks_only,\n            show_markers=self.show_markers,\n            x_axis_font_size=self.x_axis_font_size,\n            x_axis_title=intermediate_charting_spec.category_field_name,\n            y_axis_title=self.y_axis_title,\n        )\n        ## output\n        html = get_html(charting_spec, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.CHART,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#sofastats.output.charts.area.MultiChartAreaChartDesign","title":"<code>sofastats.output.charts.area.MultiChartAreaChartDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonDesign</code></p> <p>Parameters:</p> <ul> <li> <code>chart_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the field name defining the charts e.g. a <code>chart_field_name</code> of 'Country'  might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p> </li> <li> <code>chart_sort_order</code>               (<code>SortOrder | str</code>, default:                   <code>VALUE</code> )           \u2013            <p>define order of charts e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p> </li> </ul> Source code in <code>src/sofastats/output/charts/area.py</code> <pre><code>@dataclass(frozen=False)\nclass MultiChartAreaChartDesign(CommonDesign):\n    \"\"\"\n    Args:\n        chart_field_name: the field name defining the charts e.g. a `chart_field_name` of 'Country'\n             might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.\n        chart_sort_order: define order of charts e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`\n    \"\"\"\n    category_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    category_sort_order: SortOrder | str = SortOrder.VALUE\n    chart_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    chart_sort_order: SortOrder | str = SortOrder.VALUE\n\n    is_time_series: bool = False\n    show_major_ticks_only: bool = True\n    show_markers: bool = True\n    rotate_x_labels: bool = False\n    show_n_records: bool = True\n    x_axis_font_size: int = 12\n    y_axis_title: str = 'Freq'\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        # style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        intermediate_charting_spec = get_by_chart_category_charting_spec(\n            cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            category_field_name=self.category_field_name,\n            chart_field_name=self.chart_field_name,\n            sort_orders=self.sort_orders,\n            category_sort_order=self.category_sort_order, chart_sort_order=self.category_sort_order,\n            table_filter_sql=self.table_filter_sql, decimal_points=self.decimal_points)\n        ## chart details\n        charting_spec = AreaChartingSpec(\n            categories=intermediate_charting_spec.sorted_categories,\n            indiv_chart_specs=intermediate_charting_spec.to_indiv_chart_specs(),\n            series_legend_label=None,\n            rotate_x_labels=self.rotate_x_labels,\n            show_n_records=self.show_n_records,\n            is_time_series=self.is_time_series,\n            show_major_ticks_only=self.show_major_ticks_only,\n            show_markers=self.show_markers,\n            x_axis_font_size=self.x_axis_font_size,\n            x_axis_title=intermediate_charting_spec.category_field_name,\n            y_axis_title=self.y_axis_title,\n        )\n        ## output\n        html = get_html(charting_spec, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.CHART,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#bar-charts","title":"Bar Charts","text":"<p>See <code>CommonDesign</code> for the parameters common to all output design dataclasses in sofastats - for example, <code>style_name</code>.</p> <p>See <code>SimpleBarChartDesign</code> for the parameters configuring individual bar chart designs.</p>"},{"location":"API/#sofastats.output.charts.bar.CommonBarDesign","title":"<code>sofastats.output.charts.bar.CommonBarDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonDesign</code></p> <p>Parameters:</p> <ul> <li> <code>metric</code>               (<code>ChartMetric</code>, default:                   <code>FREQ</code> )           \u2013            <p>defines what bar heights represent - whether ChartMetric.FREQ, ChartMetric.PCT, etc.</p> </li> <li> <code>field_name</code>               (<code>str | None</code>, default:                   <code>None</code> )           \u2013            <p>the name of the field being aggregated when the metric is an aggregate e.g. ChartMetric.AVG or ChartMetric.SUM</p> </li> <li> <code>y_axis_title</code>               (<code>str | None</code>, default:                   <code>None</code> )           \u2013            <p>title displayed vertically alongside y-axis</p> </li> </ul> Source code in <code>src/sofastats/output/charts/bar.py</code> <pre><code>@dataclass(frozen=False)\nclass CommonBarDesign(CommonDesign):\n    \"\"\"\n    Args:\n        metric: defines what bar heights represent - whether ChartMetric.FREQ, ChartMetric.PCT, etc.\n        field_name: the name of the field being aggregated when the metric is an aggregate\n            e.g. ChartMetric.AVG or ChartMetric.SUM\n        y_axis_title: title displayed vertically alongside y-axis\n    \"\"\"\n\n    metric: ChartMetric = ChartMetric.FREQ\n    field_name: str | None = None\n    y_axis_title: str | None = None\n\n    def __post_init__(self):\n        super().__post_init__()\n        if self.y_axis_title is None:  ##TODO - no field name unless aggregating\n            if self.metric == ChartMetric.AVG:\n                self.y_axis_title = f\"Average {self.field_name}\"\n            elif self.metric == ChartMetric.FREQ:\n                self.y_axis_title = 'Frequency'\n            elif self.metric == ChartMetric.PCT:\n                self.y_axis_title = 'Percent'\n            elif self.metric == ChartMetric.SUM:\n                self.y_axis_title = f\"Summed {self.field_name}\"\n            else:\n                raise ValueError(f'Metric {self.metric} is not supported.')\n        if self.field_name is None:\n            if self.metric in (ChartMetric.AVG, ChartMetric.SUM):\n                raise ValueError(\"A field_name must be set if the metric aggregates \"\n                    \"e.g. ChartMetric.AVG or ChartMetric.SUM\")\n        else:\n            if self.metric not in (ChartMetric.AVG, ChartMetric.SUM):\n                raise ValueError(\"A field_name should only be supplied if the metric aggregates \"\n                    \"e.g. ChartMetric.AVG or ChartMetric.SUM\")\n\n    @abstractmethod\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        pass\n</code></pre>"},{"location":"API/#sofastats.output.charts.bar.SimpleBarChartDesign","title":"<code>sofastats.output.charts.bar.SimpleBarChartDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonBarDesign</code></p> <p>Parameters:</p> <ul> <li> <code>category_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>name of field in the x-axis</p> </li> <li> <code>category_sort_order</code>               (<code>SortOrder</code>, default:                   <code>VALUE</code> )           \u2013            <p>define order of categories in each chart e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p> </li> <li> <code>rotate_x_labels</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>make x-axis labels vertical</p> </li> <li> <code>show_borders</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>show a coloured border around the bars</p> </li> <li> <code>show_n_records</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>show the number of records the chart is based on</p> </li> <li> <code>x_axis_font_size</code>               (<code>int</code>, default:                   <code>12</code> )           \u2013            <p>font size for x-axis labels</p> </li> </ul> Source code in <code>src/sofastats/output/charts/bar.py</code> <pre><code>@dataclass(frozen=False)\nclass SimpleBarChartDesign(CommonBarDesign):\n    \"\"\"\n    Args:\n        category_field_name: name of field in the x-axis\n        category_sort_order: define order of categories in each chart e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`\n        rotate_x_labels: make x-axis labels vertical\n        show_borders: show a coloured border around the bars\n        show_n_records: show the number of records the chart is based on\n        x_axis_font_size: font size for x-axis labels\n    \"\"\"\n    category_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    category_sort_order: SortOrder = SortOrder.VALUE\n\n    rotate_x_labels: bool = False\n    show_borders: bool = False\n    show_n_records: bool = True\n    x_axis_font_size: int = 12\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        ## style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        intermediate_charting_spec = from_data.get_by_category_charting_spec(\n            cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            category_field_name=self.category_field_name, sort_orders=self.sort_orders,\n            category_sort_order=self.category_sort_order,\n            metric=self.metric, field_name=self.field_name,\n            table_filter_sql=self.table_filter_sql, decimal_points=self.decimal_points)\n        ## chart details\n        charting_spec = BarChartingSpec(\n            categories=intermediate_charting_spec.sorted_categories,\n            indiv_chart_specs=[intermediate_charting_spec.to_indiv_chart_spec(), ],\n            series_legend_label=None,\n            rotate_x_labels=self.rotate_x_labels,\n            show_borders=self.show_borders,\n            border_width=style_spec.chart.border_width,\n            show_n_records=self.show_n_records,\n            x_axis_font_size=self.x_axis_font_size,\n            x_axis_title=intermediate_charting_spec.category_field_name,\n            y_axis_title=self.y_axis_title,\n        )\n        ## output\n        html = get_html(charting_spec, style_spec)  ## see get_indiv_chart_html() below\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.CHART,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#sofastats.output.charts.bar.MultiChartBarChartDesign","title":"<code>sofastats.output.charts.bar.MultiChartBarChartDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonBarDesign</code></p> <p>Parameters:</p> <ul> <li> <code>chart_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the field name defining the charts e.g. a <code>chart_field_name</code> of 'Country' might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p> </li> <li> <code>chart_sort_order</code>               (<code>SortOrder</code>, default:                   <code>VALUE</code> )           \u2013            <p>define order of charts e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p> </li> </ul> Source code in <code>src/sofastats/output/charts/bar.py</code> <pre><code>@dataclass(frozen=False)\nclass MultiChartBarChartDesign(CommonBarDesign):\n    \"\"\"\n    Args:\n        chart_field_name: the field name defining the charts e.g. a `chart_field_name` of 'Country'\n            might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.\n        chart_sort_order: define order of charts e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`\n    \"\"\"\n    category_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    category_sort_order: SortOrder = SortOrder.VALUE\n    chart_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    chart_sort_order: SortOrder = SortOrder.VALUE\n\n    metric: ChartMetric = ChartMetric.FREQ\n    rotate_x_labels: bool = False\n    show_borders: bool = False\n    show_n_records: bool = True\n    x_axis_font_size: int = 12\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        # style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        intermediate_charting_spec = from_data.get_by_chart_category_charting_spec(\n            cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            category_field_name=self.category_field_name, chart_field_name=self.chart_field_name,\n            sort_orders=self.sort_orders,\n            category_sort_order=self.category_sort_order, chart_sort_order=self.chart_sort_order,\n            metric=self.metric, field_name=self.field_name,\n            table_filter_sql=self.table_filter_sql, decimal_points=self.decimal_points)\n        ## charts details\n        charting_spec = BarChartingSpec(\n            border_width=style_spec.chart.border_width,\n            categories=intermediate_charting_spec.sorted_categories,\n            indiv_chart_specs=intermediate_charting_spec.to_indiv_chart_specs(),\n            series_legend_label=None,\n            rotate_x_labels=self.rotate_x_labels,\n            show_borders=self.show_borders,\n            show_n_records=self.show_n_records,\n            x_axis_font_size=self.x_axis_font_size,\n            x_axis_title=intermediate_charting_spec.category_field_name,\n            y_axis_title=self.y_axis_title,\n        )\n        ## output\n        html = get_html(charting_spec, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.CHART,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#sofastats.output.charts.bar.ClusteredBarChartDesign","title":"<code>sofastats.output.charts.bar.ClusteredBarChartDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonBarDesign</code></p> <p>Parameters:</p> <ul> <li> <code>series_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the field name defining the series e.g. a <code>series_field_name</code> of 'Country' might separate generate bars within each category cluster for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p> </li> <li> <code>series_sort_order</code>               (<code>SortOrder</code>, default:                   <code>VALUE</code> )           \u2013            <p>define order of series within each category cluster e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p> </li> </ul> Source code in <code>src/sofastats/output/charts/bar.py</code> <pre><code>@dataclass(frozen=False)\nclass ClusteredBarChartDesign(CommonBarDesign):\n    \"\"\"\n    Args:\n        series_field_name: the field name defining the series e.g. a `series_field_name` of 'Country'\n            might separate generate bars within each category cluster for 'USA', 'NZ', 'Denmark', and 'South Korea'.\n        series_sort_order: define order of series within each category cluster e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`\n    \"\"\"\n    category_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    category_sort_order: SortOrder = SortOrder.VALUE\n    series_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    series_sort_order: SortOrder = SortOrder.VALUE\n\n    metric: ChartMetric = ChartMetric.FREQ\n    rotate_x_labels: bool = False\n    show_borders: bool = False\n    show_n_records: bool = True\n    x_axis_font_size: int = 12\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        # style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        intermediate_charting_spec = from_data.get_by_series_category_charting_spec(\n            cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            category_field_name=self.category_field_name, series_field_name=self.series_field_name,\n            sort_orders=self.sort_orders,\n            category_sort_order=self.category_sort_order, series_sort_order=self.series_sort_order,\n            metric=self.metric, field_name=self.field_name,\n            table_filter_sql=self.table_filter_sql, decimal_points=self.decimal_points)\n        ## chart details\n        charting_spec = BarChartingSpec(\n            border_width=style_spec.chart.border_width,\n            categories=intermediate_charting_spec.sorted_categories,\n            indiv_chart_specs=[intermediate_charting_spec.to_indiv_chart_spec(), ],\n            series_legend_label=intermediate_charting_spec.series_field_name,\n            rotate_x_labels=self.rotate_x_labels,\n            show_borders=self.show_borders,\n            show_n_records=self.show_n_records,\n            x_axis_font_size=self.x_axis_font_size,\n            x_axis_title=intermediate_charting_spec.category_field_name,\n            y_axis_title=self.y_axis_title,\n        )\n        ## output\n        html = get_html(charting_spec, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.CHART,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#sofastats.output.charts.bar.MultiChartClusteredBarChartDesign","title":"<code>sofastats.output.charts.bar.MultiChartClusteredBarChartDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonBarDesign</code></p> <p>Parameters:</p> <ul> <li> <code>series_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the field name defining the series e.g. a <code>series_field_name</code> of 'Country' might separate generate bars within each category cluster for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p> </li> <li> <code>series_sort_order</code>               (<code>SortOrder</code>, default:                   <code>VALUE</code> )           \u2013            <p>define order of series within each category cluster e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p> </li> <li> <code>chart_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the field name defining the charts e.g. a <code>chart_field_name</code> of 'Country' might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p> </li> <li> <code>chart_sort_order</code>               (<code>SortOrder</code>, default:                   <code>VALUE</code> )           \u2013            <p>define order of charts e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p> </li> </ul> Source code in <code>src/sofastats/output/charts/bar.py</code> <pre><code>@dataclass(frozen=False)\nclass MultiChartClusteredBarChartDesign(CommonBarDesign):\n    \"\"\"\n    Args:\n        series_field_name: the field name defining the series e.g. a `series_field_name` of 'Country'\n            might separate generate bars within each category cluster for 'USA', 'NZ', 'Denmark', and 'South Korea'.\n        series_sort_order: define order of series within each category cluster e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`\n        chart_field_name: the field name defining the charts e.g. a `chart_field_name` of 'Country'\n            might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.\n        chart_sort_order: define order of charts e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`\n    \"\"\"\n    category_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    category_sort_order: SortOrder = SortOrder.VALUE\n    series_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    series_sort_order: SortOrder = SortOrder.VALUE\n    chart_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    chart_sort_order: SortOrder = SortOrder.VALUE\n\n    metric: ChartMetric = ChartMetric.FREQ\n    rotate_x_labels: bool = False\n    show_borders: bool = False\n    show_n_records: bool = True\n    x_axis_font_size: int = 12\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        # style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        intermediate_charting_spec = from_data.get_by_chart_series_category_charting_spec(\n            cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            category_field_name=self.category_field_name,\n            series_field_name=self.series_field_name,\n            chart_field_name=self.chart_field_name,\n            sort_orders=self.sort_orders,\n            category_sort_order=self.category_sort_order,\n            series_sort_order=self.series_sort_order,\n            chart_sort_order=self.chart_sort_order,\n            metric=self.metric, field_name=self.field_name,\n            table_filter_sql=self.table_filter_sql,\n            decimal_points=self.decimal_points)\n        ## chart details\n        charting_spec = BarChartingSpec(\n            border_width=style_spec.chart.border_width,\n            categories=intermediate_charting_spec.sorted_categories,\n            indiv_chart_specs=intermediate_charting_spec.to_indiv_chart_specs(),\n            series_legend_label=intermediate_charting_spec.series_field_name,\n            rotate_x_labels=self.rotate_x_labels,\n            show_borders=self.show_borders,\n            show_n_records=self.show_n_records,\n            x_axis_font_size=self.x_axis_font_size,\n            x_axis_title=intermediate_charting_spec.category_field_name,\n            y_axis_title=self.y_axis_title,\n        )\n        ## output\n        html = get_html(charting_spec, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.CHART,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#sofastats.output.charts.bar.MultiChartClusteredBarChartDesign","title":"<code>sofastats.output.charts.bar.MultiChartClusteredBarChartDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonBarDesign</code></p> <p>Parameters:</p> <ul> <li> <code>series_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the field name defining the series e.g. a <code>series_field_name</code> of 'Country' might separate generate bars within each category cluster for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p> </li> <li> <code>series_sort_order</code>               (<code>SortOrder</code>, default:                   <code>VALUE</code> )           \u2013            <p>define order of series within each category cluster e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p> </li> <li> <code>chart_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the field name defining the charts e.g. a <code>chart_field_name</code> of 'Country' might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p> </li> <li> <code>chart_sort_order</code>               (<code>SortOrder</code>, default:                   <code>VALUE</code> )           \u2013            <p>define order of charts e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p> </li> </ul> Source code in <code>src/sofastats/output/charts/bar.py</code> <pre><code>@dataclass(frozen=False)\nclass MultiChartClusteredBarChartDesign(CommonBarDesign):\n    \"\"\"\n    Args:\n        series_field_name: the field name defining the series e.g. a `series_field_name` of 'Country'\n            might separate generate bars within each category cluster for 'USA', 'NZ', 'Denmark', and 'South Korea'.\n        series_sort_order: define order of series within each category cluster e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`\n        chart_field_name: the field name defining the charts e.g. a `chart_field_name` of 'Country'\n            might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.\n        chart_sort_order: define order of charts e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`\n    \"\"\"\n    category_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    category_sort_order: SortOrder = SortOrder.VALUE\n    series_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    series_sort_order: SortOrder = SortOrder.VALUE\n    chart_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    chart_sort_order: SortOrder = SortOrder.VALUE\n\n    metric: ChartMetric = ChartMetric.FREQ\n    rotate_x_labels: bool = False\n    show_borders: bool = False\n    show_n_records: bool = True\n    x_axis_font_size: int = 12\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        # style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        intermediate_charting_spec = from_data.get_by_chart_series_category_charting_spec(\n            cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            category_field_name=self.category_field_name,\n            series_field_name=self.series_field_name,\n            chart_field_name=self.chart_field_name,\n            sort_orders=self.sort_orders,\n            category_sort_order=self.category_sort_order,\n            series_sort_order=self.series_sort_order,\n            chart_sort_order=self.chart_sort_order,\n            metric=self.metric, field_name=self.field_name,\n            table_filter_sql=self.table_filter_sql,\n            decimal_points=self.decimal_points)\n        ## chart details\n        charting_spec = BarChartingSpec(\n            border_width=style_spec.chart.border_width,\n            categories=intermediate_charting_spec.sorted_categories,\n            indiv_chart_specs=intermediate_charting_spec.to_indiv_chart_specs(),\n            series_legend_label=intermediate_charting_spec.series_field_name,\n            rotate_x_labels=self.rotate_x_labels,\n            show_borders=self.show_borders,\n            show_n_records=self.show_n_records,\n            x_axis_font_size=self.x_axis_font_size,\n            x_axis_title=intermediate_charting_spec.category_field_name,\n            y_axis_title=self.y_axis_title,\n        )\n        ## output\n        html = get_html(charting_spec, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.CHART,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#box-plots","title":"Box Plots","text":"<p>See <code>CommonDesign</code> for the parameters common to all output design dataclasses in sofastats - for example, <code>style_name</code>.</p> <p>See <code>BoxplotChartDesign</code> for the parameters configuring individual box plot chart designs.</p>"},{"location":"API/#sofastats.output.charts.box_plot.BoxplotChartDesign","title":"<code>sofastats.output.charts.box_plot.BoxplotChartDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonDesign</code></p> <p>Parameters:</p> <ul> <li> <code>field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>field summarised in each box</p> </li> <li> <code>category_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>name of field in the x-axis</p> </li> <li> <code>category_sort_order</code>               (<code>SortOrder</code>, default:                   <code>VALUE</code> )           \u2013            <p>define order of categories in each chart e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p> </li> <li> <code>box_plot_type</code>               (<code>BoxplotType</code>, default:                   <code>INSIDE_1_POINT_5_TIMES_IQR</code> )           \u2013            <p>options for what the boxes represent and whether outliers are displayed or not.</p> </li> <li> <code>rotate_x_labels</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>make x-axis labels vertical</p> </li> <li> <code>show_n_records</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>show the number of records the chart is based on</p> </li> <li> <code>x_axis_font_size</code>               (<code>int</code>, default:                   <code>12</code> )           \u2013            <p>font size for x-axis labels</p> </li> </ul> Source code in <code>src/sofastats/output/charts/box_plot.py</code> <pre><code>@dataclass(frozen=False)\nclass BoxplotChartDesign(CommonDesign):\n    \"\"\"\n    Args:\n        field_name: field summarised in each box\n        category_field_name: name of field in the x-axis\n        category_sort_order: define order of categories in each chart e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`\n        box_plot_type: options for what the boxes represent and whether outliers are displayed or not.\n        rotate_x_labels: make x-axis labels vertical\n        show_n_records: show the number of records the chart is based on\n        x_axis_font_size: font size for x-axis labels\n    \"\"\"\n    field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    category_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    category_sort_order: SortOrder = SortOrder.VALUE\n\n    box_plot_type: BoxplotType = BoxplotType.INSIDE_1_POINT_5_TIMES_IQR\n    rotate_x_labels: bool = False\n    show_n_records: bool = True\n    x_axis_font_size: int = 12\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        # style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        intermediate_charting_spec = get_by_category_charting_spec(\n            cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            field_name=self.field_name,\n            category_field_name=self.category_field_name,\n            sort_orders=self.sort_orders,\n            category_sort_order=self.category_sort_order,\n            table_filter_sql=self.table_filter_sql,\n            box_plot_type=self.box_plot_type)\n        ## charts details\n        categories = [\n            category_vals_spec.category_val for category_vals_spec in intermediate_charting_spec.category_vals_specs]\n        indiv_chart_spec = intermediate_charting_spec.to_indiv_chart_spec()\n        charting_spec = BoxplotChartingSpec(\n            categories=categories,\n            indiv_chart_specs=[indiv_chart_spec, ],\n            series_legend_label=intermediate_charting_spec.series_field_name,\n            rotate_x_labels=self.rotate_x_labels,\n            show_n_records=self.show_n_records,\n            x_axis_title=intermediate_charting_spec.category_field_name,\n            y_axis_title=intermediate_charting_spec.field_name,\n        )\n        ## output\n        html = get_html(charting_spec, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.CHART,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#sofastats.output.charts.box_plot.ClusteredBoxplotChartDesign","title":"<code>sofastats.output.charts.box_plot.ClusteredBoxplotChartDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonDesign</code></p> <p>Parameters:</p> <ul> <li> <code>series_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the field name defining the series e.g. a <code>series_field_name</code> of 'Country' might separate generate boxes within each category cluster for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p> </li> <li> <code>series_sort_order</code>               (<code>SortOrder</code>, default:                   <code>VALUE</code> )           \u2013            <p>define order of series within each category cluster e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p> </li> </ul> Source code in <code>src/sofastats/output/charts/box_plot.py</code> <pre><code>@dataclass(frozen=False)\nclass ClusteredBoxplotChartDesign(CommonDesign):\n    \"\"\"\n    Args:\n        series_field_name: the field name defining the series e.g. a `series_field_name` of 'Country'\n            might separate generate boxes within each category cluster for 'USA', 'NZ', 'Denmark', and 'South Korea'.\n        series_sort_order: define order of series within each category cluster e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`\n    \"\"\"\n    field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    category_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    category_sort_order: SortOrder = SortOrder.VALUE\n    series_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    series_sort_order: SortOrder = SortOrder.VALUE\n\n    box_plot_type: BoxplotType = BoxplotType.INSIDE_1_POINT_5_TIMES_IQR\n    rotate_x_labels: bool = False\n    show_n_records: bool = True\n    x_axis_font_size: int = 12\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        # style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        intermediate_charting_spec = get_by_series_category_charting_spec(\n            cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            field_name=self.field_name,\n            category_field_name=self.category_field_name,\n            series_field_name=self.series_field_name,\n            sort_orders=self.sort_orders,\n            category_sort_order=self.category_sort_order,\n            series_sort_order=self.series_sort_order,\n            table_filter_sql=self.table_filter_sql,\n            box_plot_type=self.box_plot_type)\n        ## charts details\n        categories = [category_vals_spec.category_val\n            for category_vals_spec in intermediate_charting_spec.series_category_vals_specs[0].category_vals_specs]\n        indiv_chart_spec = intermediate_charting_spec.to_indiv_chart_spec(dp=self.decimal_points)\n        charting_spec = BoxplotChartingSpec(\n            categories=categories,\n            indiv_chart_specs=[indiv_chart_spec, ],\n            series_legend_label=intermediate_charting_spec.series_field,\n            rotate_x_labels=self.rotate_x_labels,\n            show_n_records=self.show_n_records,\n            x_axis_title=intermediate_charting_spec.category_field,\n            y_axis_title=intermediate_charting_spec.field,\n        )\n        ## output\n        html = get_html(charting_spec, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.CHART,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#histograms","title":"Histograms","text":"<p>See <code>CommonDesign</code> for the parameters common to all output design dataclasses in sofastats - for example, <code>style_name</code>.</p> <p>See <code>HistogramChartDesign</code> for the parameters configuring individual histogram chart designs.</p>"},{"location":"API/#sofastats.output.charts.histogram.HistogramChartDesign","title":"<code>sofastats.output.charts.histogram.HistogramChartDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonDesign</code></p> <p>Parameters:</p> <ul> <li> <code>field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>field summarised in each box</p> </li> <li> <code>show_borders</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>show a coloured border around the bars</p> </li> <li> <code>show_n_records</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>show the number of records the chart is based on</p> </li> <li> <code>show_normal_curve</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>if <code>True</code> display normal curve on the chart</p> </li> <li> <code>x_axis_font_size</code>               (<code>int</code>, default:                   <code>12</code> )           \u2013            <p>font size for x-axis labels</p> </li> </ul> Source code in <code>src/sofastats/output/charts/histogram.py</code> <pre><code>@dataclass(frozen=False)\nclass HistogramChartDesign(CommonDesign):\n    \"\"\"\n    Args:\n        field_name: field summarised in each box\n        show_borders: show a coloured border around the bars\n        show_n_records: show the number of records the chart is based on\n        show_normal_curve: if `True` display normal curve on the chart\n        x_axis_font_size: font size for x-axis labels\n    \"\"\"\n    field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n\n    show_borders: bool = False\n    show_n_records: bool = True\n    show_normal_curve: bool = True\n    x_axis_font_size: int = 12\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        # style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        intermediate_charting_spec = get_by_vals_charting_spec(\n            cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            field_name=self.field_name, table_filter_sql=self.table_filter_sql, decimal_points=self.decimal_points)\n        bin_labels = intermediate_charting_spec.to_bin_labels()\n        x_axis_min_val, x_axis_max_val = intermediate_charting_spec.to_x_axis_range()\n        ## charts details\n        indiv_chart_specs = intermediate_charting_spec.to_indiv_chart_specs()\n        charting_spec = HistoChartingSpec(\n            bin_labels=bin_labels,\n            indiv_chart_specs=indiv_chart_specs,\n            show_borders=self.show_borders,\n            show_n_records=self.show_n_records,\n            show_normal_curve=self.show_normal_curve,\n            var_label=intermediate_charting_spec.field_name,\n            x_axis_font_size=self.x_axis_font_size,\n            x_axis_max_val=x_axis_max_val,\n            x_axis_min_val=x_axis_min_val,\n        )\n        ## output\n        html = get_html(charting_spec, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.CHART,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#sofastats.output.charts.histogram.MultiChartHistogramChartDesign","title":"<code>sofastats.output.charts.histogram.MultiChartHistogramChartDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonDesign</code></p> <p>Parameters:</p> <ul> <li> <code>chart_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the field name defining the charts e.g. a <code>chart_field_name</code> of 'Country' might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p> </li> <li> <code>chart_sort_order</code>               (<code>SortOrder</code>, default:                   <code>VALUE</code> )           \u2013            <p>define order of charts e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p> </li> </ul> Source code in <code>src/sofastats/output/charts/histogram.py</code> <pre><code>@dataclass(frozen=False)\nclass MultiChartHistogramChartDesign(CommonDesign):\n    \"\"\"\n    Args:\n        chart_field_name: the field name defining the charts e.g. a `chart_field_name` of 'Country'\n            might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.\n        chart_sort_order: define order of charts e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`\n    \"\"\"\n    field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    chart_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    chart_sort_order: SortOrder = SortOrder.VALUE\n\n    show_borders: bool = False\n    show_n_records: bool = True\n    show_normal_curve: bool = True\n    x_axis_font_size: int = 12\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        # style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        intermediate_charting_spec = get_by_chart_charting_spec(\n            cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            field_name=self.field_name,\n            chart_field_name=self.chart_field_name,\n            sort_orders=self.sort_orders,\n            chart_sort_order=self.chart_sort_order,\n            table_filter_sql=self.table_filter_sql,\n            decimal_points=self.decimal_points,\n        )\n        x_axis_min_val, x_axis_max_val = intermediate_charting_spec.to_x_axis_range()\n        ## charts details\n        indiv_chart_specs = intermediate_charting_spec.to_indiv_chart_specs()\n        charting_spec = HistoChartingSpec(\n            bin_labels=intermediate_charting_spec.to_bin_labels(),\n            indiv_chart_specs=indiv_chart_specs,\n            show_borders=self.show_borders,\n            show_n_records=self.show_n_records,\n            show_normal_curve=self.show_normal_curve,\n            var_label=intermediate_charting_spec.field_name,\n            x_axis_font_size=self.x_axis_font_size,\n            x_axis_max_val=x_axis_max_val,\n            x_axis_min_val=x_axis_min_val,\n        )\n        ## output\n        html = get_html(charting_spec, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.CHART,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#line-charts","title":"Line Charts","text":"<p>See <code>CommonDesign</code> for the parameters common to all output design dataclasses in sofastats - for example, <code>style_name</code>.</p> <p>See <code>LineChartDesign</code> for the parameters configuring individual line chart designs.</p>"},{"location":"API/#sofastats.output.charts.line.LineChartDesign","title":"<code>sofastats.output.charts.line.LineChartDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonDesign</code></p> <p>Parameters:</p> <ul> <li> <code>category_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>name of field in the x-axis</p> </li> <li> <code>category_sort_order</code>               (<code>SortOrder</code>, default:                   <code>VALUE</code> )           \u2013            <p>define order of categories in each chart e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p> </li> <li> <code>is_time_series</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>space x-axis labels according to time e.g. there might be variable gaps between items</p> </li> <li> <code>show_major_ticks_only</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>suppress minor ticks</p> </li> <li> <code>show_markers</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>show markers on the line bounding the area</p> </li> <li> <code>show_smooth_line</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>if <code>True</code> also show smoothed version of line</p> </li> <li> <code>show_trend_line</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>if <code>True</code> also show trend line</p> </li> <li> <code>rotate_x_labels</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>make x-axis labels vertical</p> </li> <li> <code>show_n_records</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>show the number of records the chart is based on</p> </li> <li> <code>x_axis_font_size</code>               (<code>int</code>, default:                   <code>12</code> )           \u2013            <p>font size for x-axis labels</p> </li> <li> <code>y_axis_title</code>               (<code>str</code>, default:                   <code>'Freq'</code> )           \u2013            <p>title displayed vertically alongside y-axis</p> </li> </ul> Source code in <code>src/sofastats/output/charts/line.py</code> <pre><code>@dataclass(frozen=False)\nclass LineChartDesign(CommonDesign):\n    \"\"\"\n    Args:\n        category_field_name: name of field in the x-axis\n        category_sort_order: define order of categories in each chart e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`\n        is_time_series: space x-axis labels according to time e.g. there might be variable gaps between items\n        show_major_ticks_only: suppress minor ticks\n        show_markers: show markers on the line bounding the area\n        show_smooth_line: if `True` also show smoothed version of line\n        show_trend_line: if `True` also show trend line\n        rotate_x_labels: make x-axis labels vertical\n        show_n_records: show the number of records the chart is based on\n        x_axis_font_size: font size for x-axis labels\n        y_axis_title: title displayed vertically alongside y-axis\n    \"\"\"\n    category_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    category_sort_order: SortOrder = SortOrder.VALUE\n\n    is_time_series: bool = False\n    show_major_ticks_only: bool = True\n    show_markers: bool = True\n    show_smooth_line: bool = False\n    show_trend_line: bool = False\n    rotate_x_labels: bool = False\n    show_n_records: bool = True\n    x_axis_font_size: int = 12\n    y_axis_title: str = 'Freq'\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        # style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        intermediate_charting_spec = get_by_category_charting_spec(\n            cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            category_field_name=self.category_field_name,\n            sort_orders=self.sort_orders,\n            category_sort_order=self.category_sort_order,\n            table_filter_sql=self.table_filter_sql,\n            decimal_points=self.decimal_points,\n        )\n        ## chart details\n        charting_spec = LineChartingSpec(\n            categories=intermediate_charting_spec.sorted_categories,\n            indiv_chart_specs=[intermediate_charting_spec.to_indiv_chart_spec(), ],\n            series_legend_label=None,\n            rotate_x_labels=self.rotate_x_labels,\n            show_n_records=self.show_n_records,\n            is_time_series=self.is_time_series,\n            show_major_ticks_only=self.show_major_ticks_only,\n            show_markers=self.show_markers,\n            show_smooth_line=self.show_smooth_line,\n            show_trend_line=self.show_trend_line,\n            x_axis_font_size=self.x_axis_font_size,\n            x_axis_title=intermediate_charting_spec.category_field_name,\n            y_axis_title=self.y_axis_title,\n        )\n        ## output\n        html = get_html(charting_spec, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.CHART,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#sofastats.output.charts.line.MultiChartLineChartDesign","title":"<code>sofastats.output.charts.line.MultiChartLineChartDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonDesign</code></p> <p>Parameters:</p> <ul> <li> <code>chart_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the field name defining the charts e.g. a <code>chart_field_name</code> of 'Country' might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p> </li> <li> <code>chart_sort_order</code>               (<code>SortOrder</code>, default:                   <code>VALUE</code> )           \u2013            <p>define order of charts e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p> </li> </ul> Source code in <code>src/sofastats/output/charts/line.py</code> <pre><code>@dataclass(frozen=False)\nclass MultiChartLineChartDesign(CommonDesign):\n    \"\"\"\n    Args:\n        chart_field_name: the field name defining the charts e.g. a `chart_field_name` of 'Country'\n            might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.\n        chart_sort_order: define order of charts e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`\n    \"\"\"\n    category_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    category_sort_order: SortOrder = SortOrder.VALUE\n    chart_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    chart_sort_order: SortOrder = SortOrder.VALUE\n\n    is_time_series: bool = False\n    show_major_ticks_only: bool = True\n    show_markers: bool = True\n    show_smooth_line: bool = False\n    show_trend_line: bool = False\n    rotate_x_labels: bool = False\n    show_n_records: bool = True\n    x_axis_font_size: int = 12\n    y_axis_title: str = 'Freq'\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        # style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        intermediate_charting_spec = get_by_chart_category_charting_spec(\n            cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            category_field_name=self.category_field_name,\n            chart_field_name=self.chart_field_name,\n            sort_orders=self.sort_orders,\n            category_sort_order=self.category_sort_order,\n            chart_sort_order=self.chart_sort_order,\n            table_filter_sql=self.table_filter_sql,\n            decimal_points=self.decimal_points,\n        )\n        ## chart details\n        charting_spec = LineChartingSpec(\n            categories=intermediate_charting_spec.sorted_categories,\n            indiv_chart_specs=intermediate_charting_spec.to_indiv_chart_specs(),\n            series_legend_label=None,\n            rotate_x_labels=self.rotate_x_labels,\n            show_n_records=self.show_n_records,\n            is_time_series=self.is_time_series,\n            show_major_ticks_only=self.show_major_ticks_only,\n            show_markers=self.show_markers,\n            show_smooth_line=self.show_smooth_line,\n            show_trend_line=self.show_trend_line,\n            x_axis_font_size=self.x_axis_font_size,\n            x_axis_title=intermediate_charting_spec.category_field_name,\n            y_axis_title=self.y_axis_title,\n        )\n        ## output\n        html = get_html(charting_spec, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.CHART,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#sofastats.output.charts.line.MultiLineChartDesign","title":"<code>sofastats.output.charts.line.MultiLineChartDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonDesign</code></p> <p>Parameters:</p> <ul> <li> <code>series_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the field name defining the series e.g. a <code>series_field_name</code> of 'Country' might generate separate lines with different colours for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p> </li> <li> <code>series_sort_order</code>               (<code>SortOrder</code>, default:                   <code>VALUE</code> )           \u2013            <p>define order of series in legend e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p> </li> </ul> Source code in <code>src/sofastats/output/charts/line.py</code> <pre><code>@dataclass(frozen=False)\nclass MultiLineChartDesign(CommonDesign):\n    \"\"\"\n    Args:\n        series_field_name: the field name defining the series e.g. a `series_field_name` of 'Country'\n            might generate separate lines with different colours for 'USA', 'NZ', 'Denmark', and 'South Korea'.\n        series_sort_order: define order of series in legend e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`\n    \"\"\"\n    category_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    category_sort_order: SortOrder = SortOrder.VALUE\n    series_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    series_sort_order: SortOrder = SortOrder.VALUE\n\n    is_time_series: bool = False\n    show_major_ticks_only: bool = True\n    show_markers: bool = True\n    show_smooth_line: bool = False\n    show_trend_line: bool = False\n    rotate_x_labels: bool = False\n    show_n_records: bool = True\n    x_axis_font_size: int = 12\n    y_axis_title: str = 'Freq'\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        # style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        intermediate_charting_spec = get_by_series_category_charting_spec(\n            cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            category_field_name=self.category_field_name, series_field_name=self.series_field_name,\n            sort_orders=self.sort_orders,\n            category_sort_order=self.category_sort_order, series_sort_order=self.series_sort_order,\n            table_filter_sql=self.table_filter_sql,\n            decimal_points=self.decimal_points,\n        )\n        ## chart details\n        charting_spec = LineChartingSpec(\n            categories=intermediate_charting_spec.sorted_categories,\n            indiv_chart_specs=[intermediate_charting_spec.to_indiv_chart_spec(), ],\n            series_legend_label=intermediate_charting_spec.series_field_name,\n            rotate_x_labels=self.rotate_x_labels,\n            show_n_records=self.show_n_records,\n            is_time_series=self.is_time_series,\n            show_major_ticks_only=self.show_major_ticks_only,\n            show_markers=self.show_markers,\n            show_smooth_line=self.show_smooth_line,\n            show_trend_line=self.show_trend_line,\n            x_axis_font_size=self.x_axis_font_size,\n            x_axis_title=intermediate_charting_spec.category_field_name,\n            y_axis_title=self.y_axis_title,\n        )\n        ## output\n        html = get_html(charting_spec, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.CHART,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#sofastats.output.charts.line.MultiChartMultiLineChartDesign","title":"<code>sofastats.output.charts.line.MultiChartMultiLineChartDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonDesign</code></p> <p>Parameters:</p> <ul> <li> <code>series_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the field name defining the series e.g. a <code>series_field_name</code> of 'Country' might generate separate lines with different colours for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p> </li> <li> <code>series_sort_order</code>               (<code>SortOrder</code>, default:                   <code>VALUE</code> )           \u2013            <p>define order of series in legend e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p> </li> <li> <code>chart_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the field name defining the charts e.g. a <code>chart_field_name</code> of 'Country' might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p> </li> <li> <code>chart_sort_order</code>               (<code>SortOrder</code>, default:                   <code>VALUE</code> )           \u2013            <p>define order of charts e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p> </li> </ul> Source code in <code>src/sofastats/output/charts/line.py</code> <pre><code>@dataclass(frozen=False)\nclass MultiChartMultiLineChartDesign(CommonDesign):\n    \"\"\"\n    Args:\n        series_field_name: the field name defining the series e.g. a `series_field_name` of 'Country'\n            might generate separate lines with different colours for 'USA', 'NZ', 'Denmark', and 'South Korea'.\n        series_sort_order: define order of series in legend e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`\n        chart_field_name: the field name defining the charts e.g. a `chart_field_name` of 'Country'\n            might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.\n        chart_sort_order: define order of charts e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`\n    \"\"\"\n    category_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    category_sort_order: SortOrder = SortOrder.VALUE\n    series_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    series_sort_order: SortOrder = SortOrder.VALUE\n    chart_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    chart_sort_order: SortOrder = SortOrder.VALUE\n\n    is_time_series: bool = False\n    show_major_ticks_only: bool = True\n    show_markers: bool = True\n    show_smooth_line: bool = False\n    show_trend_line: bool = False\n    rotate_x_labels: bool = False\n    show_n_records: bool = True\n    x_axis_font_size: int = 12\n    y_axis_title: str = 'Freq'\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        # style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        intermediate_charting_spec = get_by_chart_series_category_charting_spec(\n            cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            category_field_name=self.category_field_name,\n            series_field_name=self.series_field_name,\n            chart_field_name=self.chart_field_name,\n            sort_orders=self.sort_orders,\n            category_sort_order=self.category_sort_order,\n            series_sort_order=self.series_sort_order,\n            chart_sort_order=self.chart_sort_order,\n            table_filter_sql=self.table_filter_sql,\n            decimal_points=self.decimal_points,\n        )\n        ## chart details\n        charting_spec = LineChartingSpec(\n            categories=intermediate_charting_spec.sorted_categories,\n            indiv_chart_specs=intermediate_charting_spec.to_indiv_chart_specs(),\n            series_legend_label=intermediate_charting_spec.series_field_name,\n            rotate_x_labels=self.rotate_x_labels,\n            show_n_records=self.show_n_records,\n            is_time_series=self.is_time_series,\n            show_major_ticks_only=self.show_major_ticks_only,\n            show_markers=self.show_markers,\n            show_smooth_line=self.show_smooth_line,\n            show_trend_line=self.show_trend_line,\n            x_axis_font_size=self.x_axis_font_size,\n            x_axis_title=intermediate_charting_spec.category_field_name,\n            y_axis_title=self.y_axis_title,\n        )\n        ## output\n        html = get_html(charting_spec, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.CHART,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#pie-charts","title":"Pie Charts","text":"<p>See <code>CommonDesign</code> for the parameters common to all output design dataclasses in sofastats - for example, <code>style_name</code>.</p> <p>See <code>PieChartDesign</code> for the parameters configuring individual pie chart designs.</p>"},{"location":"API/#sofastats.output.charts.pie.PieChartDesign","title":"<code>sofastats.output.charts.pie.PieChartDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonDesign</code></p> <p>Parameters:</p> <ul> <li> <code>category_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>name of field in the x-axis</p> </li> <li> <code>category_sort_order</code>               (<code>SortOrder</code>, default:                   <code>VALUE</code> )           \u2013            <p>define order of categories in each chart e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p> </li> <li> <code>show_n_records</code>               (<code>bool</code>, default:                   <code>(True,)</code> )           \u2013            <p>show the number of records the chart is based on</p> </li> </ul> Source code in <code>src/sofastats/output/charts/pie.py</code> <pre><code>@dataclass(frozen=False)\nclass PieChartDesign(CommonDesign):\n    \"\"\"\n    Args:\n        category_field_name: name of field in the x-axis\n        category_sort_order: define order of categories in each chart e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`\n        show_n_records: show the number of records the chart is based on\n    \"\"\"\n    category_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    category_sort_order: SortOrder = SortOrder.VALUE\n\n    show_n_records: bool = True,\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        # style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        intermediate_charting_spec = get_by_category_charting_spec(\n            cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            category_field_name=self.category_field_name,\n            sort_orders=self.sort_orders, category_sort_order=self.category_sort_order,\n            table_filter_sql=self.table_filter_sql)\n        ## charts details\n        charting_spec = PieChartingSpec(\n            categories=intermediate_charting_spec.sorted_categories,\n            indiv_chart_specs=[intermediate_charting_spec.to_indiv_chart_spec(), ],\n            show_n_records=self.show_n_records,\n        )\n        ## output\n        html = get_html(charting_spec, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.CHART,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#sofastats.output.charts.pie.MultiChartPieChartDesign","title":"<code>sofastats.output.charts.pie.MultiChartPieChartDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonDesign</code></p> <p>Parameters:</p> <ul> <li> <code>chart_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the field name defining the charts e.g. a <code>chart_field_name</code> of 'Country' might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p> </li> <li> <code>chart_sort_order</code>               (<code>SortOrder</code>, default:                   <code>VALUE</code> )           \u2013            <p>define order of charts e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p> </li> </ul> Source code in <code>src/sofastats/output/charts/pie.py</code> <pre><code>@dataclass(frozen=False)\nclass MultiChartPieChartDesign(CommonDesign):\n    \"\"\"\n    Args:\n        chart_field_name: the field name defining the charts e.g. a `chart_field_name` of 'Country'\n            might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.\n        chart_sort_order: define order of charts e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`\n    \"\"\"\n    category_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    category_sort_order: SortOrder = SortOrder.VALUE\n    chart_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    chart_sort_order: SortOrder = SortOrder.VALUE\n\n    show_n_records: bool = True,\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        # style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        intermediate_charting_spec = get_by_chart_category_charting_spec(\n            cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            category_field_name=self.category_field_name, chart_field_name=self.chart_field_name,\n            sort_orders=self.sort_orders,\n            category_sort_order=self.category_sort_order, chart_sort_order=self.chart_sort_order,\n            table_filter_sql=self.table_filter_sql)\n        ## charts details\n        charting_spec = PieChartingSpec(\n            categories=intermediate_charting_spec.sorted_categories,\n            indiv_chart_specs=intermediate_charting_spec.to_indiv_chart_specs(),\n            show_n_records=self.show_n_records,\n        )\n        ## output\n        html = get_html(charting_spec, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.CHART,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#scatter-plots","title":"Scatter Plots","text":"<p>See <code>CommonDesign</code> for the parameters common to all output design dataclasses in sofastats - for example, <code>style_name</code>.</p> <p>See <code>SimpleScatterChartDesign</code> for the parameters configuring individual scatter plot chart designs.</p>"},{"location":"API/#sofastats.output.charts.scatter_plot.SimpleScatterChartDesign","title":"<code>sofastats.output.charts.scatter_plot.SimpleScatterChartDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonDesign</code></p> <p>Parameters:</p> <ul> <li> <code>x_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>field defining the x value of each x-y pair</p> </li> <li> <code>y_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>field defining the y value of each x-y pair</p> </li> <li> <code>show_dot_borders</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>if <code>Tue</code> show borders around individual dots</p> </li> <li> <code>show_n_records</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>show the number of records the chart is based on</p> </li> <li> <code>show_regression_line</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>if <code>True</code> show regression line of best fit</p> </li> <li> <code>x_axis_font_size</code>               (<code>int</code>, default:                   <code>10</code> )           \u2013            <p>font size for x-axis labels</p> </li> </ul> Source code in <code>src/sofastats/output/charts/scatter_plot.py</code> <pre><code>@dataclass(frozen=False)\nclass SimpleScatterChartDesign(CommonDesign):\n    \"\"\"\n    Args:\n        x_field_name: field defining the x value of each x-y pair\n        y_field_name: field defining the y value of each x-y pair\n        show_dot_borders: if `Tue` show borders around individual dots\n        show_n_records: show the number of records the chart is based on\n        show_regression_line: if `True` show regression line of best fit\n        x_axis_font_size: font size for x-axis labels\n    \"\"\"\n    x_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    y_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n\n    show_dot_borders: bool = True\n    show_n_records: bool = True\n    show_regression_line: bool = True\n    x_axis_font_size: int = 10\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        # style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        intermediate_charting_spec = get_by_xy_charting_spec(\n            cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            x_field_name=self.x_field_name, y_field_name=self.y_field_name,\n            table_filter_sql=self.table_filter_sql)\n        ## charts details\n        indiv_chart_specs = intermediate_charting_spec.to_indiv_chart_specs()\n        charting_spec = ScatterChartingSpec(\n            indiv_chart_specs=indiv_chart_specs,\n            series_legend_label=None,\n            show_dot_borders=self.show_dot_borders,\n            show_n_records=self.show_n_records,\n            show_regression_line=self.show_regression_line,\n            x_axis_font_size=self.x_axis_font_size,\n            x_axis_title=intermediate_charting_spec.x_field_name,\n            y_axis_title=intermediate_charting_spec.y_field_name,\n        )\n        ## output\n        html = get_html(charting_spec, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.CHART,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#sofastats.output.charts.scatter_plot.MultiChartScatterChartDesign","title":"<code>sofastats.output.charts.scatter_plot.MultiChartScatterChartDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonDesign</code></p> <p>Parameters:</p> <ul> <li> <code>chart_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the field name defining the charts e.g. a <code>chart_field_name</code> of 'Country' might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p> </li> <li> <code>chart_sort_order</code>               (<code>SortOrder</code>, default:                   <code>VALUE</code> )           \u2013            <p>define order of charts e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p> </li> </ul> Source code in <code>src/sofastats/output/charts/scatter_plot.py</code> <pre><code>@dataclass(frozen=False)\nclass MultiChartScatterChartDesign(CommonDesign):\n    \"\"\"\n    Args:\n        chart_field_name: the field name defining the charts e.g. a `chart_field_name` of 'Country'\n            might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.\n        chart_sort_order: define order of charts e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`\n    \"\"\"\n    x_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    y_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    chart_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    chart_sort_order: SortOrder = SortOrder.VALUE\n\n    show_dot_borders: bool = True\n    show_n_records: bool = True\n    show_regression_line: bool = True\n    x_axis_font_size: int = 10\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        # style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        intermediate_charting_spec = get_by_chart_xy_charting_spec(\n            cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            x_field_name=self.x_field_name, y_field_name=self.y_field_name,\n            chart_field_name=self.chart_field_name,\n            sort_orders=self.sort_orders,\n            chart_sort_order=self.chart_sort_order,\n            table_filter_sql=self.table_filter_sql)\n        ## charts details\n        indiv_chart_specs = intermediate_charting_spec.to_indiv_chart_specs()\n        charting_spec = ScatterChartingSpec(\n            indiv_chart_specs=indiv_chart_specs,\n            series_legend_label=None,\n            show_dot_borders=self.show_dot_borders,\n            show_n_records=self.show_n_records,\n            show_regression_line=self.show_regression_line,\n            x_axis_font_size=self.x_axis_font_size,\n            x_axis_title=intermediate_charting_spec.x_field_name,\n            y_axis_title=intermediate_charting_spec.y_field_name,\n        )\n        ## output\n        html = get_html(charting_spec, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.CHART,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#sofastats.output.charts.scatter_plot.BySeriesScatterChartDesign","title":"<code>sofastats.output.charts.scatter_plot.BySeriesScatterChartDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonDesign</code></p> <p>Parameters:</p> <ul> <li> <code>series_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the field name defining the series e.g. a <code>series_field_name</code> of 'Country' might separate generate different colour dots for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p> </li> <li> <code>series_sort_order</code>               (<code>SortOrder</code>, default:                   <code>VALUE</code> )           \u2013            <p>define order of series in the legend e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p> </li> </ul> Source code in <code>src/sofastats/output/charts/scatter_plot.py</code> <pre><code>@dataclass(frozen=False)\nclass BySeriesScatterChartDesign(CommonDesign):\n    \"\"\"\n    Args:\n        series_field_name: the field name defining the series e.g. a `series_field_name` of 'Country'\n            might separate generate different colour dots for 'USA', 'NZ', 'Denmark', and 'South Korea'.\n        series_sort_order: define order of series in the legend e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`\n    \"\"\"\n    x_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    y_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    series_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    series_sort_order: SortOrder = SortOrder.VALUE\n\n    show_dot_borders: bool = True\n    show_n_records: bool = True\n    show_regression_line: bool = True\n    x_axis_font_size: int = 10\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        # style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        intermediate_charting_spec = get_by_series_xy_charting_spec(\n            cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            x_field_name=self.x_field_name, y_field_name=self.y_field_name,\n            series_field_name=self.series_field_name,\n            sort_orders=self.sort_orders,\n            series_sort_order=self.series_sort_order,\n            table_filter_sql=self.table_filter_sql)\n        ## charts details\n        indiv_chart_specs = intermediate_charting_spec.to_indiv_chart_specs()\n        charting_spec = ScatterChartingSpec(\n            indiv_chart_specs=indiv_chart_specs,\n            series_legend_label=intermediate_charting_spec.series_field_name,\n            show_dot_borders=self.show_dot_borders,\n            show_n_records=self.show_n_records,\n            show_regression_line=self.show_regression_line,\n            x_axis_font_size=self.x_axis_font_size,\n            x_axis_title=intermediate_charting_spec.x_field_name,\n            y_axis_title=intermediate_charting_spec.y_field_name,\n        )\n        ## output\n        html = get_html(charting_spec, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.CHART,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#sofastats.output.charts.scatter_plot.MultiChartBySeriesScatterChartDesign","title":"<code>sofastats.output.charts.scatter_plot.MultiChartBySeriesScatterChartDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonDesign</code></p> <p>Parameters:</p> <ul> <li> <code>series_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the field name defining the series e.g. a <code>series_field_name</code> of 'Country' might separate generate different colour dots for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p> </li> <li> <code>series_sort_order</code>               (<code>SortOrder</code>, default:                   <code>VALUE</code> )           \u2013            <p>define order of series in the legend e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p> </li> <li> <code>chart_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the field name defining the charts e.g. a <code>chart_field_name</code> of 'Country' might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.</p> </li> <li> <code>chart_sort_order</code>               (<code>SortOrder</code>, default:                   <code>VALUE</code> )           \u2013            <p>define order of charts e.g. <code>SortOrder.VALUES</code> or <code>SortOrder.CUSTOM</code></p> </li> </ul> Source code in <code>src/sofastats/output/charts/scatter_plot.py</code> <pre><code>@dataclass(frozen=False)\nclass MultiChartBySeriesScatterChartDesign(CommonDesign):\n    \"\"\"\n    Args:\n        series_field_name: the field name defining the series e.g. a `series_field_name` of 'Country'\n            might separate generate different colour dots for 'USA', 'NZ', 'Denmark', and 'South Korea'.\n        series_sort_order: define order of series in the legend e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`\n        chart_field_name: the field name defining the charts e.g. a `chart_field_name` of 'Country'\n            might separate generate charts for 'USA', 'NZ', 'Denmark', and 'South Korea'.\n        chart_sort_order: define order of charts e.g. `SortOrder.VALUES` or `SortOrder.CUSTOM`\n    \"\"\"\n    x_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    y_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    series_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    series_sort_order: SortOrder = SortOrder.VALUE\n    chart_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    chart_sort_order: SortOrder = SortOrder.VALUE\n\n    show_dot_borders: bool = True\n    show_n_records: bool = True\n    show_regression_line: bool = True\n    x_axis_font_size: int = 10\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        # style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        intermediate_charting_spec = get_by_chart_series_xy_charting_spec(\n            cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            x_field_name=self.x_field_name, y_field_name=self.y_field_name,\n            series_field_name=self.series_field_name, chart_field_name=self.chart_field_name,\n            sort_orders=self.sort_orders,\n            series_sort_order=self.series_sort_order, chart_sort_order=self.chart_sort_order,\n            table_filter_sql=self.table_filter_sql)\n        ## charts details\n        indiv_chart_specs = intermediate_charting_spec.to_indiv_chart_specs()\n        charting_spec = ScatterChartingSpec(\n            indiv_chart_specs=indiv_chart_specs,\n            series_legend_label=intermediate_charting_spec.series_field_name,\n            show_dot_borders=self.show_dot_borders,\n            show_n_records=self.show_n_records,\n            show_regression_line=self.show_regression_line,\n            x_axis_font_size=self.x_axis_font_size,\n            x_axis_title=intermediate_charting_spec.x_field_name,\n            y_axis_title=intermediate_charting_spec.y_field_name,\n        )\n        ## output\n        html = get_html(charting_spec, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.CHART,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#tables","title":"Tables","text":"<p>See <code>CommonDesign</code> for the parameters common to all output design dataclasses in sofastats - for example, <code>style_name</code>.</p> <p><code>DimensionSpec</code> defines the main parameters of both the <code>Row</code> and <code>Column</code> table dimensions. The only parameter <code>Row</code> and <code>Column</code> adds is the appropriate setting for <code>is_col</code>.</p>"},{"location":"API/#sofastats.output.tables.interfaces.DimensionSpec","title":"<code>sofastats.output.tables.interfaces.DimensionSpec</code>  <code>dataclass</code>","text":"<p>Parameters:</p> <ul> <li> <code>variable_name</code>               (<code>str</code>)           \u2013            <p>name of variable</p> </li> <li> <code>has_total</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>if <code>True</code> add a total</p> </li> <li> <code>is_col</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>if <code>True</code> is a column</p> </li> <li> <code>pct_metrics</code>               (<code>Collection[Metric] | None</code>, default:                   <code>None</code> )           \u2013            <p>define which metrics to display - options: <code>Metric.ROW_PCT</code> and <code>Metric.COL_PCT</code></p> </li> <li> <code>sort_order</code>               (<code>SortOrder | str</code>, default:                   <code>VALUE</code> )           \u2013            <p>sort order of variable</p> </li> <li> <code>child</code>               (<code>Self | None</code>, default:                   <code>None</code> )           \u2013            <p>a child DimensionSpec if nesting underneath</p> </li> </ul> Source code in <code>src/sofastats/output/tables/interfaces.py</code> <pre><code>@dataclass(frozen=False)\nclass DimensionSpec:\n    \"\"\"\n    Args:\n        variable_name: name of variable\n        has_total: if `True` add a total\n        is_col: if `True` is a column\n        pct_metrics: define which metrics to display - options: `Metric.ROW_PCT` and `Metric.COL_PCT`\n        sort_order: sort order of variable\n        child: a child DimensionSpec if nesting underneath\n    \"\"\"\n    variable_name: str\n    has_total: bool = False\n    is_col: bool = False\n    pct_metrics: Collection[Metric] | None = None\n    sort_order: SortOrder | str = SortOrder.VALUE\n    child: Self | None = None\n\n    @property\n    def descendant_vars(self) -&gt; list[str]:\n        \"\"\"\n        All variables under, but not including, this DimensionSpec.\n        Note - only includes chains, not trees, as a deliberate design choice to avoid excessively complicated tables.\n        Tables are for computers to make, but for humans to read and understand :-).\n        \"\"\"\n        dim_vars = []\n        if self.child:\n            dim_vars.append(self.child.variable_name)\n            dim_vars.extend(self.child.descendant_vars)\n        return dim_vars\n\n    @property\n    def self_and_descendants(self) -&gt; list[Self]:\n        \"\"\"\n        All DimensionSpecs under, and including, this DimensionSpec.\n        \"\"\"\n        dims = [self, ]\n        if self.child:\n            dims.extend(self.child.self_and_descendants)\n        return dims\n\n    @property\n    def self_and_descendant_vars(self) -&gt; list[str]:\n        \"\"\"\n        All variable names under, and including, this DimensionSpec.\n        \"\"\"\n        return [dim.variable_name for dim in self.self_and_descendants]\n\n    @property\n    def self_and_descendant_totalled_vars(self) -&gt; list[str]:\n        \"\"\"\n        All variables under, and including, this DimensionSpec that are totalled (if any).\n        \"\"\"\n        return [dim.variable_name for dim in self.self_and_descendants if dim.has_total]\n\n    @property\n    def self_or_descendant_pct_metrics(self) -&gt; Collection[Metric] | None:\n        \"\"\"\n        All percentage metrics (row and/or column percentages) under, or for, this DimensionSpec.\n        \"\"\"\n        if self.pct_metrics:\n            return self.pct_metrics\n        elif self.child:\n            return self.child.self_or_descendant_pct_metrics\n        else:\n            return None\n\n    def __post_init__(self):\n        if self.pct_metrics:\n            if self.child:\n                raise ValueError(f\"Metrics are only for terminal dimension specs e.g. a &gt; b &gt; c (can have metrics)\")\n            if not self.is_col:\n                raise ValueError(f\"Metrics are only for terminal column specs, yet this is a row spec\")\n        if self.child:\n            if not self.is_col == self.child.is_col:\n                raise ValueError(f\"This dim has a child that is inconsistent e.g. a col parent having a row child\")\n        if self.variable_name in self.descendant_vars:\n            raise ValueError(\"Variables can't be repeated in the same dimension spec \"\n                f\"e.g. Car &gt; Country &gt; Car. Variable {self.variable_name}\")\n</code></pre>"},{"location":"API/#sofastats.output.tables.interfaces.Row","title":"<code>sofastats.output.tables.interfaces.Row</code>  <code>dataclass</code>","text":"<p>               Bases: <code>DimensionSpec</code></p> Source code in <code>src/sofastats/output/tables/interfaces.py</code> <pre><code>@dataclass(frozen=False)\nclass Row(DimensionSpec):\n\n    def __post_init__(self):\n        self.is_col = False\n        super().__post_init__()\n</code></pre>"},{"location":"API/#sofastats.output.tables.interfaces.Column","title":"<code>sofastats.output.tables.interfaces.Column</code>  <code>dataclass</code>","text":"<p>               Bases: <code>DimensionSpec</code></p> Source code in <code>src/sofastats/output/tables/interfaces.py</code> <pre><code>@dataclass(frozen=False)\nclass Column(DimensionSpec):\n\n    def __post_init__(self):\n        self.is_col = True\n        super().__post_init__()\n</code></pre>"},{"location":"API/#sofastats.output.tables.freq.FrequencyTableDesign","title":"<code>sofastats.output.tables.freq.FrequencyTableDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonDesign</code></p> <p>Parameters:</p> <ul> <li> <code>row_variable_designs</code>               (<code>list[Row]</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>list of Rows</p> </li> <li> <code>include_column_percent</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>if <code>True</code> add a column percentage column</p> </li> </ul> Source code in <code>src/sofastats/output/tables/freq.py</code> <pre><code>@dataclass(frozen=False, kw_only=True)\nclass FrequencyTableDesign(CommonDesign):\n    \"\"\"\n    Args:\n        row_variable_designs: list of Rows\n        include_column_percent: if `True` add a column percentage column\n    \"\"\"\n    row_variable_designs: list[Row] = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n\n    include_column_percent: bool = False\n    debug: bool = False\n    verbose: bool = False\n\n    @property\n    def totalled_vars(self) -&gt; list[str]:\n        tot_vars = []\n        for row_spec in self.row_variable_designs:\n            tot_vars.extend(row_spec.self_and_descendant_totalled_vars)\n        return tot_vars\n\n    @property\n    def max_row_depth(self) -&gt; int:\n        max_depth = 0\n        for row_spec in self.row_variable_designs:\n            row_depth = len(row_spec.self_and_descendant_vars)\n            if row_depth &gt; max_depth:\n                max_depth = row_depth\n        return max_depth\n\n    def __post_init__(self):\n        CommonDesign.__post_init__(self)\n        row_vars = [spec.variable_name for spec in self.row_variable_designs]\n        row_dupes = set()\n        seen = set()\n        for row_var in row_vars:\n            if row_var in seen:\n                row_dupes.add(row_var)\n            else:\n                seen.add(row_var)\n        if row_dupes:\n            raise ValueError(f\"Duplicate top-level variable(s) detected in row dimension - {sorted(row_dupes)}\")\n\n    def get_row_df(self, cur, *, row_idx: int, dp: int = 2) -&gt; pd.DataFrame:\n        \"\"\"\n        See cross_tab docs\n        \"\"\"\n        row_spec = self.row_variable_designs[row_idx]\n        totalled_variables = row_spec.self_and_descendant_totalled_vars\n        row_vars = row_spec.self_and_descendant_vars\n        data = get_data_from_spec(cur, dbe_spec=self.dbe_spec,\n            source_table_name=self.source_table_name, table_filter_sql=self.table_filter_sql,\n            all_variables=row_vars, totalled_variables=totalled_variables, debug=self.debug)\n        n_row_fillers = self.max_row_depth - len(row_vars)\n        df = get_all_metrics_df_from_vars(data, row_vars=row_vars, n_row_fillers=n_row_fillers,\n            inc_col_pct=self.include_column_percent,\n            dp=dp, debug=self.debug)\n        return df\n\n    def get_tbl_df(self, cur) -&gt; pd.DataFrame:\n        \"\"\"\n        See cross_tab docs\n        \"\"\"\n        dfs = [self.get_row_df(cur, row_idx=row_idx, dp=self.decimal_points)\n            for row_idx in range(len(self.row_variable_designs))]\n        df_t = dfs[0].T\n        dfs_remaining = dfs[1:]\n        for df_next in dfs_remaining:\n            df_t = df_t.join(df_next.T, how='outer')\n        df = df_t.T  ## re-transpose back so cols are cols and rows are rows again\n        if self.debug: print(f\"\\nCOMBINED:\\n{df}\")\n        ## Sorting indexes\n        raw_df = get_raw_df(cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name)\n        order_rules_for_multi_index_branches = get_order_rules_for_multi_index_branches(self.row_variable_designs)\n        ## ROWS\n        unsorted_row_multi_index_list = list(df.index)\n        sorted_row_multi_index_list = get_sorted_multi_index_list(\n            unsorted_row_multi_index_list, order_rules_for_multi_index_branches=order_rules_for_multi_index_branches,\n            sort_orders=self.sort_orders, raw_df=raw_df, has_metrics=False, debug=self.debug)\n        sorted_row_multi_index = pd.MultiIndex.from_tuples(\n            sorted_row_multi_index_list)  ## https://pandas.pydata.org/docs/user_guide/advanced.html\n        sorted_col_multi_index_list = sorted(\n            df.columns, key=lambda metric_label_and_metric: get_metric2order(metric_label_and_metric[1]))\n        sorted_col_multi_index = pd.MultiIndex.from_tuples(sorted_col_multi_index_list)\n        df = df.reindex(index=sorted_row_multi_index, columns=sorted_col_multi_index)\n        if self.debug: print(f\"\\nORDERED:\\n{df}\")\n        return df\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        get_tbl_df_for_cur = partial(self.get_tbl_df)\n        df = get_tbl_df_for_cur(self.cur)\n        pd_styler = set_table_styles(df.style)\n        style_spec = get_style_spec(style_name=self.style_name)\n        pd_styler = apply_index_styles(df, style_spec, pd_styler, axis='rows')\n        pd_styler = apply_index_styles(df, style_spec, pd_styler, axis='columns')\n        raw_tbl_html = pd_styler.to_html()\n        if self.debug:\n            print(raw_tbl_html)\n        ## Fix\n        html = raw_tbl_html\n        html = fix_top_left_box(html, style_spec, debug=self.debug, verbose=self.verbose)\n        html = merge_cols_of_blanks(html, debug=self.debug)\n        if self.debug:\n            print(pd_styler.uuid)  ## A unique identifier to avoid CSS collisions; generated automatically.\n            print(html)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.MAIN_TABLE,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#sofastats.output.tables.cross_tab.CrossTabDesign","title":"<code>sofastats.output.tables.cross_tab.CrossTabDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonDesign</code></p> <p>Parameters:</p> <ul> <li> <code>row_variable_designs</code>               (<code>list[Row]</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>list of Rows</p> </li> <li> <code>column_variable_designs</code>               (<code>list[Column]</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>list of Columns</p> </li> </ul> Source code in <code>src/sofastats/output/tables/cross_tab.py</code> <pre><code>@dataclass(frozen=False, kw_only=True)\nclass CrossTabDesign(CommonDesign):\n    \"\"\"\n    Args:\n        row_variable_designs: list of Rows\n        column_variable_designs: list of Columns\n    \"\"\"\n    row_variable_designs: list[Row] = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    column_variable_designs: list[Column] = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n\n    debug: bool = False\n    verbose: bool = False\n\n    @staticmethod\n    def _get_dupes(_vars: Collection[str]) -&gt; set[str]:\n        dupes = set()\n        seen = set()\n        for var in _vars:\n            if var in seen:\n                dupes.add(var)\n            else:\n                seen.add(var)\n        return dupes\n\n    @property\n    def totalled_vars(self) -&gt; list[str]:\n        tot_vars = []\n        for row_spec in self.row_variable_designs:\n            tot_vars.extend(row_spec.self_and_descendant_totalled_vars)\n        for col_spec in self.column_variable_designs:\n            tot_vars.extend(col_spec.self_and_descendant_totalled_vars)\n        return tot_vars\n\n    def _get_max_dim_depth(self, *, is_col=False) -&gt; int:\n        max_depth = 0\n        dim_specs = self.column_variable_designs if is_col else self.row_variable_designs\n        for dim_spec in dim_specs:\n            dim_depth = len(dim_spec.self_and_descendant_vars)\n            if dim_depth &gt; max_depth:\n                max_depth = dim_depth\n        return max_depth\n\n    @property\n    def max_row_depth(self) -&gt; int:\n        return self._get_max_dim_depth()\n\n    @property\n    def max_col_depth(self) -&gt; int:\n        return self._get_max_dim_depth(is_col=True)\n\n    def __post_init__(self):\n        CommonDesign.__post_init__(self)\n        row_dupes = CrossTabDesign._get_dupes([spec.variable_name for spec in self.row_variable_designs])\n        if row_dupes:\n            raise ValueError(f\"Duplicate top-level variable(s) detected in row dimension - {sorted(row_dupes)}\")\n        col_dupes = CrossTabDesign._get_dupes([spec.variable_name for spec in self.column_variable_designs])\n        if col_dupes:\n            raise ValueError(f\"Duplicate top-level variable(s) detected in column dimension - {sorted(col_dupes)}\")\n        ## var can't be in both row and col e.g. car vs country &gt; car\n        for row_spec, col_spec in product(self.row_variable_designs, self.column_variable_designs):\n            row_spec_vars = set([row_spec.variable_name] + row_spec.descendant_vars)\n            col_spec_vars = set([col_spec.variable_name] + col_spec.descendant_vars)\n            overlapping_vars = row_spec_vars.intersection(col_spec_vars)\n            if overlapping_vars:\n                raise ValueError(\"Variables can't appear in both rows and columns. \"\n                    f\"Found the following overlapping variable(s): {', '.join(overlapping_vars)}\")\n\n    def get_df_from_row_spec(self, cur, *, row_spec_idx: int) -&gt; pd.DataFrame:\n        \"\"\"\n        get a combined df for, e.g. the combined top df. Or the middle df. Or the bottom df. Or whatever you have.\n        e.g.\n        row_variables_design_1 = Row(variable='country', has_total=True,\n            child=(variable='gender', has_total=True))\n        vs\n        column_variables_design_1 = Column(variable='Age Group', has_total=True)\n        column_variables_design_2 = Column(variable='Web Browser', has_total=True,\n            child=Column(variable='Age Group', has_total=True, pct_metrics=[Metric.ROW_PCT, Metric.COL_PCT]))\n        column_variables_design_3 = Column(variable='Standard Age Group', has_total=True)\n        \"\"\"\n        row_spec = self.row_variable_designs[row_spec_idx]\n        row_vars = row_spec.self_and_descendant_vars\n        n_row_fillers = self.max_row_depth - len(row_vars)\n        df_cols = []\n        for col_spec in self.column_variable_designs:\n            col_vars = col_spec.self_and_descendant_vars\n            totalled_variables = row_spec.self_and_descendant_totalled_vars + col_spec.self_and_descendant_totalled_vars\n            all_variables = row_vars + col_vars\n            data = get_data_from_spec(cur, dbe_spec=self.dbe_spec,\n                source_table_name=self.source_table_name, table_filter_sql=self.table_filter_sql,\n                all_variables=all_variables, totalled_variables=totalled_variables, debug=self.debug)\n            df_col = get_all_metrics_df_from_vars(data, row_vars=row_vars, col_vars=col_vars,\n                n_row_fillers=n_row_fillers, n_col_fillers=self.max_col_depth - len(col_vars),\n                pct_metrics=col_spec.self_or_descendant_pct_metrics, dp=self.decimal_points, debug=self.debug)\n            df_cols.append(df_col)\n        df = df_cols[0]\n        df_cols_remaining = df_cols[1:]\n        row_merge_on = []\n        for row_var in row_vars:\n            row_merge_on.append(get_pandas_friendly_name(row_var, '_var'))\n            row_merge_on.append(row_var)\n        for i in range(n_row_fillers):\n            row_merge_on.append(f'row_filler_var_{i}')\n            row_merge_on.append(f'row_filler_{i}')\n        for df_next_col in df_cols_remaining:\n            df = df.merge(df_next_col, how='outer', on=row_merge_on)\n        return df\n\n    def get_tbl_df(self, cur) -&gt; pd.DataFrame:\n        \"\"\"\n        For each row_variable_designs get a completed df and then merge those.\n\n        Note - using pd.concat or df.merge(how='outer') has the same result, but I use merge for horizontal joining\n        to avoid repeating the row dimension columns e.g. country and gender.\n\n        Basically we are merging left and right dfs. Merging is typically on an id field that both parts share.\n        In this case there are as many fields to merge on as there are fields in the row index -\n        in this example there are 4 (var_00, val_00, var_01, and val_01).\n        There is one added complexity because the column is multi-index.\n        We need to supply a tuple with an item (possibly an empty string) for each level.\n        In this case there are two levels (browser and age_group). So we merge on\n        [('var_00', ''), ('val_00', ''), ('var_01', ''), ('val_01', '')]\n        If there were three row levels and four col levels we would need something like:\n        [('var_00', '', '', ''), ('val_00', '', '', ''), ... ('val_02', '', '', '')]\n\n        BOTTOM LEFT:\n        browser    var_00       val_00     var_01     val_01 Chrome                       Firefox\n        agegroup                                                &lt;20 20-29 30-39 40-64 65+     &lt;20 20-29 30-39 40-64 65+\n        0         Country           NZ  __blank__  __blank__     10    19    17    28  44      25    26    14    38  48\n        ...\n\n        BOTTOM RIGHT:\n        agegroup   var_00       val_00     var_01     val_01 &lt;20 20-29 30-39 40-64 65+\n        dummy\n        0         Country           NZ  __blank__  __blank__  35    45    31    66  92\n        ...\n\n        Note - we flatten out the row multi-index using reset_index().\n        This flattening results in a column per row variable e.g. one for country and one for gender\n         (at this point we're ignoring the labelling step where we split each row variable e.g. for country into Country (var) and NZ (val)).\n        Given it is a column, it has to have as many levels as the column dimension columns.\n        So if there are two column dimension levels each row column will need to be a two-tuple e.g. ('gender', '').\n        If there were three column dimension levels the row column would need to be a three-tuple e.g. ('gender', '', '').\n        \"\"\"\n        dfs = [self.get_df_from_row_spec(cur, row_spec_idx=row_spec_idx)\n            for row_spec_idx in range(len(self.row_variable_designs))]\n        ## COMBINE using pandas JOINing (the big magic trick at the middle of this approach to complex table-making)\n        ## Unfortunately, delegating to Pandas means we can't fix anything intrinsic to what Pandas does.\n        ## And there is a bug (from my point of view) whenever tables are merged with the same variables at the top level.\n        ## To prevent this we have to disallow variable reuse at top-level.\n        ## transpose, join, and re-transpose back. JOINing on rows works differently from columns and will include all items in sub-levels under the correct upper levels even if missing from the first multi-index\n        ## E.g. if Age Group &gt; 40-64 is missing from the first index it will not be appended on the end but will be alongside all its siblings so we end up with Age Group &gt; &gt;20, 20-29 30-39, 40-64, 65+\n        ## Note - variable levels (odd numbered levels if 1 is the top level) should be in the same order as they were originally\n        df_t = dfs[0].T\n        dfs_remaining = dfs[1:]\n        for df_next in dfs_remaining:\n            df_t = df_t.join(df_next.T, how='outer')\n        df = df_t.T  ## re-transpose back so cols are cols and rows are rows again\n        if self.debug: print(f\"\\nCOMBINED:\\n{df}\")\n        ## Sorting indexes\n        raw_df = get_raw_df(cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name, debug=self.debug)\n        order_rules_for_row_multi_index_branches = get_order_rules_for_multi_index_branches(self.row_variable_designs)\n        order_rules_for_col_multi_index_branches = get_order_rules_for_multi_index_branches(self.column_variable_designs)\n        ## COLS\n        unsorted_col_multi_index_list = list(df.columns)\n        sorted_col_multi_index_list = get_sorted_multi_index_list(\n            unsorted_col_multi_index_list, order_rules_for_multi_index_branches=order_rules_for_col_multi_index_branches,\n            sort_orders=self.sort_orders, raw_df=raw_df, has_metrics=True, debug=self.debug)\n        sorted_col_multi_index = pd.MultiIndex.from_tuples(sorted_col_multi_index_list)  ## https://pandas.pydata.org/docs/user_guide/advanced.html\n        ## ROWS\n        unsorted_row_multi_index_list = list(df.index)\n        sorted_row_multi_index_list = get_sorted_multi_index_list(\n            unsorted_row_multi_index_list, order_rules_for_multi_index_branches=order_rules_for_row_multi_index_branches,\n            sort_orders=self.sort_orders, raw_df=raw_df, has_metrics=False, debug=self.debug)\n        sorted_row_multi_index = pd.MultiIndex.from_tuples(sorted_row_multi_index_list)  ## https://pandas.pydata.org/docs/user_guide/advanced.html\n        df = df.reindex(index=sorted_row_multi_index, columns=sorted_col_multi_index)\n        if self.debug: print(f\"\\nORDERED:\\n{df}\")\n        return df\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        get_tbl_df_for_cur = partial(self.get_tbl_df)\n        df = get_tbl_df_for_cur(self.cur)\n        pd_styler = set_table_styles(df.style)\n        style_spec = get_style_spec(style_name=self.style_name)\n        pd_styler = apply_index_styles(df, style_spec, pd_styler, axis='rows')\n        pd_styler = apply_index_styles(df, style_spec, pd_styler, axis='columns')\n        raw_tbl_html = pd_styler.to_html()\n        if self.debug:\n            print(raw_tbl_html)\n        ## Fix\n        html = raw_tbl_html\n        html = fix_top_left_box(html, style_spec, debug=self.debug, verbose=self.verbose)\n        html = merge_cols_of_blanks(html, debug=self.debug)\n        html = merge_rows_of_blanks(html, debug=self.debug, verbose=self.verbose)\n        if self.debug:\n            print(pd_styler.uuid)\n            print(html)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.MAIN_TABLE,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#statistical-tests","title":"Statistical Tests","text":""},{"location":"API/#sofastats.output.stats.interfaces.CommonStatsDesign","title":"<code>sofastats.output.stats.interfaces.CommonStatsDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonDesign</code></p> <p>Output dataclasses for statistical tests (e.g. MannWhitneyUDesign) inherit from CommonStatsDesign.</p> Source code in <code>src/sofastats/output/stats/interfaces.py</code> <pre><code>class CommonStatsDesign(CommonDesign):\n    \"\"\"\n    Output dataclasses for statistical tests (e.g. MannWhitneyUDesign) inherit from CommonStatsDesign.\n    \"\"\"\n\n    @abstractmethod\n    def to_result(self) -&gt; Type[StatsResult]:\n        \"\"\"\n        Return a dataclass with results as attributes\n        \"\"\"\n        pass\n</code></pre>"},{"location":"API/#sofastats.output.stats.interfaces.CommonStatsDesign.to_result","title":"<code>to_result() -&gt; Type[StatsResult]</code>  <code>abstractmethod</code>","text":"<p>Return a dataclass with results as attributes</p> Source code in <code>src/sofastats/output/stats/interfaces.py</code> <pre><code>@abstractmethod\ndef to_result(self) -&gt; Type[StatsResult]:\n    \"\"\"\n    Return a dataclass with results as attributes\n    \"\"\"\n    pass\n</code></pre>"},{"location":"API/#anova","title":"ANOVA","text":"<p>See <code>CommonStatsDesign</code> for details of the <code>to_result()</code> method common to all stats output design dataclasses in sofastats.</p>"},{"location":"API/#sofastats.output.stats.anova.AnovaDesign","title":"<code>sofastats.output.stats.anova.AnovaDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonStatsDesign</code></p> <p>Parameters:</p> <ul> <li> <code>measure_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the name of the field aggregated by group - the ANOVA compares the mean value of each group. For example, 'Age'</p> </li> <li> <code>grouping_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the name of the field used to define the groups compared in the ANOVA e.g. 'Country'</p> </li> <li> <code>group_values</code>               (<code>Collection[Any]</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the ANOVA will compare the means of the groups defined by the values of the grouping field listed here e.g. ['South Korea', 'NZ', 'USA']</p> </li> <li> <code>high_precision_required</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>if <code>True</code>, the calculation will be high precision and the algorithm used will not be vulnerable to certain edge cases. Why not use it by default? Because it runs much, much, much slower and the edge cases are quite rare. The high precision algorithm uses Python's decimal data type rather than floats. Using floating point math is a pragmatic strategy, but it reduces accuracy. In particular edge cases, it can produce wildly different results from the correct results. High precision is needed to handle difficult datasets e.g. ANOVA test 9 from the NIST website. Search for articles / videos on the topic of floating point math if interested. It is a fascinating topic. If to one decimal point the high precision algorithm also multiplies some values by 10 to push from float to integer (to reduce error) and then divides squared values by 100 (10 squared) at the end in key calculations to restore to correct magnitude.</p> </li> </ul> Source code in <code>src/sofastats/output/stats/anova.py</code> <pre><code>@dataclass(frozen=False)\nclass AnovaDesign(CommonStatsDesign):\n    \"\"\"\n    Args:\n        measure_field_name: the name of the field aggregated by group - the ANOVA compares the mean value of each group.\n            For example, 'Age'\n        grouping_field_name: the name of the field used to define the groups compared in the ANOVA e.g. 'Country'\n        group_values: the ANOVA will compare the means of the groups defined\n            by the values of the grouping field listed here e.g. ['South Korea', 'NZ', 'USA']\n        high_precision_required: if `True`, the calculation will be high precision\n            and the algorithm used will not be vulnerable to certain edge cases.\n            Why not use it by default? Because it runs much, much, much slower and the edge cases are quite rare.\n            The high precision algorithm uses Python's\n            [decimal](https://docs.python.org/3/library/decimal.html) data type rather than floats.\n            Using floating point math is a pragmatic strategy, but it reduces accuracy.\n            In particular edge cases, it can produce wildly different results from the correct results.\n            High precision is needed to handle difficult datasets e.g. ANOVA test 9 from the NIST website.\n            Search for articles / videos on the topic of floating point math if interested. It is a fascinating topic.\n            If to one decimal point the high precision algorithm also multiplies some values by 10\n            to push from float to integer (to reduce error) and then divides squared values by 100 (10 squared)\n            at the end in key calculations to restore to correct magnitude.\n    \"\"\"\n    measure_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    grouping_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    group_values: Collection[Any] = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    high_precision_required: bool = False\n\n    def to_result(self) -&gt; AnovaResult:\n        ## values (sorted)\n        grouping_field_values = apply_custom_sorting_to_values(\n            variable_name=self.grouping_field_name, values=list(self.group_values), sort_orders=self.sort_orders)\n        ## data\n        grouping_val_is_numeric = all(is_numeric(x) for x in self.group_values)\n        ## build sample results ready for anova function\n        samples = []\n        for grouping_field_value in grouping_field_values:\n            grouping_filter = ValFilterSpec(variable_name=self.grouping_field_name, value=grouping_field_value,\n                val_is_numeric=grouping_val_is_numeric)\n            sample = get_sample(cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n                grouping_filt=grouping_filter, measure_field_name=self.measure_field_name,\n                table_filter_sql=self.table_filter_sql)\n            samples.append(sample)\n        stats_result = anova_stats_calc(\n            self.grouping_field_name, self.measure_field_name, samples, high=self.high_precision_required)\n        return stats_result\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        ## style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## values (sorted)\n        grouping_field_values = apply_custom_sorting_to_values(\n            variable_name=self.grouping_field_name, values=list(self.group_values), sort_orders=self.sort_orders)\n        ## data\n        grouping_val_is_numeric = all(is_numeric(x) for x in self.group_values)\n        ## build sample results ready for anova function\n        samples = []\n        for grouping_field_value in grouping_field_values:\n            grouping_filter = ValFilterSpec(variable_name=self.grouping_field_name, value=grouping_field_value,\n                val_is_numeric=grouping_val_is_numeric)\n            sample = get_sample(cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n                grouping_filt=grouping_filter, measure_field_name=self.measure_field_name,\n                table_filter_sql=self.table_filter_sql)\n            samples.append(sample)\n        ## calculations\n        stats_result = anova_stats_calc(\n            self.grouping_field_name, self.measure_field_name, samples, high=self.high_precision_required)\n        ## output\n        histograms2show = []\n        for group_spec in stats_result.group_specs:\n            try:\n                histogram_html = get_embedded_histogram_html(\n                    self.measure_field_name, style_spec.chart, group_spec.vals, group_spec.label)\n            except Exception as e:\n                html_or_msg = f\"&lt;b&gt;{group_spec.label}&lt;/b&gt; - unable to display histogram. Reason: {e}\"\n            else:\n                html_or_msg = histogram_html\n            histograms2show.append(html_or_msg)\n        result = Result(**todict(stats_result),\n            grouping_field_name=self.grouping_field_name,\n            measure_field_name=self.measure_field_name,\n            histograms2show=histograms2show,\n            decimal_points=self.decimal_points,\n        )\n        html = get_html(result, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.STATS,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#chi-square","title":"Chi Square","text":"<p>See <code>CommonStatsDesign</code> for details of the <code>to_result()</code> method common to all stats output design dataclasses in sofastats.</p>"},{"location":"API/#sofastats.output.stats.chi_square.ChiSquareDesign","title":"<code>sofastats.output.stats.chi_square.ChiSquareDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonStatsDesign</code></p> <p>Parameters:</p> <ul> <li> <code>variable_a_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the name of the first variable</p> </li> <li> <code>variable_a_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the name of the second variable</p> </li> <li> <code>show_workings</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>show the workings so you can see how the final results were derived</p> </li> </ul> Source code in <code>src/sofastats/output/stats/chi_square.py</code> <pre><code>@dataclass(frozen=False)\nclass ChiSquareDesign(CommonStatsDesign):\n    \"\"\"\n    Args:\n        variable_a_name: the name of the first variable\n        variable_a_name: the name of the second variable\n        show_workings: show the workings so you can see how the final results were derived\n    \"\"\"\n    variable_a_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    variable_b_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n\n    show_workings: bool = False\n\n    def to_result(self) -&gt; ChiSquareResult:\n        ## data\n        chi_square_data = get_chi_square_data(cur=self.cur, dbe_spec=self.dbe_spec,\n            source_table_name=self.source_table_name, table_filter_sql=self.table_filter_sql,\n            variable_a_name=self.variable_a_name, variable_b_name=self.variable_b_name,\n            sort_orders=self.sort_orders)\n        ## get results\n        stats_result = chi_square_stats_calc(\n            f_obs=chi_square_data.observed_values_a_then_b_ordered,\n            f_exp=chi_square_data.expected_values_a_then_b_ordered,\n            df=chi_square_data.degrees_of_freedom)\n        return stats_result\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        ## style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        chi_square_data = get_chi_square_data(cur=self.cur, dbe_spec=self.dbe_spec,\n            source_table_name=self.source_table_name, table_filter_sql=self.table_filter_sql,\n            variable_a_name=self.variable_a_name, variable_b_name=self.variable_b_name,\n            sort_orders=self.sort_orders)\n        ## get results\n        stats_result = chi_square_stats_calc(\n            f_obs=chi_square_data.observed_values_a_then_b_ordered,\n            f_exp=chi_square_data.expected_values_a_then_b_ordered,\n            df=chi_square_data.degrees_of_freedom)\n\n        observed_vs_expected_tbl = get_observed_vs_expected_tbl(\n            variable_a_name=self.variable_a_name, variable_b_name=self.variable_b_name,\n            variable_a_values=chi_square_data.variable_a_values, variable_b_values=chi_square_data.variable_b_values,\n            observed_values_a_then_b_ordered=chi_square_data.observed_values_a_then_b_ordered,\n            expected_values_a_then_b_ordered=chi_square_data.expected_values_a_then_b_ordered,\n            style_name_hyphens=style_spec.style_name_hyphens,\n        )\n\n        chi_square_charts = get_chi_square_charts(\n            style_spec=style_spec,\n            variable_a_name=self.variable_a_name, variable_b_name=self.variable_b_name,\n            variable_a_values=chi_square_data.variable_a_values, variable_b_values=chi_square_data.variable_b_values,\n            observed_values_a_then_b_ordered=chi_square_data.observed_values_a_then_b_ordered)\n\n        if self.show_workings:\n            worked_result = get_worked_result(\n                variable_a_values=chi_square_data.variable_a_values, variable_b_values=chi_square_data.variable_b_values,\n                observed_values_a_then_b_ordered=chi_square_data.observed_values_a_then_b_ordered,\n                degrees_of_freedom=chi_square_data.degrees_of_freedom)\n            worked_example = get_worked_example(worked_result)\n        else:\n            worked_result = None\n            worked_example = ''\n        result = Result(\n            variable_a_name=self.variable_a_name, variable_b_name=self.variable_b_name,\n            variable_a_values=chi_square_data.variable_a_values, variable_b_values=chi_square_data.variable_b_values,\n            observed_values_a_then_b_ordered=chi_square_data.observed_values_a_then_b_ordered,\n            expected_values_a_then_b_ordered=chi_square_data.expected_values_a_then_b_ordered,\n            p=stats_result.p, chi_square=stats_result.chi_square, degrees_of_freedom=chi_square_data.degrees_of_freedom,\n            minimum_cell_count=chi_square_data.minimum_cell_count, pct_cells_lt_5=chi_square_data.pct_cells_freq_under_5,\n            observed_vs_expected_tbl=observed_vs_expected_tbl, chi_square_charts=chi_square_charts,\n            worked_example=worked_example, decimal_points=self.decimal_points,\n        )\n        html = get_html(result, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.STATS,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#kruskal-wallis-h","title":"Kruskal-Wallis H","text":"<p>See <code>CommonStatsDesign</code> for details of the <code>to_result()</code> method common to all stats output design dataclasses in sofastats.</p>"},{"location":"API/#sofastats.output.stats.kruskal_wallis_h.KruskalWallisHDesign","title":"<code>sofastats.output.stats.kruskal_wallis_h.KruskalWallisHDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonStatsDesign</code></p> <p>Parameters:</p> <ul> <li> <code>measure_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the name of the field aggregated by group - the analysis compares the mean value of each group. For example, 'Age'</p> </li> <li> <code>grouping_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the name of the field used to define the groups compared in the analysis e.g. 'Country'</p> </li> <li> <code>group_values</code>               (<code>Sequence[Any]</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the analysis will compare the means of the groups defined by the values of the grouping field listed here e.g. ['South Korea', 'NZ', 'USA']</p> </li> <li> <code>show_workings</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>show the workings so you can see how the final results were derived</p> </li> </ul> Source code in <code>src/sofastats/output/stats/kruskal_wallis_h.py</code> <pre><code>@dataclass(frozen=False)\nclass KruskalWallisHDesign(CommonStatsDesign):\n    \"\"\"\n    Args:\n        measure_field_name: the name of the field aggregated by group - the analysis compares the mean value of each group.\n            For example, 'Age'\n        grouping_field_name: the name of the field used to define the groups compared in the analysis e.g. 'Country'\n        group_values: the analysis will compare the means of the groups defined\n            by the values of the grouping field listed here e.g. ['South Korea', 'NZ', 'USA']\n        show_workings: show the workings so you can see how the final results were derived\n    \"\"\"\n    measure_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    grouping_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    group_values: Sequence[Any] = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n\n    show_workings: bool = False\n\n    def to_result(self) -&gt; KruskalWallisHResult:\n        ## values (sorted)\n        grouping_field_values = apply_custom_sorting_to_values(\n            variable_name=self.grouping_field_name, values=list(self.group_values), sort_orders=self.sort_orders)\n        ## data\n        grouping_val_is_numeric = all(is_numeric(x) for x in self.group_values)\n        samples = []\n        for grouping_field_value in grouping_field_values:\n            grouping_filter = ValFilterSpec(variable_name=self.grouping_field_name, value=grouping_field_value,\n                val_is_numeric=grouping_val_is_numeric)\n            sample = get_sample(cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n                grouping_filt=grouping_filter, measure_field_name=self.measure_field_name,\n                table_filter_sql=self.table_filter_sql)\n            samples.append(sample)\n        stats_result = kruskal_wallis_h_stats_calc(samples)\n        return stats_result\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        ## style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## values (sorted)\n        grouping_field_values = apply_custom_sorting_to_values(\n            variable_name=self.grouping_field_name, values=list(self.group_values), sort_orders=self.sort_orders)\n        ## data\n        grouping_val_is_numeric = all(is_numeric(x) for x in self.group_values)\n        samples = []\n        for grouping_field_value in grouping_field_values:\n            grouping_filter = ValFilterSpec(variable_name=self.grouping_field_name, value=grouping_field_value,\n                val_is_numeric=grouping_val_is_numeric)\n            sample = get_sample(cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n                grouping_filt=grouping_filter, measure_field_name=self.measure_field_name,\n                table_filter_sql=self.table_filter_sql)\n            samples.append(sample)\n        stats_result = kruskal_wallis_h_stats_calc(samples)\n        result = Result(**todict(stats_result),\n            grouping_field_name=self.grouping_field_name,\n            measure_field_name=self.measure_field_name,\n            decimal_points=self.decimal_points,\n        )\n        html = get_html(result, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.STATS,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#mann-whitney-u","title":"Mann-Whitney U","text":"<p>See <code>CommonStatsDesign</code> for details of the <code>to_result()</code> method common to all stats output design dataclasses in sofastats.</p>"},{"location":"API/#sofastats.output.stats.mann_whitney_u.MannWhitneyUDesign","title":"<code>sofastats.output.stats.mann_whitney_u.MannWhitneyUDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonStatsDesign</code></p> <p>Parameters:</p> <ul> <li> <code>measure_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the name of the field aggregated by group - the analysis compares the mean value of each group. For example, 'Age'</p> </li> <li> <code>grouping_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the name of the field used to define the groups compared in the analysis e.g. 'Country'</p> </li> <li> <code>group_a_value</code>               (<code>Any</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the analysis will compare the ranks of this group against the ranks of the group defined by group_b_value</p> </li> <li> <code>group_b_value</code>               (<code>Any</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the analysis will compare the ranks of this group against the ranks of the group defined by group_a_value</p> </li> <li> <code>show_workings</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>show the workings so you can see how the final results were derived</p> </li> </ul> Source code in <code>src/sofastats/output/stats/mann_whitney_u.py</code> <pre><code>@dataclass(frozen=False)\nclass MannWhitneyUDesign(CommonStatsDesign):\n    \"\"\"\n    Args:\n        measure_field_name: the name of the field aggregated by group - the analysis compares the mean value of each group.\n            For example, 'Age'\n        grouping_field_name: the name of the field used to define the groups compared in the analysis e.g. 'Country'\n        group_a_value: the analysis will compare the ranks of this group\n            against the ranks of the group defined by group_b_value\n        group_b_value: the analysis will compare the ranks of this group\n            against the ranks of the group defined by group_a_value\n        show_workings: show the workings so you can see how the final results were derived\n    \"\"\"\n    measure_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    grouping_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    group_a_value: Any = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    group_b_value: Any = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n\n    show_workings: bool = False\n\n    def to_result(self) -&gt; MannWhitneyUResult:\n        ## build samples ready for mann whitney u function\n        grouping_filt_a = ValFilterSpec(variable_name=self.grouping_field_name,\n            value=self.group_a_value, val_is_numeric=is_numeric(self.group_a_value))\n        sample_a = get_sample(cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            grouping_filt=grouping_filt_a, measure_field_name=self.measure_field_name,\n            table_filter_sql=self.table_filter_sql)\n        grouping_filt_b = ValFilterSpec(variable_name=self.grouping_field_name,\n            value=self.group_b_value, val_is_numeric=is_numeric(self.group_b_value))\n        sample_b = get_sample(cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            grouping_filt=grouping_filt_b, measure_field_name=self.measure_field_name,\n            table_filter_sql=self.table_filter_sql)\n        stats_result = mann_whitney_u_stats_calc(sample_a=sample_a, sample_b=sample_b, high_volume_ok=False)\n        return stats_result\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        ## style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        ## build samples ready for mann whitney u function\n        grouping_filt_a = ValFilterSpec(variable_name=self.grouping_field_name,\n            value=self.group_a_value, val_is_numeric=is_numeric(self.group_a_value))\n        sample_a = get_sample(cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            grouping_filt=grouping_filt_a, measure_field_name=self.measure_field_name,\n            table_filter_sql=self.table_filter_sql)\n        grouping_filt_b = ValFilterSpec(variable_name=self.grouping_field_name,\n            value=self.group_b_value, val_is_numeric=is_numeric(self.group_b_value))\n        sample_b = get_sample(cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            grouping_filt=grouping_filt_b, measure_field_name=self.measure_field_name,\n            table_filter_sql=self.table_filter_sql)\n        ## get result\n        stats_result = mann_whitney_u_stats_calc(sample_a=sample_a, sample_b=sample_b, high_volume_ok=False)\n        n_a = stats_result.group_a_spec.n\n        n_b = stats_result.group_b_spec.n\n        even_matches = (n_a * n_b) / float(2)\n\n        if self.show_workings:\n            result_workings = mann_whitney_u_for_workings(sample_a=sample_a, sample_b=sample_b, high_volume_ok=False)\n            worked_example = get_worked_example(result_workings, style_spec.style_name_hyphens)\n        else:\n            worked_example = ''\n\n        result = Result(**todict(stats_result),\n            sample_a=sample_a,\n            sample_b=sample_b,\n            grouping_field_name=self.grouping_field_name,\n            measure_field_name=self.measure_field_name,\n            n_a=n_a,\n            n_b=n_b,\n            even_matches=even_matches,\n            worked_example=worked_example,\n            decimal_points=self.decimal_points,\n        )\n        html = get_html(result, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.STATS,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#normality","title":"Normality","text":"<p>See <code>CommonStatsDesign</code> for details of the <code>to_result()</code> method common to all stats output design dataclasses in sofastats.</p>"},{"location":"API/#sofastats.output.stats.normality.NormalityDesign","title":"<code>sofastats.output.stats.normality.NormalityDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonStatsDesign</code></p> <p>Parameters:</p> <ul> <li> <code>variable_a_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>if only this variable name is supplied, display the distribution and test it for normality. If another variable name is also supplied, do the same thing but for the difference between the two variables.</p> </li> <li> <code>variable_b_name</code>               (<code>str | None</code>, default:                   <code>None</code> )           \u2013            <p>if supplied, will be testing the normality of the difference between two variables rather than the normality of a variable.</p> </li> </ul> Source code in <code>src/sofastats/output/stats/normality.py</code> <pre><code>@dataclass(frozen=False)\nclass NormalityDesign(CommonStatsDesign):\n    \"\"\"\n    Args:\n        variable_a_name: if only this variable name is supplied, display the distribution and test it for normality.\n            If another variable name is also supplied, do the same thing\n            but for the difference between the two variables.\n        variable_b_name: if supplied, will be testing the normality of the difference between two variables\n            rather than the normality of a variable.\n    \"\"\"\n    variable_a_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    variable_b_name: str | None = None\n\n    def to_result(self) -&gt; NormalTestResult:\n        ## data\n        paired = self.variable_b_name is not None\n        if paired:\n            sample = get_paired_diffs_sample(\n                cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n                variable_a_name=self.variable_a_name, variable_b_name=self.variable_b_name,\n                table_filter_sql=self.table_filter_sql)\n        else:\n            sample = get_sample(cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n                measure_field_name=self.variable_a_name, grouping_filt=None, table_filter_sql=self.table_filter_sql)\n        n_vals = len(sample.vals)\n        if n_vals &lt; MIN_VALS_FOR_NORMALITY_TEST:\n            raise Exception(f\"We need at least {MIN_VALS_FOR_NORMALITY_TEST:,} values to test normality.\")\n        else:\n            stats_result = normal_test(sample.vals)\n        return stats_result\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        ## style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        paired = self.variable_b_name is not None\n        if paired:\n            data_label = f'Difference Between \"{self.variable_a_name}\" and \"{self.variable_b_name}\"'\n            sample = get_paired_diffs_sample(\n                cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n                variable_a_name=self.variable_a_name, variable_b_name=self.variable_b_name,\n                table_filter_sql=self.table_filter_sql)\n        else:\n            data_label = self.variable_a_name\n            sample = get_sample(cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n                measure_field_name=self.variable_a_name, grouping_filt=None, table_filter_sql=self.table_filter_sql)\n        title = f\"Normality Tests for {data_label}\"\n        ## message\n        n_vals = len(sample.vals)\n        if n_vals &lt; MIN_VALS_FOR_NORMALITY_TEST:\n            message = (f\"&lt;p&gt;We need at least {MIN_VALS_FOR_NORMALITY_TEST:,} values to test normality.&lt;/p&gt;\"\n            \"&lt;p&gt;Rely entirely on visual inspection of graph above.&lt;/p&gt;\")\n        else:\n            try:\n                stats_result = normal_test(sample.vals)\n            except Exception as e:\n                logger.info(f\"Unable to calculate normality. Orig error: {e}\")\n                message = \"&lt;p&gt;Unable to calculate normality tests&lt;/p&gt;\"\n            else:\n                ## skew\n                if abs(stats_result.c_skew) &lt;= 1:\n                    skew_indication = 'a great sign'\n                elif abs(stats_result.c_skew) &lt;= 2:\n                    skew_indication = 'a good sign'\n                else:\n                    skew_indication = 'not a good sign'\n                skew_msg = (f\"Skew (lopsidedness) is {round(stats_result.c_skew, self.decimal_points)} \"\n                    f\"which is probably {skew_indication}.\")\n                ## kurtosis\n                if abs(stats_result.c_kurtosis) &lt;= 1:\n                    kurtosis_indication = 'a great sign'\n                elif abs(stats_result.c_kurtosis) &lt;= 2:\n                    kurtosis_indication = 'a good sign'\n                else:\n                    kurtosis_indication = 'not a good sign'\n                kurtosis_msg = (\n                    f\"Kurtosis (peakedness or flatness) is {round(stats_result.c_kurtosis, self.decimal_points)} \"\n                    f\"which is probably {kurtosis_indication}.\")\n                ## combined\n                if n_vals &gt; N_WHERE_NORMALITY_USUALLY_FAILS_NO_MATTER_WHAT:\n                    message = (\"&lt;p&gt;Rely on visual inspection of graph to assess normality.&lt;/p&gt;\"\n                        \"&lt;p&gt;Although the data failed the ideal normality test, \"\n                        f\"most real-world data-sets with as many results ({n_vals:,}) would fail \"\n                        f\"for even slight differences from the perfect normal curve.&lt;/p&gt;\"\n                        f\"&lt;p&gt;{skew_msg}&lt;/p&gt;&lt;p&gt;{kurtosis_msg}&lt;/p&gt;\")\n                else:\n                    if stats_result.p &lt; 0.05:\n                        message = (f\"&lt;p&gt;The distribution of {data_label} passed one test for normality.&lt;/p&gt;\"\n                            f\"&lt;p&gt;Confirm or reject based on visual inspection of graph. {skew_msg} {kurtosis_msg}&lt;/p&gt;\")\n                    else:\n                        message = (f'&lt;p&gt;Although the distribution of {data_label} is not perfectly \"normal\", '\n                            f'it may still be \"normal\" enough for use. View graph to decide.&lt;/p&gt;'\n                            f\"&lt;p&gt;{skew_msg}&lt;/p&gt;&lt;/p&gt;{kurtosis_msg}&lt;/p&gt;\")\n        ## histogram\n        histogram = get_embedded_histogram_html(measure_field_label=data_label, style_spec=style_spec.chart,\n            vals=sample.vals, width_scalar=1.5, label_chart_from_var_if_needed=False)\n\n        result = Result(\n            title=title,\n            message=message,\n            histogram=histogram,\n        )\n        html = get_html(result)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.STATS,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#pearsons-r-correlation","title":"Pearson's R Correlation","text":"<p>See <code>CommonStatsDesign</code> for details of the <code>to_result()</code> method common to all stats output design dataclasses in sofastats.</p>"},{"location":"API/#sofastats.output.stats.pearsons_r.PearsonsRDesign","title":"<code>sofastats.output.stats.pearsons_r.PearsonsRDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonStatsDesign</code></p> <p>Parameters:</p> <ul> <li> <code>variable_a_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the first variable in each pair we are checking for correlation</p> </li> <li> <code>variable_b_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the second variable in each pair we are checking for correlation</p> </li> </ul> Source code in <code>src/sofastats/output/stats/pearsons_r.py</code> <pre><code>@dataclass(frozen=False)\nclass PearsonsRDesign(CommonStatsDesign):\n    \"\"\"\n    Args:\n        variable_a_name: the first variable in each pair we are checking for correlation\n        variable_b_name: the second variable in each pair we are checking for correlation\n    \"\"\"\n    variable_a_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    variable_b_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n\n    def to_result(self) -&gt; CorrelationCalcResult:\n        ## data\n        paired_data = get_paired_data(cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            variable_a_name=self.variable_a_name, variable_b_name=self.variable_b_name,\n            table_filter_sql=self.table_filter_sql)\n        stats_result = pearsonsr_stats_calc(paired_data.sample_a.vals, paired_data.sample_b.vals)\n        return stats_result\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        ## style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        paired_data = get_paired_data(cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            variable_a_name=self.variable_a_name, variable_b_name=self.variable_b_name,\n            table_filter_sql=self.table_filter_sql)\n        coords = [Coord(x=x, y=y) for x, y in zip(paired_data.sample_a.vals, paired_data.sample_b.vals, strict=True)]\n        pearsonsr_calc_result = pearsonsr_stats_calc(paired_data.sample_a.vals, paired_data.sample_b.vals)\n        regression_result = get_regression_result(xs=paired_data.sample_a.vals,ys=paired_data.sample_b.vals)\n\n        correlation_result = CorrelationResult(\n            variable_a_name=self.variable_a_name,\n            variable_b_name=self.variable_b_name,\n            coords=coords,\n            stats_result=pearsonsr_calc_result,\n            regression_result=regression_result,\n            decimal_points=self.decimal_points,\n        )\n\n        scatterplot_series = ScatterplotSeries(\n            coords=correlation_result.coords,\n            dot_color=style_spec.chart.color_mappings[0].main,\n            dot_line_color=style_spec.chart.major_grid_line_color,\n            show_regression_details=True,\n        )\n        vars_series = [scatterplot_series, ]\n        xs = correlation_result.xs\n        ys = correlation_result.ys\n        x_min, x_max = get_optimal_min_max(axis_min=min(xs), axis_max=max(xs))\n        y_min, y_max = get_optimal_min_max(axis_min=min(ys), axis_max=max(ys))\n        chart_conf = ScatterplotConf(\n            width_inches=7.5,\n            height_inches=4.0,\n            inner_background_color=style_spec.chart.plot_background_color,\n            text_color=style_spec.chart.axis_font_color,\n            x_axis_label=correlation_result.variable_a_name,\n            y_axis_label=correlation_result.variable_b_name,\n            show_dot_lines=True,\n            x_min=x_min,\n            x_max=x_max,\n            y_min=y_min,\n            y_max=y_max,\n        )\n        fig = get_scatterplot_fig(vars_series, chart_conf)\n        image_as_data = plot2image_as_data(fig)\n        scatterplot_html = f'&lt;img src=\"{image_as_data}\"/&gt;'\n\n        result = Result(**todict(correlation_result),\n            scatterplot_html=scatterplot_html,\n        )\n        html = get_html(result, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.STATS,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#spearmans-r-correlation","title":"Spearman's R Correlation","text":"<p>See <code>CommonStatsDesign</code> for details of the <code>to_result()</code> method common to all stats output design dataclasses in sofastats.</p>"},{"location":"API/#sofastats.output.stats.spearmans_r.SpearmansRDesign","title":"<code>sofastats.output.stats.spearmans_r.SpearmansRDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonStatsDesign</code></p> <p>Parameters:</p> <ul> <li> <code>variable_a_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the first variable in each pair we are checking for correlation</p> </li> <li> <code>variable_b_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the second variable in each pair we are checking for correlation</p> </li> <li> <code>show_workings</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>show the workings so you can see how the final results were derived</p> </li> <li> <code>high_volume_ok</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>the algorithm is more expensive than those which can make parametric assumptions so we need to stop people unknowingly starting very slow operations. This setting has no impact if the number of records is less than MAX_RANK_DATA_VALS (currently 50,000 records). If set to <code>False</code>, an exception is raised if the code is being asked to operate on an amount of data which will make it run very slowly. If <code>True</code>, the operation is allowed to proceed  but a message tells the user they can expect the process to take a fairly long time  (so they don't terminate early on the assumption that something has gone wrong the analysis  is never going to finish).</p> </li> </ul> Source code in <code>src/sofastats/output/stats/spearmans_r.py</code> <pre><code>@dataclass(frozen=False)\nclass SpearmansRDesign(CommonStatsDesign):\n    \"\"\"\n    Args:\n        variable_a_name: the first variable in each pair we are checking for correlation\n        variable_b_name: the second variable in each pair we are checking for correlation\n        show_workings: show the workings so you can see how the final results were derived\n        high_volume_ok: the algorithm is more expensive than those which can make\n            parametric assumptions so we need to stop people unknowingly starting very slow operations.\n            This setting has no impact if the number of records is less than MAX_RANK_DATA_VALS\n            (currently 50,000 records). If set to `False`, an exception is raised if the code is being asked to operate\n            on an amount of data which will make it run very slowly. If `True`, the operation is allowed to proceed\n             but a message tells the user they can expect the process to take a fairly long time\n             (so they don't terminate early on the assumption that something has gone wrong the analysis\n             is never going to finish).\n    \"\"\"\n    variable_a_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    variable_b_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n\n    show_workings: bool = False\n    high_volume_ok: bool = False\n\n    def to_result(self) -&gt; CorrelationCalcResult:\n        ## data\n        paired_data = get_paired_data(cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            variable_a_name=self.variable_a_name, variable_b_name=self.variable_b_name,\n            table_filter_sql=self.table_filter_sql)\n        stats_result = spearmansr_stats_calc(paired_data.sample_a.vals, paired_data.sample_b.vals)\n        return stats_result\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        ## style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        paired_data = get_paired_data(cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            variable_a_name=self.variable_a_name, variable_b_name=self.variable_b_name,\n            table_filter_sql=self.table_filter_sql)\n        coords = [Coord(x=x, y=y) for x, y in zip(paired_data.sample_a.vals, paired_data.sample_b.vals, strict=True)]\n        pearsonsr_calc_result = spearmansr_stats_calc(paired_data.sample_a.vals, paired_data.sample_b.vals,\n            high_volume_ok=self.high_volume_ok)\n        regression_result = get_regression_result(xs=paired_data.sample_a.vals,ys=paired_data.sample_b.vals)\n\n        if self.show_workings:\n            worked_result = get_worked_result(\n                variable_a_values=paired_data.sample_a.vals,\n                variable_b_values=paired_data.sample_b.vals,\n            )\n        else:\n            worked_result = None\n\n        correlation_result = CorrelationResult(\n            variable_a_name=self.variable_a_name,\n            variable_b_name=self.variable_b_name,\n            coords=coords,\n            stats_result=pearsonsr_calc_result,\n            regression_result=regression_result,\n            worked_result=worked_result,\n            decimal_points=self.decimal_points,\n        )\n\n        worked_example = (\n            get_worked_example(correlation_result, style_spec.style_name_hyphens) if self.show_workings else '')\n\n        scatterplot_series = ScatterplotSeries(\n            coords=coords,\n            dot_color=style_spec.chart.color_mappings[0].main,\n            dot_line_color=style_spec.chart.major_grid_line_color,\n            show_regression_details=True,\n        )\n        vars_series = [scatterplot_series, ]\n        xs = correlation_result.xs\n        ys = correlation_result.ys\n        x_min, x_max = get_optimal_min_max(axis_min=min(xs), axis_max=max(xs))\n        y_min, y_max = get_optimal_min_max(axis_min=min(ys), axis_max=max(ys))\n        chart_conf = ScatterplotConf(\n            width_inches=7.5,\n            height_inches=4.0,\n            inner_background_color=style_spec.chart.plot_background_color,\n            text_color=style_spec.chart.axis_font_color,\n            x_axis_label=self.variable_a_name,\n            y_axis_label=self.variable_b_name,\n            show_dot_lines=True,\n            x_min=x_min,\n            x_max=x_max,\n            y_min=y_min,\n            y_max=y_max,\n        )\n        fig = get_scatterplot_fig(vars_series, chart_conf)\n        image_as_data = plot2image_as_data(fig)\n        scatterplot_html = f'&lt;img src=\"{image_as_data}\"/&gt;'\n\n        result = Result(**todict(correlation_result),\n            scatterplot_html=scatterplot_html,\n            worked_example=worked_example,\n        )\n        html = get_html(result, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.STATS,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#independent-samples-t-test","title":"Independent Samples T-Test","text":"<p>See <code>CommonStatsDesign</code> for details of the <code>to_result()</code> method common to all stats output design dataclasses in sofastats.</p>"},{"location":"API/#sofastats.output.stats.ttest_indep.TTestIndepDesign","title":"<code>sofastats.output.stats.ttest_indep.TTestIndepDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonStatsDesign</code></p> <p>Parameters:</p> <ul> <li> <code>measure_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the name of the field aggregated by group - the analysis compares the mean value of each group. For example, 'Age'</p> </li> <li> <code>grouping_field_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the name of the field used to define the groups compared in the analysis e.g. 'Country'</p> </li> <li> <code>group_a_value</code>               (<code>Any</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the analysis will compare the mean value for this group against the mean value of the group defined by group_b_value</p> </li> <li> <code>group_b_value</code>               (<code>Any</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the analysis will compare the mean value of this group against the mean value of the group defined by group_a_value</p> </li> </ul> Source code in <code>src/sofastats/output/stats/ttest_indep.py</code> <pre><code>@dataclass(frozen=False)\nclass TTestIndepDesign(CommonStatsDesign):\n    \"\"\"\n    Args:\n        measure_field_name: the name of the field aggregated by group - the analysis compares the mean value of each group.\n            For example, 'Age'\n        grouping_field_name: the name of the field used to define the groups compared in the analysis e.g. 'Country'\n        group_a_value: the analysis will compare the mean value for this group\n            against the mean value of the group defined by group_b_value\n        group_b_value: the analysis will compare the mean value of this group\n            against the mean value of the group defined by group_a_value\n    \"\"\"\n    measure_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    grouping_field_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    group_a_value: Any = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    group_b_value: Any = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n\n    def to_result(self) -&gt; TTestIndepResult:\n        ## data\n        ## build samples ready for ttest_indep function\n        grouping_filt_a = ValFilterSpec(variable_name=self.grouping_field_name,\n            value=self.group_a_value, val_is_numeric=is_numeric(self.group_a_value))\n        sample_a = get_sample(cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            grouping_filt=grouping_filt_a, measure_field_name=self.measure_field_name,\n            table_filter_sql=self.table_filter_sql)\n        grouping_filt_b = ValFilterSpec(variable_name=self.grouping_field_name,\n            value=self.group_b_value, val_is_numeric=is_numeric(self.group_b_value))\n        sample_b = get_sample(cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            grouping_filt=grouping_filt_b, measure_field_name=self.measure_field_name,\n            table_filter_sql=self.table_filter_sql)\n        ## get result\n        stats_result = ttest_indep_stats_calc(sample_a, sample_b)\n        return stats_result\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        ## style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        ## build samples ready for ttest_indep function\n        grouping_filt_a = ValFilterSpec(variable_name=self.grouping_field_name,\n            value=self.group_a_value, val_is_numeric=is_numeric(self.group_a_value))\n        sample_a = get_sample(cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            grouping_filt=grouping_filt_a, measure_field_name=self.measure_field_name,\n            table_filter_sql=self.table_filter_sql)\n        grouping_filt_b = ValFilterSpec(variable_name=self.grouping_field_name,\n            value=self.group_b_value, val_is_numeric=is_numeric(self.group_b_value))\n        sample_b = get_sample(cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            grouping_filt=grouping_filt_b, measure_field_name=self.measure_field_name,\n            table_filter_sql=self.table_filter_sql)\n        ## get result\n        stats_result = ttest_indep_stats_calc(sample_a, sample_b)\n\n        mpl_pngs.set_gen_mpl_settings(axes_label_size=10, xtick_label_size=8, ytick_label_size=8)\n        histograms2show = []\n        for group_spec in [stats_result.group_a_spec, stats_result.group_b_spec]:\n            try:\n                histogram_html = get_embedded_histogram_html(\n                    self.measure_field_name, style_spec.chart, group_spec.vals, group_spec.label)\n            except Exception as e:\n                html_or_msg = f\"&lt;b&gt;{group_spec.label}&lt;/b&gt; - unable to display histogram. Reason: {e}\"\n            else:\n                html_or_msg = histogram_html\n            histograms2show.append(html_or_msg)\n\n        result = Result(**todict(stats_result),\n            grouping_field_name=self.grouping_field_name,\n            measure_field_name=self.measure_field_name,\n            histograms2show=histograms2show,\n            decimal_points=self.decimal_points,\n        )\n        html = get_html(result, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.STATS,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"API/#wilcoxon-signed-ranks","title":"Wilcoxon Signed Ranks","text":"<p>See <code>CommonStatsDesign</code> for details of the <code>to_result()</code> method common to all stats output design dataclasses in sofastats.</p>"},{"location":"API/#sofastats.output.stats.wilcoxon_signed_ranks.WilcoxonSignedRanksDesign","title":"<code>sofastats.output.stats.wilcoxon_signed_ranks.WilcoxonSignedRanksDesign</code>  <code>dataclass</code>","text":"<p>               Bases: <code>CommonStatsDesign</code></p> <p>Parameters:</p> <ul> <li> <code>variable_a_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the first variable in each pair we are checking for a difference</p> </li> <li> <code>variable_b_name</code>               (<code>str</code>, default:                   <code>DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY</code> )           \u2013            <p>the second variable in each pair we are checking for a difference</p> </li> <li> <code>show_workings</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>show the workings so you can see how the final results were derived</p> </li> </ul> Source code in <code>src/sofastats/output/stats/wilcoxon_signed_ranks.py</code> <pre><code>@dataclass(frozen=False)\nclass WilcoxonSignedRanksDesign(CommonStatsDesign):\n    \"\"\"\n    Args:\n        variable_a_name: the first variable in each pair we are checking for a difference\n        variable_b_name: the second variable in each pair we are checking for a difference\n        show_workings: show the workings so you can see how the final results were derived\n    \"\"\"\n    variable_a_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n    variable_b_name: str = DEFAULT_SUPPLIED_BUT_MANDATORY_ANYWAY\n\n    show_workings: bool = False\n\n    def to_result(self) -&gt; WilcoxonSignedRanksResult:\n        ## data\n        paired_data = get_paired_data(cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            variable_a_name=self.variable_a_name, variable_b_name=self.variable_b_name,\n            table_filter_sql=self.table_filter_sql)\n        stats_result = wilcoxon_signed_ranks_stats_calc(\n            sample_a=paired_data.sample_a, sample_b=paired_data.sample_b, high_volume_ok=False)\n        return stats_result\n\n    def to_html_design(self) -&gt; HTMLItemSpec:\n        ## style\n        style_spec = get_style_spec(style_name=self.style_name)\n        ## data\n        paired_data = get_paired_data(cur=self.cur, dbe_spec=self.dbe_spec, source_table_name=self.source_table_name,\n            variable_a_name=self.variable_a_name, variable_b_name=self.variable_b_name,\n            table_filter_sql=self.table_filter_sql)\n        stats_result = wilcoxon_signed_ranks_stats_calc(\n            sample_a=paired_data.sample_a, sample_b=paired_data.sample_b, high_volume_ok=False)\n\n        if self.show_workings:\n            result_workings = wilcoxon_signed_ranks_for_workings(\n                sample_a=paired_data.sample_a, sample_b=paired_data.sample_b,\n                label_a=self.variable_a_name, label_b=self.variable_b_name)\n            worked_example = get_worked_example(result_workings, style_spec.style_name_hyphens)\n        else:\n            worked_example = ''\n\n        result = Result(**todict(stats_result),\n            worked_example=worked_example,\n            decimal_points=self.decimal_points,\n        )\n        html = get_html(result, style_spec)\n        return HTMLItemSpec(\n            html_item_str=html,\n            output_item_type=OutputItemType.STATS,\n            output_title=self.output_title,\n            design_name=self.__class__.__name__,\n            style_name=self.style_name,\n        )\n</code></pre>"},{"location":"styles/","title":"Making Custom Styles","text":"<p>You can make custom styles which can be applied to your output.</p> <p>For example, you could make a retro80s style and use that in your design definitions like:</p> <pre><code>style_name='retro80s',\n</code></pre> <p>To make a custom style, copy an existing style YAML file, and change the colours. You might also want to change the background image / colour for the table space-holder.</p> <p>After you put the style YAML file where <code>sofastats_lib</code> expects to find it, the style will be available to use. For example:</p> <p><code>/path/to/Documents/sofastats/custom_styles/retro80s.yaml</code></p>"},{"location":"styles/#configuring-yaml-files","title":"Configuring YAML files","text":"<p>Each style is defined by a YAML file. E.g. retro80s.yaml would define the 'retro80s' style. YAML is a simple layout for settings.</p> <p>Style YAML files have the following structure:</p> <ul> <li>Variables e.g. colours given names to make the settings below easier to understand and for use for multiple settings</li> <li>Chart style settings</li> <li>Report Table style settings</li> <li>Statistics Table style settings</li> </ul>"},{"location":"styles/#naming-colours","title":"Naming Colours","text":"<p>A big benefit of giving colours names is that it is more readable and easier to sanity check the settings. They can also be defined once and used multiple times throughout the settings. For example:</p> <pre><code># VARIABLES - the variable name is arbitrary as long as it's unique\n\ncolor_variable_1: &amp;sofastats_blue '#3766a1'\ncolor_variable_2: &amp;sofastats_blue_faded '#5a84b8'\n\n...\n\n# Report Tables\n...\n\ntop_left_table_space_holder_background_color: *sofastats_blue\n\nitem_1_main_color: *sofastats_blue\nitem_1_hover_color: *sofastats_blue_faded\n</code></pre> <p>Setting a variable for tool-tips and the optional background image has the advantage of reducing the clutter and complexity of the actual settings.</p> <p>Some gotchas:</p> <ul> <li>Don't forget the leading hash: <code>'#ff0000'</code> will work but <code>'ff0000'</code> won't</li> <li>Don't forget the asterisk when using a variable later, and don't quote references   - so <code>*sofastats_blue</code> will work but <code>sofastats_blue</code> or <code>'sofastats_blue'</code> will not</li> </ul>"},{"location":"styles/#hover-colours","title":"Hover Colours","text":"<p>When a bar, for example, is hovered over by the mouse, the bar moves slightly and its colour changes. If you defined a hover_color then this is the colour the bar will temporarily display. If you don't, a default highlight function will automatically decide on a suitable hover color. </p>"},{"location":"styles/#example-chart-settings","title":"Example Chart Settings","text":""},{"location":"styles/#style-1","title":"Style 1","text":"<pre><code># Charts\n\nchart_background_color: *white\nchart_title_font_color: *black_brown\n\nplot_background_color: *light_gray_blue\nplot_font_color: *black_brown\n\naxis_font_color: *black_brown\n\nmajor_grid_line_color: *mid_gray_brown\ngrid_line_width: '1'\nborder_width: '1'\nborder_color: 'white'\n\ntool_tip_border_color: *charcoal_brown\nnormal_curve_color: *black_brown\n\nitem_1_main_color: *burnt_orange\nitem_1_hover_color: *orange\nitem_2_main_color: *yorange\nitem_2_hover_color: *pale_yorange\nitem_3_main_color: *blue_turquoise\nitem_3_hover_color: *turquoise\nitem_4_main_color: *dark_green\nitem_4_hover_color: *green\nitem_5_main_color: *off_scarlet\nitem_5_hover_color: *pale_scarlet\n</code></pre>"},{"location":"styles/#style-2","title":"Style 2","text":"<pre><code># Charts\n\nchart_background_color: '#d1d1d1'\nchart_title_font_color: '#4c547c'\n\nplot_background_color: 'black'\nplot_font_color: 'white'\n\naxis_font_color: '#000000'\n\nmajor_grid_line_color: '#a6a6a6'\ngrid_line_width: '1'\nborder_width: '1'\nborder_color: '#a0a0a0'\n\ntool_tip_border_color: '#6ecadf'\nnormal_curve_color: '#4c547c'\n\nitem_1_main_color: '#f7afb6'\nitem_1_hover_color: '#e18891'\nitem_2_main_color: '#f7d8b3'\nitem_2_hover_color: '#dfb889'\nitem_3_main_color: '#f7f7b6'\nitem_3_hover_color: '#e3e38e'\nitem_4_main_color: '#b4f7c3'\nitem_4_hover_color: '#90e0a2'\n</code></pre>"},{"location":"styles/#creating-embeddable-portable-images","title":"Creating Embeddable / Portable Images","text":"<p>You will need to convert your background and tool-tip images into base-64 encoded string. You can then give them a name and refer to them elsewhere in the same YAML file.</p> <p>This is entirely optional - you only need to create the base-64 encoded strings if you want a background image or want different tool-tips from those supplied in the different built-in styles.</p> <p><pre><code>top_left_table_space_holder_background_image: \"data:image/gif;base64,R0lGODl...A7\"  ## image converted to base64 - see below\n</code></pre> Here's how you get the required string.</p> <pre><code>import base64\n\nimage_file_path = '/path/to/image.png'\nbinary_fc = open(image_file_path, 'rb').read()  ## fc a.k.a. file_content\nimg_base64 = base64.b64encode(binary_fc).decode('utf-8')\nprint(f'\"data:image/gif;base64,{img_base64}\"')\n</code></pre>"},{"location":"styles/#chart-tool-tips","title":"Chart Tool-Tips","text":"<p>Tool-tips show over items when the mouse if moved over them. The colour of the main border of the tool-tip is defined by <code>tool_tip_border_color</code>. Small pointers show alongside the bordered box depending on which direction the tool-tip connects from.</p> <p> </p> <p>These pointers are defined by small images defined as pointers. The images used should have the same colour as the bordered box. The pointer image below works nicely with a blue tool-tip colour style.</p> <p></p> <pre><code>tool_tip_border_color: \n\ntool_tip_1: &amp;tool_tip_up \"data:image/gif;base64,R0lGOD...QADs=\"\ntool_tip_2: &amp;tool_tip_down \"data:image/gif;base64,R0lGOD...RADs=\"\ntool_tip_3: &amp;tool_tip_left \"data:image/gif;base64,R0lGOD...AOw==\"\ntool_tip_4: &amp;tool_tip_right \"data:image/gif;base64,R0lGOD...AOw==\"\n\n...\n\nconnector_style: 'paleblue'\ntool_tip_connector_up: *tool_tip_up\ntool_tip_connector_down: *tool_tip_down\ntool_tip_connector_left: *tool_tip_left\ntool_tip_connector_right: *tool_tip_right\n</code></pre>"},{"location":"styles/#example-report-table-settings","title":"Example Report Table Settings","text":"<p>Don't worry if you don't like the red background colour in the table place-holder, it is easily changed. Which is the point of customisable styles - you can make whatever you want.</p>"},{"location":"styles/#style-1_1","title":"Style 1","text":"<p><pre><code># Report Tables\n\ntop_left_table_space_holder_background_color: ''\ntop_left_table_space_holder_background_image: \"data:image/gif;base64,R0lGODl...A7\"  ## image converted to base64 - see below\n\nfirst_level_variable_font_color: *white\nfirst_level_variable_background_color: *black_blue\nfirst_level_variable_border_color: *charcoal_blue\n\nvariable_font_color_other_levels: *black_blue\nvariable_background_color_other_levels: *light_gray\nvariable_border_color_other_levels: *mid_gray\n</code></pre> </p>"},{"location":"styles/#style-2_1","title":"Style 2","text":"<pre><code># Report Tables\n\ntop_left_table_space_holder_background_color: '#ccd9d7'\ntop_left_table_space_holder_background_image: ''\n\nfirst_level_variable_font_color: *white\nfirst_level_variable_background_color: *black_blue\nfirst_level_variable_border_color: *charcoal_blue\n\nvariable_font_color_other_levels: *black_blue\nvariable_background_color_other_levels: *light_gray\nvariable_border_color_other_levels: *mid_gray\n</code></pre>"},{"location":"styles/#example-statistics-table-settings","title":"Example Statistics Table Settings","text":""},{"location":"styles/#style-1_2","title":"Style 1","text":"<p>Statistical reports use standard report table settings as well as settings specific to statistical tests.</p> <pre><code># Report Tables\n\ntop_left_table_space_holder_background_color: *gray_blue\ntop_left_table_space_holder_background_image: *background_image\n\nfirst_level_variable_font_color: *white\nfirst_level_variable_background_color: *black_blue\nfirst_level_variable_border_color: *darker_mid_gray\n\nvariable_font_color_other_levels: *black_blue\nvariable_background_color_other_levels: *light_gray\nvariable_border_color_other_levels: *mid_gray\n\n# Statistical Test Tables\n\nheading_footnote_font_color: *white\nfootnote_font_color: *black\n</code></pre> <p></p>"},{"location":"styles/#style-2_2","title":"Style 2","text":"<pre><code># Report Tables\n\ntop_left_table_space_holder_background_color: 'black'\ntop_left_table_space_holder_background_image: *background_image\n\nfirst_level_variable_font_color: 'white'\nfirst_level_variable_background_color: 'black'\nfirst_level_variable_border_color: *darker_mid_gray\n\nvariable_font_color_other_levels: 'black'\nvariable_background_color_other_levels: *pale_blue\nvariable_border_color_other_levels: *less_pale_blue\n\n# Statistical Test Tables\n\nheading_footnote_font_color: 'white'\nfootnote_font_color: 'black'\n</code></pre>"}]}